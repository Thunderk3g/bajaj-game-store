import{r as p,j as c}from"./index-BxdyJUlO.js";function Vo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const wn=p.createContext({});function Tn(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ci=typeof window<"u",Ni=Ci?p.useLayoutEffect:p.useEffect,vt=p.createContext(null);function Sn(e,t){e.indexOf(t)===-1&&e.push(t)}function dt(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ce=(e,t,n)=>n>t?t:n<e?e:n;let kn=()=>{};const de={},Mi=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Ri(e){return typeof e=="object"&&e!==null}const Di=e=>/^0[^.\s]+$/u.test(e);function Li(e){let t;return()=>(t===void 0&&(t=e()),t)}const Q=e=>e,Io=(e,t)=>n=>t(e(n)),Xe=(...e)=>e.reduce(Io),Ue=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class En{constructor(){this.subscriptions=[]}add(t){return Sn(this.subscriptions,t),()=>dt(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const se=e=>e*1e3,J=e=>e/1e3;function Vi(e,t){return t?e*(1e3/t):0}const Ii=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,_o=1e-7,Bo=12;function Fo(e,t,n,s,i){let r,o,a=0;do o=t+(n-t)/2,r=Ii(o,s,i)-e,r>0?n=o:t=o;while(Math.abs(r)>_o&&++a<Bo);return o}function qe(e,t,n,s){if(e===t&&n===s)return Q;const i=r=>Fo(r,0,1,e,n);return r=>r===0||r===1?r:Ii(i(r),t,s)}const _i=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Bi=e=>t=>1-e(1-t),Fi=qe(.33,1.53,.69,.99),jn=Bi(Fi),Oi=_i(jn),Wi=e=>(e*=2)<1?.5*jn(e):.5*(2-Math.pow(2,-10*(e-1))),Pn=e=>1-Math.sin(Math.acos(e)),Gi=Bi(Pn),Ui=_i(Pn),Oo=qe(.42,0,1,1),Wo=qe(0,0,.58,1),$i=qe(.42,0,.58,1),Go=e=>Array.isArray(e)&&typeof e[0]!="number",zi=e=>Array.isArray(e)&&typeof e[0]=="number",Uo={linear:Q,easeIn:Oo,easeInOut:$i,easeOut:Wo,circIn:Pn,circInOut:Ui,circOut:Gi,backIn:jn,backInOut:Oi,backOut:Fi,anticipate:Wi},$o=e=>typeof e=="string",Qn=e=>{if(zi(e)){kn(e.length===4);const[t,n,s,i]=e;return qe(t,n,s,i)}else if($o(e))return Uo[e];return e},Qe=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function zo(e,t){let n=new Set,s=new Set,i=!1,r=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(u.schedule(d),e()),d(a)}const u={schedule:(d,h=!1,f=!1)=>{const g=f&&i?n:s;return h&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(a=d,i){r=!0;return}i=!0,[n,s]=[s,n],n.forEach(l),n.clear(),i=!1,r&&(r=!1,u.process(d))}};return u}const Ho=40;function Hi(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=Qe.reduce((x,S)=>(x[S]=zo(r),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:g}=o,y=()=>{const x=de.useManualTiming?i.timestamp:performance.now();n=!1,de.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(x-i.timestamp,Ho),1)),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),h.process(i),f.process(i),m.process(i),g.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(y))},b=()=>{n=!0,s=!0,i.isProcessing||e(y)};return{schedule:Qe.reduce((x,S)=>{const k=o[S];return x[S]=(j,P=!1,v=!1)=>(n||b(),k.schedule(j,P,v)),x},{}),cancel:x=>{for(let S=0;S<Qe.length;S++)o[Qe[S]].cancel(x)},state:i,steps:o}}const{schedule:V,cancel:pe,state:z,steps:jt}=Hi(typeof requestAnimationFrame<"u"?requestAnimationFrame:Q,!0);let st;function Yo(){st=void 0}const K={now:()=>(st===void 0&&K.set(z.isProcessing||de.useManualTiming?z.timestamp:performance.now()),st),set:e=>{st=e,queueMicrotask(Yo)}},Yi=e=>t=>typeof t=="string"&&t.startsWith(e),Ki=Yi("--"),Ko=Yi("var(--"),An=e=>Ko(e)?Xo.test(e.split("/*")[0].trim()):!1,Xo=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function es(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Me={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$e={...Me,transform:e=>ce(0,1,e)},et={...Me,default:1},Be=e=>Math.round(e*1e5)/1e5,Cn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qo(e){return e==null}const Zo=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nn=(e,t)=>n=>!!(typeof n=="string"&&Zo.test(n)&&n.startsWith(e)||t&&!qo(n)&&Object.prototype.hasOwnProperty.call(n,t)),Xi=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,r,o,a]=s.match(Cn);return{[e]:parseFloat(i),[t]:parseFloat(r),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Jo=e=>ce(0,255,e),Pt={...Me,transform:e=>Math.round(Jo(e))},be={test:Nn("rgb","red"),parse:Xi("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Pt.transform(e)+", "+Pt.transform(t)+", "+Pt.transform(n)+", "+Be($e.transform(s))+")"};function Qo(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Yt={test:Nn("#"),parse:Qo,transform:be.transform},Ze=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),he=Ze("deg"),le=Ze("%"),A=Ze("px"),ea=Ze("vh"),ta=Ze("vw"),ts={...le,parse:e=>le.parse(e)/100,transform:e=>le.transform(e*100)},ke={test:Nn("hsl","hue"),parse:Xi("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+le.transform(Be(t))+", "+le.transform(Be(n))+", "+Be($e.transform(s))+")"},W={test:e=>be.test(e)||Yt.test(e)||ke.test(e),parse:e=>be.test(e)?be.parse(e):ke.test(e)?ke.parse(e):Yt.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?be.transform(e):ke.transform(e),getAnimatableNone:e=>{const t=W.parse(e);return t.alpha=0,W.transform(t)}},na=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sa(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Cn))==null?void 0:t.length)||0)+(((n=e.match(na))==null?void 0:n.length)||0)>0}const qi="number",Zi="color",ia="var",ra="var(",ns="${}",oa=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ze(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let r=0;const a=t.replace(oa,l=>(W.test(l)?(s.color.push(r),i.push(Zi),n.push(W.parse(l))):l.startsWith(ra)?(s.var.push(r),i.push(ia),n.push(l)):(s.number.push(r),i.push(qi),n.push(parseFloat(l))),++r,ns)).split(ns);return{values:n,split:a,indexes:s,types:i}}function Ji(e){return ze(e).values}function Qi(e){const{split:t,types:n}=ze(e),s=t.length;return i=>{let r="";for(let o=0;o<s;o++)if(r+=t[o],i[o]!==void 0){const a=n[o];a===qi?r+=Be(i[o]):a===Zi?r+=W.transform(i[o]):r+=i[o]}return r}}const aa=e=>typeof e=="number"?0:W.test(e)?W.getAnimatableNone(e):e;function la(e){const t=Ji(e);return Qi(e)(t.map(aa))}const ie={test:sa,parse:Ji,createTransformer:Qi,getAnimatableNone:la};function At(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ca({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,r=0,o=0;if(!t)i=r=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=At(l,a,e+1/3),r=At(l,a,e),o=At(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:s}}function ht(e,t){return n=>n>0?t:e}const I=(e,t,n)=>e+(t-e)*n,Ct=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},ua=[Yt,be,ke],da=e=>ua.find(t=>t.test(e));function ss(e){const t=da(e);if(!t)return!1;let n=t.parse(e);return t===ke&&(n=ca(n)),n}const is=(e,t)=>{const n=ss(e),s=ss(t);if(!n||!s)return ht(e,t);const i={...n};return r=>(i.red=Ct(n.red,s.red,r),i.green=Ct(n.green,s.green,r),i.blue=Ct(n.blue,s.blue,r),i.alpha=I(n.alpha,s.alpha,r),be.transform(i))},Kt=new Set(["none","hidden"]);function ha(e,t){return Kt.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function fa(e,t){return n=>I(e,t,n)}function Mn(e){return typeof e=="number"?fa:typeof e=="string"?An(e)?ht:W.test(e)?is:ga:Array.isArray(e)?er:typeof e=="object"?W.test(e)?is:ma:ht}function er(e,t){const n=[...e],s=n.length,i=e.map((r,o)=>Mn(r)(r,t[o]));return r=>{for(let o=0;o<s;o++)n[o]=i[o](r);return n}}function ma(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=Mn(e[i])(e[i],t[i]));return i=>{for(const r in s)n[r]=s[r](i);return n}}function pa(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const r=t.types[i],o=e.indexes[r][s[r]],a=e.values[o]??0;n[i]=a,s[r]++}return n}const ga=(e,t)=>{const n=ie.createTransformer(t),s=ze(e),i=ze(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Kt.has(e)&&!i.values.length||Kt.has(t)&&!s.values.length?ha(e,t):Xe(er(pa(s,i),i.values),n):ht(e,t)};function tr(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?I(e,t,n):Mn(e)(e,t)}const xa=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>V.update(t,n),stop:()=>pe(t),now:()=>z.isProcessing?z.timestamp:K.now()}},nr=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let r=0;r<i;r++)s+=Math.round(e(r/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ft=2e4;function Rn(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<ft;)t+=n,s=e.next(t);return t>=ft?1/0:t}function ya(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(Rn(s),ft);return{type:"keyframes",ease:r=>s.next(i*r).value/t,duration:J(i)}}const ba=5;function sr(e,t,n){const s=Math.max(t-ba,0);return Vi(n-e(s),t-s)}const B={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nt=.001;function va({duration:e=B.duration,bounce:t=B.bounce,velocity:n=B.velocity,mass:s=B.mass}){let i,r,o=1-t;o=ce(B.minDamping,B.maxDamping,o),e=ce(B.minDuration,B.maxDuration,J(e)),o<1?(i=u=>{const d=u*o,h=d*e,f=d-n,m=Xt(u,o),g=Math.exp(-h);return Nt-f/m*g},r=u=>{const h=u*o*e,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-h),y=Xt(Math.pow(u,2),o);return(-i(u)+Nt>0?-1:1)*((f-m)*g)/y}):(i=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Nt+d*h},r=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,l=Ta(i,r,a);if(e=se(e),isNaN(l))return{stiffness:B.stiffness,damping:B.damping,duration:e};{const u=Math.pow(l,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const wa=12;function Ta(e,t,n){let s=n;for(let i=1;i<wa;i++)s=s-e(s)/t(s);return s}function Xt(e,t){return e*Math.sqrt(1-t*t)}const Sa=["duration","bounce"],ka=["stiffness","damping","mass"];function rs(e,t){return t.some(n=>e[n]!==void 0)}function Ea(e){let t={velocity:B.velocity,stiffness:B.stiffness,damping:B.damping,mass:B.mass,isResolvedFromDuration:!1,...e};if(!rs(e,ka)&&rs(e,Sa))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,r=2*ce(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:B.mass,stiffness:i,damping:r}}else{const n=va(e);t={...t,...n,mass:B.mass},t.isResolvedFromDuration=!0}return t}function mt(e=B.visualDuration,t=B.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const r=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=Ea({...n,velocity:-J(n.velocity||0)}),g=f||0,y=u/(2*Math.sqrt(l*d)),b=o-r,T=J(Math.sqrt(l/d)),w=Math.abs(b)<5;s||(s=w?B.restSpeed.granular:B.restSpeed.default),i||(i=w?B.restDelta.granular:B.restDelta.default);let x;if(y<1){const k=Xt(T,y);x=j=>{const P=Math.exp(-y*T*j);return o-P*((g+y*T*b)/k*Math.sin(k*j)+b*Math.cos(k*j))}}else if(y===1)x=k=>o-Math.exp(-T*k)*(b+(g+T*b)*k);else{const k=T*Math.sqrt(y*y-1);x=j=>{const P=Math.exp(-y*T*j),v=Math.min(k*j,300);return o-P*((g+y*T*b)*Math.sinh(v)+k*b*Math.cosh(v))/k}}const S={calculatedDuration:m&&h||null,next:k=>{const j=x(k);if(m)a.done=k>=h;else{let P=k===0?g:0;y<1&&(P=k===0?se(g):sr(x,k,j));const v=Math.abs(P)<=s,E=Math.abs(o-j)<=i;a.done=v&&E}return a.value=a.done?o:j,a},toString:()=>{const k=Math.min(Rn(S),ft),j=nr(P=>S.next(k*P).value,k,30);return k+"ms "+j},toTransition:()=>{}};return S}mt.applyToOptions=e=>{const t=ya(e,100,mt);return e.ease=t.ease,e.duration=se(t.duration),e.type="keyframes",e};function qt({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=v=>a!==void 0&&v<a||l!==void 0&&v>l,g=v=>a===void 0?l:l===void 0||Math.abs(a-v)<Math.abs(l-v)?a:l;let y=n*t;const b=h+y,T=o===void 0?b:o(b);T!==b&&(y=T-h);const w=v=>-y*Math.exp(-v/s),x=v=>T+w(v),S=v=>{const E=w(v),C=x(v);f.done=Math.abs(E)<=u,f.value=f.done?T:C};let k,j;const P=v=>{m(f.value)&&(k=v,j=mt({keyframes:[f.value,g(f.value)],velocity:sr(x,v,f.value),damping:i,stiffness:r,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:v=>{let E=!1;return!j&&k===void 0&&(E=!0,S(v),P(v)),k!==void 0&&v>=k?j.next(v-k):(!E&&S(v),f)}}}function ja(e,t,n){const s=[],i=n||de.mix||tr,r=e.length-1;for(let o=0;o<r;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Q:t;a=Xe(l,a)}s.push(a)}return s}function Pa(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const r=e.length;if(kn(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=ja(t,s,i),l=a.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Ue(e[h],e[h+1],d);return a[h](f)};return n?d=>u(ce(e[0],e[r-1],d)):u}function Aa(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=Ue(0,t,s);e.push(I(n,1,i))}}function Ca(e){const t=[0];return Aa(t,e.length-1),t}function Na(e,t){return e.map(n=>n*t)}function Ma(e,t){return e.map(()=>t||$i).splice(0,e.length-1)}function Fe({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=Go(s)?s.map(Qn):Qn(s),r={done:!1,value:t[0]},o=Na(n&&n.length===t.length?n:Ca(t),e),a=Pa(o,t,{ease:Array.isArray(i)?i:Ma(t,i)});return{calculatedDuration:e,next:l=>(r.value=a(l),r.done=l>=e,r)}}const Ra=e=>e!==null;function Dn(e,{repeat:t,repeatType:n="loop"},s,i=1){const r=e.filter(Ra),a=i<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!a||s===void 0?r[a]:s}const Da={decay:qt,inertia:qt,tween:Fe,keyframes:Fe,spring:mt};function ir(e){typeof e.type=="string"&&(e.type=Da[e.type])}class Ln{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const La=e=>e/100;class Vn extends Ln{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==K.now()&&this.tick(K.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ir(t);const{type:n=Fe,repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Fe;l!==Fe&&typeof a[0]!="number"&&(this.mixKeyframes=Xe(La,tr(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});r==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Rn(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:g,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const T=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?T<0:T>i;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,S=s;if(h){const v=Math.min(this.currentTime,i)/a;let E=Math.floor(v),C=v%1;!C&&v>=1&&(C=1),C===1&&E--,E=Math.min(E,h+1),!!(E%2)&&(f==="reverse"?(C=1-C,m&&(C-=m/a)):f==="mirror"&&(S=o)),x=ce(0,1,C)*a}const k=w?{done:!1,value:d[0]}:S.next(x);r&&(k.value=r(k.value));let{done:j}=k;!w&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return P&&g!==qt&&(k.value=Dn(d,this.options,b,this.speed)),y&&y(k.value),P&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return J(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+J(t)}get time(){return J(this.currentTime)}set time(t){var n;t=se(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(K.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=J(this.currentTime))}play(){var i,r;if(this.isStopped)return;const{driver:t=xa,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(r=(i=this.options).onPlay)==null||r.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(K.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Va(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ve=e=>e*180/Math.PI,Zt=e=>{const t=ve(Math.atan2(e[1],e[0]));return Jt(t)},Ia={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Zt,rotateZ:Zt,skewX:e=>ve(Math.atan(e[1])),skewY:e=>ve(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Jt=e=>(e=e%360,e<0&&(e+=360),e),os=Zt,as=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ls=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),_a={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:as,scaleY:ls,scale:e=>(as(e)+ls(e))/2,rotateX:e=>Jt(ve(Math.atan2(e[6],e[5]))),rotateY:e=>Jt(ve(Math.atan2(-e[2],e[0]))),rotateZ:os,rotate:os,skewX:e=>ve(Math.atan(e[4])),skewY:e=>ve(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Qt(e){return e.includes("scale")?1:0}function en(e,t){if(!e||e==="none")return Qt(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=_a,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Ia,i=a}if(!i)return Qt(t);const r=s[t],o=i[1].split(",").map(Fa);return typeof r=="function"?r(o):o[r]}const Ba=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return en(n,t)};function Fa(e){return parseFloat(e.trim())}const Re=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],De=new Set(Re),cs=e=>e===Me||e===A,Oa=new Set(["x","y","z"]),Wa=Re.filter(e=>!Oa.has(e));function Ga(e){const t=[];return Wa.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const me={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>en(t,"x"),y:(e,{transform:t})=>en(t,"y")};me.translateX=me.x;me.translateY=me.y;const we=new Set;let tn=!1,nn=!1,sn=!1;function rr(){if(nn){const e=Array.from(we).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=Ga(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([r,o])=>{var a;(a=s.getValue(r))==null||a.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}nn=!1,tn=!1,we.forEach(e=>e.complete(sn)),we.clear()}function or(){we.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(nn=!0)})}function Ua(){sn=!0,or(),rr(),sn=!1}class In{constructor(t,n,s,i,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(we.add(this),tn||(tn=!0,V.read(or),V.resolveKeyframes(rr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const r=i==null?void 0:i.get(),o=t[t.length-1];if(r!==void 0)t[0]=r;else if(s&&n){const a=s.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&r===void 0&&i.set(t[0])}Va(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),we.delete(this)}cancel(){this.state==="scheduled"&&(we.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $a=e=>e.startsWith("--");function za(e,t,n){$a(t)?e.style.setProperty(t,n):e.style[t]=n}const Ha={};function ar(e,t){const n=Li(e);return()=>Ha[t]??n()}const Ya=ar(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),lr=ar(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_e=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,us={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_e([0,.65,.55,1]),circOut:_e([.55,0,1,.45]),backIn:_e([.31,.01,.66,-.59]),backOut:_e([.33,1.53,.69,.99])};function cr(e,t){if(e)return typeof e=="function"?lr()?nr(e,t):"ease-out":zi(e)?_e(e):Array.isArray(e)?e.map(n=>cr(n,t)||us.easeOut):us[e]}function Ka(e,t,n,{delay:s=0,duration:i=300,repeat:r=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[t]:n};l&&(d.offset=l);const h=cr(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:s,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function ur(e){return typeof e=="function"&&"applyToOptions"in e}function Xa({type:e,...t}){return ur(e)&&lr()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class dr extends Ln{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=t,kn(typeof t.type!="string");const u=Xa(t);this.animation=Ka(n,s,i,u,r),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const d=Dn(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):za(n,s,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s,i;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((i=(s=this.animation).commitStyles)==null||i.call(s))}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return J(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+J(t)}get time(){return J(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=se(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Ya()?(this.animation.timeline=t,Q):n(this)}}const hr={anticipate:Wi,backInOut:Oi,circInOut:Ui};function qa(e){return e in hr}function Za(e){typeof e.ease=="string"&&qa(e.ease)&&(e.ease=hr[e.ease])}const Mt=10;class Ja extends dr{constructor(t){Za(t),ir(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:r,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Vn({...o,autoplay:!1}),l=Math.max(Mt,K.now()-this.startTime),u=ce(0,Mt,l-Mt);n.setWithVelocity(a.sample(Math.max(0,l-u)).value,a.sample(l).value,u),a.stop()}}const ds=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ie.test(e)||e==="0")&&!e.startsWith("url("));function Qa(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function el(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],o=ds(i,t),a=ds(r,t);return!o||!a?!1:Qa(e)||(n==="spring"||ur(n))&&s}function rn(e){e.duration=0,e.type="keyframes"}const tl=new Set(["opacity","clipPath","filter","transform"]),nl=Li(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sl(e){var d;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:r,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return nl()&&n&&tl.has(n)&&(n!=="transform"||!u)&&!l&&!s&&i!=="mirror"&&r!==0&&o!=="inertia"}const il=40;class rl extends Ln{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:d,...h}){var g;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=K.now();const f={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:r,repeatType:o,name:l,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||In;this.keyframeResolver=new m(a,(y,b,T)=>this.onKeyframesResolved(y,b,f,!T),l,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,s,i){var b,T;this.keyframeResolver=void 0;const{name:r,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:d}=s;this.resolvedAt=K.now(),el(t,r,o,a)||((de.instantAnimations||!l)&&(d==null||d(Dn(t,s,n))),t[0]=t[t.length-1],rn(s),s.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>il?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},m=!u&&sl(f),g=(T=(b=f.motionValue)==null?void 0:b.owner)==null?void 0:T.current,y=m?new Ja({...f,element:g}):new Vn(f);y.finished.then(()=>{this.notifyFinished()}).catch(Q),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Ua()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function fr(e,t,n,s=0,i=1){const r=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*s;return typeof n=="function"?n(r,o):i===1?r*s:a-r*s}const ol=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function al(e){const t=ol.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function mr(e,t,n=1){const[s,i]=al(e);if(!s)return;const r=window.getComputedStyle(t).getPropertyValue(s);if(r){const o=r.trim();return Mi(o)?parseFloat(o):o}return An(i)?mr(i,t,n+1):i}const ll={type:"spring",stiffness:500,damping:25,restSpeed:10},cl=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ul={type:"keyframes",duration:.8},dl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hl=(e,{keyframes:t})=>t.length>2?ul:De.has(e)?e.startsWith("scale")?cl(t[1]):ll:dl,fl=e=>e!==null;function ml(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(fl),r=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[r]}function pr(e,t){if(e!=null&&e.inherit&&t){const{inherit:n,...s}=e;return{...t,...s}}return e}function _n(e,t){const n=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return n!==e?pr(n,e):n}function pl({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Bn=(e,t,n,s={},i,r)=>o=>{const a=_n(s,e)||{},l=a.delay||s.delay||0;let{elapsed:u=0}=s;u=u-se(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:r?void 0:i};pl(a)||Object.assign(d,hl(e,d)),d.duration&&(d.duration=se(d.duration)),d.repeatDelay&&(d.repeatDelay=se(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(rn(d),d.delay===0&&(h=!0)),(de.instantAnimations||de.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(h=!0,rn(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!r&&t.get()!==void 0){const f=ml(d.keyframes,a);if(f!==void 0){V.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new Vn(d):new rl(d)};function hs(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Fn(e,t,n,s){if(typeof t=="function"){const[i,r]=hs(s);t=t(n!==void 0?n:e.custom,i,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,r]=hs(s);t=t(n!==void 0?n:e.custom,i,r)}return t}function Ce(e,t,n){const s=e.getProps();return Fn(s,t,n!==void 0?n:s.custom,e)}const gr=new Set(["width","height","top","left","right","bottom",...Re]),fs=30,gl=e=>!isNaN(parseFloat(e));class xl{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var r;const i=K.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=K.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=gl(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new En);const s=this.events[t].add(n);return t==="change"?()=>{s(),V.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=K.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>fs)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fs);return Vi(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ne(e,t){return new xl(e,t)}const on=e=>Array.isArray(e);function yl(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ne(n))}function bl(e){return on(e)?e[e.length-1]||0:e}function vl(e,t){const n=Ce(e,t);let{transitionEnd:s={},transition:i={},...r}=n||{};r={...r,...s};for(const o in r){const a=bl(r[o]);yl(e,o,a)}}const Y=e=>!!(e&&e.getVelocity);function wl(e){return!!(Y(e)&&e.add)}function an(e,t){const n=e.getValue("willChange");if(wl(n))return n.add(t);if(!n&&de.WillChange){const s=new de.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function On(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Tl="framerAppearId",xr="data-"+On(Tl);function yr(e){return e.props[xr]}function Sl({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function br(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:r,transitionEnd:o,...a}=t;const l=e.getDefaultTransition();r=r?pr(r,l):l;const u=r==null?void 0:r.reduceMotion;s&&(r=s);const d=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const m=e.getValue(f,e.latestValues[f]??null),g=a[f];if(g===void 0||h&&Sl(h,f))continue;const y={delay:n,..._n(r||{},f)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===b&&!y.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const S=yr(e);if(S){const k=window.MotionHandoffAnimation(S,f,V);k!==null&&(y.startTime=k,T=!0)}}an(e,f);const w=u??e.shouldReduceMotion;m.start(Bn(f,m,g,w&&gr.has(f)?{type:!1}:y,e,T));const x=m.animation;x&&d.push(x)}if(o){const f=()=>V.update(()=>{o&&vl(e,o)});d.length?Promise.all(d).then(f):f()}return d}function ln(e,t,n={}){var l;const s=Ce(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const r=s?()=>Promise.all(br(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return kl(e,t,u,d,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,d]=a==="beforeChildren"?[r,o]:[o,r];return u().then(()=>d())}else return Promise.all([r(),o(n.delay)])}function kl(e,t,n=0,s=0,i=0,r=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(ln(l,t,{...o,delay:n+(typeof s=="function"?0:s)+fr(e.variantChildren,l,s,i,r)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function El(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(r=>ln(e,r,n));s=Promise.all(i)}else if(typeof t=="string")s=ln(e,t,n);else{const i=typeof t=="function"?Ce(e,t,n.custom):t;s=Promise.all(br(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const jl={test:e=>e==="auto",parse:e=>e},vr=e=>t=>t.test(e),wr=[Me,A,le,he,ta,ea,jl],ms=e=>wr.find(vr(e));function Pl(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Di(e):!0}const Al=new Set(["brightness","contrast","saturate","opacity"]);function Cl(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Cn)||[];if(!s)return e;const i=n.replace(s,"");let r=Al.has(t)?1:0;return s!==n&&(r*=100),t+"("+r+i+")"}const Nl=/\b([a-z-]*)\(.*?\)/gu,cn={...ie,getAnimatableNone:e=>{const t=e.match(Nl);return t?t.map(Cl).join(" "):e}},un={...ie,getAnimatableNone:e=>{const t=ie.parse(e);return ie.createTransformer(e)(t.map(s=>typeof s=="number"?0:typeof s=="object"?{...s,alpha:1}:s))}},ps={...Me,transform:Math.round},Ml={rotate:he,rotateX:he,rotateY:he,rotateZ:he,scale:et,scaleX:et,scaleY:et,scaleZ:et,skew:he,skewX:he,skewY:he,distance:A,translateX:A,translateY:A,translateZ:A,x:A,y:A,z:A,perspective:A,transformPerspective:A,opacity:$e,originX:ts,originY:ts,originZ:A},Wn={borderWidth:A,borderTopWidth:A,borderRightWidth:A,borderBottomWidth:A,borderLeftWidth:A,borderRadius:A,borderTopLeftRadius:A,borderTopRightRadius:A,borderBottomRightRadius:A,borderBottomLeftRadius:A,width:A,maxWidth:A,height:A,maxHeight:A,top:A,right:A,bottom:A,left:A,inset:A,insetBlock:A,insetBlockStart:A,insetBlockEnd:A,insetInline:A,insetInlineStart:A,insetInlineEnd:A,padding:A,paddingTop:A,paddingRight:A,paddingBottom:A,paddingLeft:A,paddingBlock:A,paddingBlockStart:A,paddingBlockEnd:A,paddingInline:A,paddingInlineStart:A,paddingInlineEnd:A,margin:A,marginTop:A,marginRight:A,marginBottom:A,marginLeft:A,marginBlock:A,marginBlockStart:A,marginBlockEnd:A,marginInline:A,marginInlineStart:A,marginInlineEnd:A,fontSize:A,backgroundPositionX:A,backgroundPositionY:A,...Ml,zIndex:ps,fillOpacity:$e,strokeOpacity:$e,numOctaves:ps},Rl={...Wn,color:W,backgroundColor:W,outlineColor:W,fill:W,stroke:W,borderColor:W,borderTopColor:W,borderRightColor:W,borderBottomColor:W,borderLeftColor:W,filter:cn,WebkitFilter:cn,mask:un,WebkitMask:un},Tr=e=>Rl[e],Dl=new Set([cn,un]);function Sr(e,t){let n=Tr(e);return Dl.has(n)||(n=ie),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ll=new Set(["auto","none","0"]);function Vl(e,t,n){let s=0,i;for(;s<e.length&&!i;){const r=e[s];typeof r=="string"&&!Ll.has(r)&&ze(r).values.length&&(i=e[s]),s++}if(i&&n)for(const r of t)e[r]=Sr(n,i)}class Il extends In{constructor(t,n,s,i,r){super(t,n,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),An(h))){const f=mr(h,n.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!gr.has(s)||t.length!==2)return;const[i,r]=t,o=ms(i),a=ms(r),l=es(i),u=es(r);if(l!==u&&me[s]){this.needsMeasurement=!0;return}if(o!==a)if(cs(o)&&cs(a))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else me[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||Pl(t[i]))&&s.push(i);s.length&&Vl(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=me[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const r=s.length-1,o=s[r];s[r]=me[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const _l=new Set(["opacity","clipPath","filter","transform"]);function kr(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(s=>s!=null)}const Er=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function dn(e){return Ri(e)&&"offsetHeight"in e}const{schedule:Gn}=Hi(queueMicrotask,!1),ne={x:!1,y:!1};function jr(){return ne.x||ne.y}function Bl(e){return e==="x"||e==="y"?ne[e]?null:(ne[e]=!0,()=>{ne[e]=!1}):ne.x||ne.y?null:(ne.x=ne.y=!0,()=>{ne.x=ne.y=!1})}function Pr(e,t){const n=kr(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function Fl(e){return!(e.pointerType==="touch"||jr())}function Ol(e,t,n={}){const[s,i,r]=Pr(e,n);return s.forEach(o=>{let a=!1,l=!1,u;const d=()=>{o.removeEventListener("pointerleave",g)},h=b=>{u&&(u(b),u=void 0),d()},f=b=>{a=!1,window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",f),l&&(l=!1,h(b))},m=()=>{a=!0,window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",f,i)},g=b=>{if(b.pointerType!=="touch"){if(a){l=!0;return}h(b)}},y=b=>{if(!Fl(b))return;l=!1;const T=t(o,b);typeof T=="function"&&(u=T,o.addEventListener("pointerleave",g,i))};o.addEventListener("pointerenter",y,i),o.addEventListener("pointerdown",m,i)}),r}const Ar=(e,t)=>t?e===t?!0:Ar(e,t.parentElement):!1,Un=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Wl=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gl(e){return Wl.has(e.tagName)||e.isContentEditable===!0}const Ul=new Set(["INPUT","SELECT","TEXTAREA"]);function $l(e){return Ul.has(e.tagName)||e.isContentEditable===!0}const it=new WeakSet;function gs(e){return t=>{t.key==="Enter"&&e(t)}}function Rt(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const zl=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=gs(()=>{if(it.has(n))return;Rt(n,"down");const i=gs(()=>{Rt(n,"up")}),r=()=>Rt(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function xs(e){return Un(e)&&!jr()}const ys=new WeakSet;function Hl(e,t,n={}){const[s,i,r]=Pr(e,n),o=a=>{const l=a.currentTarget;if(!xs(a)||ys.has(a))return;it.add(l),n.stopPropagation&&ys.add(a);const u=t(l,a),d=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),it.has(l)&&it.delete(l),xs(m)&&typeof u=="function"&&u(m,{success:g})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||Ar(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),dn(a)&&(a.addEventListener("focus",u=>zl(u,i)),!Gl(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),r}function $n(e){return Ri(e)&&"ownerSVGElement"in e}const rt=new WeakMap;let fe;const Cr=(e,t,n)=>(s,i)=>i&&i[0]?i[0][e+"Size"]:$n(s)&&"getBBox"in s?s.getBBox()[t]:s[n],Yl=Cr("inline","width","offsetWidth"),Kl=Cr("block","height","offsetHeight");function Xl({target:e,borderBoxSize:t}){var n;(n=rt.get(e))==null||n.forEach(s=>{s(e,{get width(){return Yl(e,t)},get height(){return Kl(e,t)}})})}function ql(e){e.forEach(Xl)}function Zl(){typeof ResizeObserver>"u"||(fe=new ResizeObserver(ql))}function Jl(e,t){fe||Zl();const n=kr(e);return n.forEach(s=>{let i=rt.get(s);i||(i=new Set,rt.set(s,i)),i.add(t),fe==null||fe.observe(s)}),()=>{n.forEach(s=>{const i=rt.get(s);i==null||i.delete(t),i!=null&&i.size||fe==null||fe.unobserve(s)})}}const ot=new Set;let Ee;function Ql(){Ee=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};ot.forEach(t=>t(e))},window.addEventListener("resize",Ee)}function ec(e){return ot.add(e),Ee||Ql(),()=>{ot.delete(e),!ot.size&&typeof Ee=="function"&&(window.removeEventListener("resize",Ee),Ee=void 0)}}function bs(e,t){return typeof e=="function"?ec(e):Jl(e,t)}function tc(e){return $n(e)&&e.tagName==="svg"}const nc=[...wr,W,ie],sc=e=>nc.find(vr(e)),vs=()=>({translate:0,scale:1,origin:0,originPoint:0}),je=()=>({x:vs(),y:vs()}),ws=()=>({min:0,max:0}),G=()=>({x:ws(),y:ws()}),ic=new WeakMap;function wt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function He(e){return typeof e=="string"||Array.isArray(e)}const zn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hn=["initial",...zn];function Tt(e){return wt(e.animate)||Hn.some(t=>He(e[t]))}function Nr(e){return!!(Tt(e)||e.variants)}function rc(e,t,n){for(const s in t){const i=t[s],r=n[s];if(Y(i))e.addValue(s,i);else if(Y(r))e.addValue(s,Ne(i,{owner:e}));else if(r!==i)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(s);e.addValue(s,Ne(o!==void 0?o:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const hn={current:null},Mr={current:!1},oc=typeof window<"u";function ac(){if(Mr.current=!0,!!oc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hn.current=e.matches;e.addEventListener("change",t),t()}else hn.current=!1}const Ts=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let pt={};function Rr(e){pt=e}function lc(){return pt}class cc{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,skipAnimations:r,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=In,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=K.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,V.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=r,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Tt(n),this.isVariantNode=Nr(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const g=f[m];u[m]!==void 0&&Y(g)&&g.set(u[m])}}mount(t){var n,s;if(this.hasBeenMounted)for(const i in this.initialValues)(n=this.values.get(i))==null||n.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=t,ic.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Mr.current||ac(),this.shouldReduceMotion=hn.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),pe(this.notifyUpdate),pe(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&_l.has(t)&&this.current instanceof HTMLElement){const{factory:o,keyframes:a,times:l,ease:u,duration:d}=n.accelerate,h=new dr({element:this.current,name:t,keyframes:a,times:l,ease:u,duration:se(d)}),f=o(h);this.valueSubscriptions.set(t,()=>{f(),h.cancel()});return}const s=De.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&V.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;typeof window<"u"&&window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in pt){const n=pt[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):G()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ts.length;s++){const i=Ts[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,o=t[r];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=rc(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ne(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Mi(s)||Di(s))?s=parseFloat(s):!sc(s)&&ie.test(n)&&(s=Sr(t,n)),this.setBaseTarget(t,Y(s)?s.get():s)),Y(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=Fn(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Y(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new En),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Gn.render(this.render)}}class Dr extends cc{constructor(){super(...arguments),this.KeyframeResolver=Il}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Y(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ge{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Lr({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function uc({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dc(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Dt(e){return e===void 0||e===1}function fn({scale:e,scaleX:t,scaleY:n}){return!Dt(e)||!Dt(t)||!Dt(n)}function ye(e){return fn(e)||Vr(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Vr(e){return Ss(e.x)||Ss(e.y)}function Ss(e){return e&&e!=="0%"}function gt(e,t,n){const s=e-n,i=t*s;return n+i}function ks(e,t,n,s,i){return i!==void 0&&(e=gt(e,i,s)),gt(e,n,s)+t}function mn(e,t=0,n=1,s,i){e.min=ks(e.min,t,n,s,i),e.max=ks(e.max,t,n,s,i)}function Ir(e,{x:t,y:n}){mn(e.x,t.translate,t.scale,t.originPoint),mn(e.y,n.translate,n.scale,n.originPoint)}const Es=.999999999999,js=1.0000000000001;function hc(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let r,o;for(let a=0;a<i;a++){r=n[a],o=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Ae(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Ir(e,o)),s&&ye(r.latestValues)&&Ae(e,r.latestValues))}t.x<js&&t.x>Es&&(t.x=1),t.y<js&&t.y>Es&&(t.y=1)}function Pe(e,t){e.min=e.min+t,e.max=e.max+t}function Ps(e,t,n,s,i=.5){const r=I(e.min,e.max,i);mn(e,t,n,r,s)}function Ae(e,t){Ps(e.x,t.x,t.scaleX,t.scale,t.originX),Ps(e.y,t.y,t.scaleY,t.scale,t.originY)}function _r(e,t){return Lr(dc(e.getBoundingClientRect(),t))}function fc(e,t,n){const s=_r(e,n),{scroll:i}=t;return i&&(Pe(s.x,i.offset.x),Pe(s.y,i.offset.y)),s}const mc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pc=Re.length;function gc(e,t,n){let s="",i=!0;for(let r=0;r<pc;r++){const o=Re[r],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number")l=a===(o.startsWith("scale")?1:0);else{const u=parseFloat(a);l=o.startsWith("scale")?u===1:u===0}if(!l||n){const u=Er(a,Wn[o]);if(!l){i=!1;const d=mc[o]||o;s+=`${d}(${u}) `}n&&(t[o]=u)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function Yn(e,t,n){const{style:s,vars:i,transformOrigin:r}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(De.has(l)){o=!0;continue}else if(Ki(l)){i[l]=u;continue}else{const d=Er(u,Wn[l]);l.startsWith("origin")?(a=!0,r[l]=d):s[l]=d}}if(t.transform||(o||n?s.transform=gc(t,e.transform,n):s.transform&&(s.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=r;s.transformOrigin=`${l} ${u} ${d}`}}function Br(e,{style:t,vars:n},s,i){const r=e.style;let o;for(o in t)r[o]=t[o];i==null||i.applyProjectionStyles(r,s);for(o in n)r.setProperty(o,n[o])}function As(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ve={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(A.test(e))e=parseFloat(e);else return e;const n=As(e,t.target.x),s=As(e,t.target.y);return`${n}% ${s}%`}},xc={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=ie.parse(e);if(i.length>5)return s;const r=ie.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=I(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),r(i)}},pn={borderRadius:{...Ve,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomLeftRadius:Ve,borderBottomRightRadius:Ve,boxShadow:xc};function Fr(e,{layout:t,layoutId:n}){return De.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!pn[e]||e==="opacity")}function Kn(e,t,n){var o;const s=e.style,i=t==null?void 0:t.style,r={};if(!s)return r;for(const a in s)(Y(s[a])||i&&Y(i[a])||Fr(a,e)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(r[a]=s[a]);return r}function yc(e){return window.getComputedStyle(e)}class bc extends Dr{constructor(){super(...arguments),this.type="html",this.renderInstance=Br}readValueFromInstance(t,n){var s;if(De.has(n))return(s=this.projection)!=null&&s.isProjecting?Qt(n):Ba(t,n);{const i=yc(t),r=(Ki(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return _r(t,n)}build(t,n,s){Yn(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Kn(t,n,s)}}const vc={offset:"stroke-dashoffset",array:"stroke-dasharray"},wc={offset:"strokeDashoffset",array:"strokeDasharray"};function Tc(e,t,n=1,s=0,i=!0){e.pathLength=1;const r=i?vc:wc;e[r.offset]=`${-s}`,e[r.array]=`${t} ${n}`}const Sc=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Or(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:r=1,pathOffset:o=0,...a},l,u,d){if(Yn(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const m of Sc)h[m]!==void 0&&(f[m]=h[m],delete h[m]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),i!==void 0&&Tc(h,i,r,o,!1)}const Wr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Gr=e=>typeof e=="string"&&e.toLowerCase()==="svg";function kc(e,t,n,s){Br(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(Wr.has(i)?i:On(i),t.attrs[i])}function Ur(e,t,n){const s=Kn(e,t,n);for(const i in e)if(Y(e[i])||Y(t[i])){const r=Re.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=e[i]}return s}class Ec extends Dr{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=G}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(De.has(n)){const s=Tr(n);return s&&s.default||0}return n=Wr.has(n)?n:On(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Ur(t,n,s)}build(t,n,s){Or(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){kc(t,n,s,i)}mount(t){this.isSVGTag=Gr(t.tagName),super.mount(t)}}const jc=Hn.length;function $r(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?$r(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<jc;n++){const s=Hn[n],i=e.props[s];(He(i)||i===!1)&&(t[s]=i)}return t}function zr(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Pc=[...zn].reverse(),Ac=zn.length;function Cc(e){return t=>Promise.all(t.map(({animation:n,options:s})=>El(e,n,s)))}function Nc(e){let t=Cc(e),n=Cs(),s=!0;const i=l=>(u,d)=>{var f;const h=Ce(e,d,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...y}=h;u={...u,...y,...g}}return u};function r(l){t=l(e)}function o(l){const{props:u}=e,d=$r(e.parent)||{},h=[],f=new Set;let m={},g=1/0;for(let b=0;b<Ac;b++){const T=Pc[b],w=n[T],x=u[T]!==void 0?u[T]:d[T],S=He(x),k=T===l?w.isActive:null;k===!1&&(g=b);let j=x===d[T]&&x!==u[T]&&S;if(j&&s&&e.manuallyAnimateOnMount&&(j=!1),w.protectedKeys={...m},!w.isActive&&k===null||!x&&!w.prevProp||wt(x)||typeof x=="boolean")continue;if(T==="exit"&&w.isActive&&k!==!0){w.prevResolvedValues&&(m={...m,...w.prevResolvedValues});continue}const P=Mc(w.prevProp,x);let v=P||T===l&&w.isActive&&!j&&S||b>g&&S,E=!1;const C=Array.isArray(x)?x:[x];let D=C.reduce(i(T),{});k===!1&&(D={});const{prevResolvedValues:_={}}=w,U={..._,...D},H=L=>{v=!0,f.has(L)&&(E=!0,f.delete(L)),w.needsAnimating[L]=!0;const O=e.getValue(L);O&&(O.liveStyle=!1)};for(const L in U){const O=D[L],$=_[L];if(m.hasOwnProperty(L))continue;let Z=!1;on(O)&&on($)?Z=!zr(O,$):Z=O!==$,Z?O!=null?H(L):f.add(L):O!==void 0&&f.has(L)?H(L):w.protectedKeys[L]=!0}w.prevProp=x,w.prevResolvedValues=D,w.isActive&&(m={...m,...D}),s&&e.blockInitialAnimation&&(v=!1);const ee=j&&P;v&&(!ee||E)&&h.push(...C.map(L=>{const O={type:T};if(typeof L=="string"&&s&&!ee&&e.manuallyAnimateOnMount&&e.parent){const{parent:$}=e,Z=Ce($,L);if($.enteringChildren&&Z){const{delayChildren:Le}=Z.transition||{};O.delay=fr($.enteringChildren,e,Le)}}return{animation:L,options:O}}))}if(f.size){const b={};if(typeof u.initial!="boolean"){const T=Ce(e,Array.isArray(u.initial)?u.initial[0]:u.initial);T&&T.transition&&(b.transition=T.transition)}f.forEach(T=>{const w=e.getBaseTarget(T),x=e.getValue(T);x&&(x.liveStyle=!0),b[T]=w??null}),h.push({animation:b})}let y=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),s=!1,y?t(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>n,reset:()=>{n=Cs()}}}function Mc(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zr(t,e):!1}function xe(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cs(){return{animate:xe(!0),whileInView:xe(),whileHover:xe(),whileTap:xe(),whileDrag:xe(),whileFocus:xe(),exit:xe()}}function Ns(e,t){e.min=t.min,e.max=t.max}function te(e,t){Ns(e.x,t.x),Ns(e.y,t.y)}function Ms(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Hr=1e-4,Rc=1-Hr,Dc=1+Hr,Yr=.01,Lc=0-Yr,Vc=0+Yr;function X(e){return e.max-e.min}function Ic(e,t,n){return Math.abs(e-t)<=n}function Rs(e,t,n,s=.5){e.origin=s,e.originPoint=I(t.min,t.max,e.origin),e.scale=X(n)/X(t),e.translate=I(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Rc&&e.scale<=Dc||isNaN(e.scale))&&(e.scale=1),(e.translate>=Lc&&e.translate<=Vc||isNaN(e.translate))&&(e.translate=0)}function Oe(e,t,n,s){Rs(e.x,t.x,n.x,s?s.originX:void 0),Rs(e.y,t.y,n.y,s?s.originY:void 0)}function Ds(e,t,n){e.min=n.min+t.min,e.max=e.min+X(t)}function _c(e,t,n){Ds(e.x,t.x,n.x),Ds(e.y,t.y,n.y)}function Ls(e,t,n){e.min=t.min-n.min,e.max=e.min+X(t)}function xt(e,t,n){Ls(e.x,t.x,n.x),Ls(e.y,t.y,n.y)}function Vs(e,t,n,s,i){return e-=t,e=gt(e,1/n,s),i!==void 0&&(e=gt(e,1/i,s)),e}function Bc(e,t=0,n=1,s=.5,i,r=e,o=e){if(le.test(t)&&(t=parseFloat(t),t=I(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=I(r.min,r.max,s);e===r&&(a-=t),e.min=Vs(e.min,t,n,a,i),e.max=Vs(e.max,t,n,a,i)}function Is(e,t,[n,s,i],r,o){Bc(e,t[n],t[s],t[i],t.scale,r,o)}const Fc=["x","scaleX","originX"],Oc=["y","scaleY","originY"];function _s(e,t,n,s){Is(e.x,t,Fc,n?n.x:void 0,s?s.x:void 0),Is(e.y,t,Oc,n?n.y:void 0,s?s.y:void 0)}function Bs(e){return e.translate===0&&e.scale===1}function Kr(e){return Bs(e.x)&&Bs(e.y)}function Fs(e,t){return e.min===t.min&&e.max===t.max}function Wc(e,t){return Fs(e.x,t.x)&&Fs(e.y,t.y)}function Os(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Xr(e,t){return Os(e.x,t.x)&&Os(e.y,t.y)}function Ws(e){return X(e.x)/X(e.y)}function Gs(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function oe(e){return[e("x"),e("y")]}function Gc(e,t,n){let s="";const i=e.x.translate/t.x,r=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||r||o)&&(s=`translate3d(${i}px, ${r}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:g}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),g&&(s+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const qr=["TopLeft","TopRight","BottomLeft","BottomRight"],Uc=qr.length,Us=e=>typeof e=="string"?parseFloat(e):e,$s=e=>typeof e=="number"||A.test(e);function $c(e,t,n,s,i,r){i?(e.opacity=I(0,n.opacity??1,zc(s)),e.opacityExit=I(t.opacity??1,0,Hc(s))):r&&(e.opacity=I(t.opacity??1,n.opacity??1,s));for(let o=0;o<Uc;o++){const a=`border${qr[o]}Radius`;let l=zs(t,a),u=zs(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||$s(l)===$s(u)?(e[a]=Math.max(I(Us(l),Us(u),s),0),(le.test(u)||le.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=I(t.rotate||0,n.rotate||0,s))}function zs(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zc=Zr(0,.5,Gi),Hc=Zr(.5,.95,Q);function Zr(e,t,n){return s=>s<e?0:s>t?1:n(Ue(e,t,s))}function Yc(e,t,n){const s=Y(e)?e:Ne(e);return s.start(Bn("",s,t,n)),s.animation}function Ye(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const Kc=(e,t)=>e.depth-t.depth;class Xc{constructor(){this.children=[],this.isDirty=!1}add(t){Sn(this.children,t),this.isDirty=!0}remove(t){dt(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Kc),this.isDirty=!1,this.children.forEach(t)}}function qc(e,t){const n=K.now(),s=({timestamp:i})=>{const r=i-n;r>=t&&(pe(s),e(r-t))};return V.setup(s,!0),()=>pe(s)}function at(e){return Y(e)?e.get():e}class Zc{constructor(){this.members=[]}add(t){Sn(this.members,t);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===t||s===this.lead||s===this.prevLead)continue;const i=s.instance;i&&i.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&dt(this.members,s)}t.scheduleRender()}remove(t){if(dt(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const r=this.members[i],o=r.instance;if(r.isPresent!==!1&&(!o||o.isConnected!==!1)){s=r;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const i=s.options.layoutDependency,r=t.options.layoutDependency;if(!(i!==void 0&&r!==void 0&&i===r)){const l=s.instance;l&&l.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const lt={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Lt=["","X","Y","Z"],Jc=1e3;let Qc=0;function Vt(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Jr(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=yr(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",V,!(i||r))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Jr(s)}function Qr({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Qc++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nu),this.nodes.forEach(ou),this.nodes.forEach(au),this.nodes.forEach(su)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xc)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new En),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=$n(o)&&!tc(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;V.read(()=>{h=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=qc(f,250),lt.hasAnimatedSinceResize&&(lt.hasAnimatedSinceResize=!1,this.nodes.forEach(Ks)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||hu,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=u.getProps(),T=!this.targetLayout||!Xr(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={..._n(g,"layout"),onPlay:y,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,w)}else h||Ks(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lu),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Jr(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hs);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ys);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ru),this.nodes.forEach(eu),this.nodes.forEach(tu)):this.nodes.forEach(Ys),this.clearAllSnapshots();const a=K.now();z.delta=ce(0,1e3/60,a-z.timestamp),z.timestamp=a,z.isProcessing=!0,jt.update.process(z),jt.preRender.process(z),jt.render.process(z),z.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iu),this.sharedNodes.forEach(cu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,V.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){V.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!X(this.snapshot.measuredBox.x)&&!X(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=G(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Kr(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||ye(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),fu(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return G();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(mu))){const{scroll:d}=this.root;d&&(Pe(a.x,d.offset.x),Pe(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=G();if(te(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&te(a,o),Pe(a.x,h.offset.x),Pe(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=G();te(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ae(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ye(d.latestValues)&&Ae(l,d.latestValues)}return ye(this.latestValues)&&Ae(l,this.latestValues),l}removeTransform(o){const a=G();te(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ye(u.latestValues))continue;fn(u.latestValues)&&u.updateSnapshot();const d=G(),h=u.measurePageBox();te(d,h),_s(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ye(this.latestValues)&&_s(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==z.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=z.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=G(),this.targetWithTransforms=G()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_c(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):te(this.target,this.layout.layoutBox),Ir(this.target,this.targetDelta)):te(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||fn(this.parent.latestValues)||Vr(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=G(),this.relativeTargetOrigin=G(),xt(this.relativeTargetOrigin,a,l),te(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===z.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;te(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;hc(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=G());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ms(this.prevProjectionDelta.x,this.projectionDelta.x),Ms(this.prevProjectionDelta.y,this.projectionDelta.y)),Oe(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Gs(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gs(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=je(),this.projectionDelta=je(),this.projectionDeltaWithTransform=je()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=je();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=G(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,b=this.getStack(),T=!b||b.members.length<=1,w=!!(y&&!T&&this.options.crossfade===!0&&!this.path.some(du));this.animationProgress=0;let x;this.mixTargetDelta=S=>{const k=S/1e3;Xs(h.x,o.x,k),Xs(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xt(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uu(this.relativeTarget,this.relativeTargetOrigin,f,k),x&&Wc(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=G()),te(x,this.relativeTarget)),y&&(this.animationValues=d,$c(d,u,this.latestValues,k,w,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(pe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=V.update(()=>{lt.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ne(0)),this.motionValue.jump(0,!1),this.currentAnimation=Yc(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jc),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&eo(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||G();const h=X(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=X(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}te(a,l),Ae(a,d),Oe(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Zc),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Vt("z",o,u,this.animationValues);for(let d=0;d<Lt.length;d++)Vt(`rotate${Lt[d]}`,o,u,this.animationValues),Vt(`skew${Lt[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=at(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=at(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ye(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=Gc(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in pn){if(d[g]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:T}=pn[g],w=h==="none"?d[g]:y(d[g],u);if(b){const x=b.length;for(let S=0;S<x;S++)o[b[S]]=w}else T?this.options.visualElement.renderState.vars[g]=w:o[g]=w}this.options.layoutId&&(o.pointerEvents=u===this?at(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Hs),this.root.sharedNodes.clear()}}}function eu(e){e.updateLayout()}function tu(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:r}=e.options,o=t.source!==e.layout.source;r==="size"?oe(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=X(f);f.min=s[h].min,f.max=f.min+m}):eo(r,t.layoutBox,s)&&oe(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=X(s[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=je();Oe(a,s,t.layoutBox);const l=je();o?Oe(l,e.applyTransform(i,!0),t.measuredBox):Oe(l,s,t.layoutBox);const u=!Kr(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const g=G();xt(g,t.layoutBox,f.layoutBox);const y=G();xt(y,s,m.layoutBox),Xr(g,y)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function nu(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function su(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iu(e){e.clearSnapshot()}function Hs(e){e.clearMeasurements()}function Ys(e){e.isLayoutDirty=!1}function ru(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ks(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ou(e){e.resolveTargetDelta()}function au(e){e.calcProjection()}function lu(e){e.resetSkewAndRotation()}function cu(e){e.removeLeadSnapshot()}function Xs(e,t,n){e.translate=I(t.translate,0,n),e.scale=I(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function qs(e,t,n,s){e.min=I(t.min,n.min,s),e.max=I(t.max,n.max,s)}function uu(e,t,n,s){qs(e.x,t.x,n.x,s),qs(e.y,t.y,n.y,s)}function du(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const hu={duration:.45,ease:[.4,0,.1,1]},Zs=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Js=Zs("applewebkit/")&&!Zs("chrome/")?Math.round:Q;function Qs(e){e.min=Js(e.min),e.max=Js(e.max)}function fu(e){Qs(e.x),Qs(e.y)}function eo(e,t,n){return e==="position"||e==="preserve-aspect"&&!Ic(Ws(t),Ws(n),.2)}function mu(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const pu=Qr({attachResizeListener:(e,t)=>Ye(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),It={current:void 0},to=Qr({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!It.current){const e=new pu({});e.mount(window),e.setOptions({layoutScroll:!0}),It.current=e}return It.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Xn=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ei(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gu(...e){return t=>{let n=!1;const s=e.map(i=>{const r=ei(i,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let i=0;i<s.length;i++){const r=s[i];typeof r=="function"?r():ei(e[i],null)}}}}function xu(...e){return p.useCallback(gu(...e),e)}class yu extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,i=dn(s)&&s.offsetWidth||0,r=dn(s)&&s.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left,o.bottom=r-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function bu({children:e,isPresent:t,anchorX:n,anchorY:s,root:i,pop:r}){var f;const o=p.useId(),a=p.useRef(null),l=p.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=p.useContext(Xn),d=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),h=xu(a,d);return p.useInsertionEffect(()=>{const{width:m,height:g,top:y,left:b,right:T,bottom:w}=l.current;if(t||r===!1||!a.current||!m||!g)return;const x=n==="left"?`left: ${b}`:`right: ${T}`,S=s==="bottom"?`bottom: ${w}`:`top: ${y}`;a.current.dataset.motionPopId=o;const k=document.createElement("style");u&&(k.nonce=u);const j=i??document.head;return j.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${x}px !important;
            ${S}px !important;
          }
        `),()=>{j.contains(k)&&j.removeChild(k)}},[t]),c.jsx(yu,{isPresent:t,childRef:a,sizeRef:l,pop:r,children:r===!1?e:p.cloneElement(e,{ref:h})})}const vu=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:o,anchorX:a,anchorY:l,root:u})=>{const d=Tn(wu),h=p.useId();let f=!0,m=p.useMemo(()=>(f=!1,{id:h,initial:t,isPresent:n,custom:i,onExitComplete:g=>{d.set(g,!0);for(const y of d.values())if(!y)return;s&&s()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[n,d,s]);return r&&f&&(m={...m}),p.useMemo(()=>{d.forEach((g,y)=>d.set(y,!1))},[n]),p.useEffect(()=>{!n&&!d.size&&s&&s()},[n]),e=c.jsx(bu,{pop:o==="popLayout",isPresent:n,anchorX:a,anchorY:l,root:u,children:e}),c.jsx(vt.Provider,{value:m,children:e})};function wu(){return new Map}function no(e=!0){const t=p.useContext(vt);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,r=p.useId();p.useEffect(()=>{if(e)return i(r)},[e]);const o=p.useCallback(()=>e&&s&&s(r),[r,s,e]);return!n&&s?[!1,o]:[!0]}const tt=e=>e.key||"";function ti(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const ue=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:r="sync",propagate:o=!1,anchorX:a="left",anchorY:l="top",root:u})=>{const[d,h]=no(o),f=p.useMemo(()=>ti(e),[e]),m=o&&!d?[]:f.map(tt),g=p.useRef(!0),y=p.useRef(f),b=Tn(()=>new Map),T=p.useRef(new Set),[w,x]=p.useState(f),[S,k]=p.useState(f);Ni(()=>{g.current=!1,y.current=f;for(let v=0;v<S.length;v++){const E=tt(S[v]);m.includes(E)?(b.delete(E),T.current.delete(E)):b.get(E)!==!0&&b.set(E,!1)}},[S,m.length,m.join("-")]);const j=[];if(f!==w){let v=[...f];for(let E=0;E<S.length;E++){const C=S[E],D=tt(C);m.includes(D)||(v.splice(E,0,C),j.push(C))}return r==="wait"&&j.length&&(v=j),k(ti(v)),x(f),null}const{forceRender:P}=p.useContext(wn);return c.jsx(c.Fragment,{children:S.map(v=>{const E=tt(v),C=o&&!d?!1:f===S||m.includes(E),D=()=>{if(T.current.has(E))return;if(T.current.add(E),b.has(E))b.set(E,!0);else return;let _=!0;b.forEach(U=>{U||(_=!1)}),_&&(P==null||P(),k(y.current),o&&(h==null||h()),s&&s())};return c.jsx(vu,{isPresent:C,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:r,root:u,onExitComplete:C?void 0:D,anchorX:a,anchorY:l,children:v},E)})})},so=p.createContext({strict:!1}),ni={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let si=!1;function Tu(){if(si)return;const e={};for(const t in ni)e[t]={isEnabled:n=>ni[t].some(s=>!!n[s])};Rr(e),si=!0}function io(){return Tu(),lc()}function Su(e){const t=io();for(const n in e)t[n]={...t[n],...e[n]};Rr(t)}const ku=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function yt(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ku.has(e)}let ro=e=>!yt(e);function Eu(e){typeof e=="function"&&(ro=t=>t.startsWith("on")?!yt(t):e(t))}try{Eu(require("@emotion/is-prop-valid").default)}catch{}function ju(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(ro(i)||n===!0&&yt(i)||!t&&!yt(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const St=p.createContext({});function Pu(e,t){if(Tt(e)){const{initial:n,animate:s}=e;return{initial:n===!1||He(n)?n:void 0,animate:He(s)?s:void 0}}return e.inherit!==!1?t:{}}function Au(e){const{initial:t,animate:n}=Pu(e,p.useContext(St));return p.useMemo(()=>({initial:t,animate:n}),[ii(t),ii(n)])}function ii(e){return Array.isArray(e)?e.join(" "):e}const qn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oo(e,t,n){for(const s in t)!Y(t[s])&&!Fr(s,n)&&(e[s]=t[s])}function Cu({transformTemplate:e},t){return p.useMemo(()=>{const n=qn();return Yn(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Nu(e,t){const n=e.style||{},s={};return oo(s,n,e),Object.assign(s,Cu(e,t)),s}function Mu(e,t){const n={},s=Nu(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const ao=()=>({...qn(),attrs:{}});function Ru(e,t,n,s){const i=p.useMemo(()=>{const r=ao();return Or(r,t,Gr(s),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};oo(r,e.style,e),i.style={...r,...i.style}}return i}const Du=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zn(e){return typeof e!="string"||e.includes("-")?!1:!!(Du.indexOf(e)>-1||/[A-Z]/u.test(e))}function Lu(e,t,n,{latestValues:s},i,r=!1,o){const l=(o??Zn(e)?Ru:Mu)(t,s,i,e),u=ju(t,typeof e=="string",r),d=e!==p.Fragment?{...u,...l,ref:n}:{},{children:h}=t,f=p.useMemo(()=>Y(h)?h.get():h,[h]);return p.createElement(e,{...d,children:f})}function Vu({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:Iu(n,s,i,e),renderState:t()}}function Iu(e,t,n,s){const i={},r=s(e,{});for(const f in r)i[f]=at(r[f]);let{initial:o,animate:a}=e;const l=Tt(e),u=Nr(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!wt(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const g=Fn(e,f[m]);if(g){const{transitionEnd:y,transition:b,...T}=g;for(const w in T){let x=T[w];if(Array.isArray(x)){const S=d?x.length-1:0;x=x[S]}x!==null&&(i[w]=x)}for(const w in y)i[w]=y[w]}}}return i}const lo=e=>(t,n)=>{const s=p.useContext(St),i=p.useContext(vt),r=()=>Vu(e,t,s,i);return n?r():Tn(r)},_u=lo({scrapeMotionValuesFromProps:Kn,createRenderState:qn}),Bu=lo({scrapeMotionValuesFromProps:Ur,createRenderState:ao}),Fu=Symbol.for("motionComponentSymbol");function Ou(e,t,n){const s=p.useRef(n);p.useInsertionEffect(()=>{s.current=n});const i=p.useRef(null);return p.useCallback(r=>{var a;r&&((a=e.onMount)==null||a.call(e,r)),t&&(r?t.mount(r):t.unmount());const o=s.current;if(typeof o=="function")if(r){const l=o(r);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):o(r);else o&&(o.current=r)},[t])}const co=p.createContext({});function Se(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Wu(e,t,n,s,i,r){var x,S;const{visualElement:o}=p.useContext(St),a=p.useContext(so),l=p.useContext(vt),u=p.useContext(Xn),d=u.reducedMotion,h=u.skipAnimations,f=p.useRef(null),m=p.useRef(!1);s=s||a.renderer,!f.current&&s&&(f.current=s(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d,skipAnimations:h,isSVG:r}),m.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const g=f.current,y=p.useContext(co);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&Gu(f.current,n,i,y);const b=p.useRef(!1);p.useInsertionEffect(()=>{g&&b.current&&g.update(n,l)});const T=n[xr],w=p.useRef(!!T&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,T))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,T)));return Ni(()=>{m.current=!0,g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),w.current&&g.animationState&&g.animationState.animateChanges())}),p.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,T)}),w.current=!1),g.enteringChildren=void 0)}),g}function Gu(e,t,n,s){const{layoutId:i,layout:r,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:uo(e.parent)),e.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!o||a&&Se(a),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:l,layoutRoot:u})}function uo(e){if(e)return e.options.allowProjection!==!1?e.projection:uo(e.parent)}function _t(e,{forwardMotionProps:t=!1,type:n}={},s,i){s&&Su(s);const r=n?n==="svg":Zn(e),o=r?Bu:_u;function a(u,d){let h;const f={...p.useContext(Xn),...u,layoutId:Uu(u)},{isStatic:m}=f,g=Au(u),y=o(u,m);if(!m&&Ci){$u();const b=zu(f);h=b.MeasureLayout,g.visualElement=Wu(e,y,f,i,b.ProjectionNode,r)}return c.jsxs(St.Provider,{value:g,children:[h&&g.visualElement?c.jsx(h,{visualElement:g.visualElement,...f}):null,Lu(e,u,Ou(y,g.visualElement,d),y,m,t,r)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=p.forwardRef(a);return l[Fu]=e,l}function Uu({layoutId:e}){const t=p.useContext(wn).id;return t&&e!==void 0?t+"-"+e:e}function $u(e,t){p.useContext(so).strict}function zu(e){const t=io(),{drag:n,layout:s}=t;if(!n&&!s)return{};const i={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(e)||s!=null&&s.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Hu(e,t){if(typeof Proxy>"u")return _t;const n=new Map,s=(r,o)=>_t(r,o,e,t),i=(r,o)=>s(r,o);return new Proxy(i,{get:(r,o)=>o==="create"?s:(n.has(o)||n.set(o,_t(o,void 0,e,t)),n.get(o))})}const Yu=(e,t)=>t.isSVG??Zn(e)?new Ec(t):new bc(t,{allowProjection:e!==p.Fragment});class Ku extends ge{constructor(t){super(t),t.animationState||(t.animationState=Nc(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();wt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Xu=0;class qu extends ge{constructor(){super(...arguments),this.id=Xu++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Zu={animation:{Feature:Ku},exit:{Feature:qu}};function Je(e){return{point:{x:e.pageX,y:e.pageY}}}const Ju=e=>t=>Un(t)&&e(t,Je(t));function We(e,t,n,s){return Ye(e,t,Ju(n),s)}const ho=({current:e})=>e?e.ownerDocument.defaultView:null,ri=(e,t)=>Math.abs(e-t);function Qu(e,t){const n=ri(e.x,t.x),s=ri(e.y,t.y);return Math.sqrt(n**2+s**2)}const oi=new Set(["auto","scroll"]);class fo{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Ft(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=Qu(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!y)return;const{point:b}=m,{timestamp:T}=z;this.history.push({...b,timestamp:T});const{onStart:w,onMove:x}=this.handlers;g||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Bt(g,this.transformPagePoint),V.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:T}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ft(m.type==="pointercancel"?this.lastMoveEventInfo:Bt(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,w),b&&b(m,w)},!Un(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=i||window;const l=Je(t),u=Bt(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=z;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,Ft(u,this.history)),this.removeListeners=Xe(We(this.contextWindow,"pointermove",this.handlePointerMove),We(this.contextWindow,"pointerup",this.handlePointerUp),We(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(oi.has(s.overflowX)||oi.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,i=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},r={x:i.x-n.x,y:i.y-n.y};r.x===0&&r.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=r.x,this.lastMoveEventInfo.point.y+=r.y):this.history.length>0&&(this.history[0].x-=r.x,this.history[0].y-=r.y),this.scrollPositions.set(t,i),V.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),pe(this.updatePoint)}}function Bt(e,t){return t?{point:t(e.point)}:e}function ai(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ft({point:e},t){return{point:e,delta:ai(e,mo(t)),offset:ai(e,ed(t)),velocity:td(t,.1)}}function ed(e){return e[0]}function mo(e){return e[e.length-1]}function td(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=mo(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>se(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&i.timestamp-s.timestamp>se(t)*2&&(s=e[1]);const r=J(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nd(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?I(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?I(n,e,s.max):Math.min(e,n)),e}function li(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function sd(e,{top:t,left:n,bottom:s,right:i}){return{x:li(e.x,n,i),y:li(e.y,t,s)}}function ci(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function id(e,t){return{x:ci(e.x,t.x),y:ci(e.y,t.y)}}function rd(e,t){let n=.5;const s=X(e),i=X(t);return i>s?n=Ue(t.min,t.max-s,e.min):s>i&&(n=Ue(e.min,e.max-i,t.min)),ce(0,1,n)}function od(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const gn=.35;function ad(e=gn){return e===!1?e=0:e===!0&&(e=gn),{x:ui(e,"left","right"),y:ui(e,"top","bottom")}}function ui(e,t,n){return{min:di(e,t),max:di(e,n)}}function di(e,t){return typeof e=="number"?e:e[t]||0}const ld=new WeakMap;class cd{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=G(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{n&&this.snapToCursor(Je(h).point),this.stopAnimation()},o=(h,f)=>{const{drag:m,dragPropagation:g,onDragStart:y}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bl(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oe(T=>{let w=this.getAxisMotionValue(T).get()||0;if(le.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const S=x.layout.layoutBox[T];S&&(w=X(S)*(parseFloat(w)/100))}}this.originPoint[T]=w}),y&&V.update(()=>y(h,f),!1,!0),an(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:y,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:T}=f;if(g&&this.currentDirection===null){this.currentDirection=dd(T),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,T),this.updateAxis("y",f.point,T),this.visualElement.render(),b&&V.update(()=>b(h,f),!1,!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:h}=this.getProps();(h||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:d}=this.getProps();this.panSession=new fo(t,{onSessionStart:r,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:s,contextWindow:ho(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&V.postRender(()=>a(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!nt(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=nd(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;t&&Se(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=sd(s.layoutBox,t):this.constraints=!1,this.elastic=ad(n),i!==this.constraints&&!Se(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&oe(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=od(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Se(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=fc(s,i.root,this.visualElement.getTransformPagePoint());let o=id(i.layout.layoutBox,r);if(n){const a=n(uc(o));this.hasMutatedConstraints=!!a,a&&(o=Lr(a))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=oe(d=>{if(!nt(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:s?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return an(this.visualElement,t),s.start(Bn(t,s,0,n,this.visualElement,!1))}stopAnimation(){oe(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){oe(n=>{const{drag:s}=this.getProps();if(!nt(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n],l=r.get()||0;r.set(t[n]-I(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Se(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};oe(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=rd({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),oe(o=>{if(!nt(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(I(l,u,i[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;ld.set(this.visualElement,this);const t=this.visualElement.current,n=We(t,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps(),f=u.target,m=f!==t&&$l(f);d&&h&&!m&&this.start(u)});let s;const i=()=>{const{dragConstraints:u}=this.getProps();Se(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),s||(s=ud(t,u.current,()=>this.scalePositionWithinConstraints())))},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),V.read(i);const a=Ye(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(oe(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())}));return()=>{a(),n(),o(),l&&l(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=gn,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function hi(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function ud(e,t,n){const s=bs(e,hi(n)),i=bs(t,hi(n));return()=>{s(),i()}}function nt(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function dd(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class hd extends ge{constructor(t){super(t),this.removeGroupControls=Q,this.removeListeners=Q,this.controls=new cd(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Q}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Ot=e=>(t,n)=>{e&&V.update(()=>e(t,n),!1,!0)};class fd extends ge{constructor(){super(...arguments),this.removePointerDownListener=Q}onPointerDown(t){this.session=new fo(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ho(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ot(t),onStart:Ot(n),onMove:Ot(s),onEnd:(r,o)=>{delete this.session,i&&V.postRender(()=>i(r,o))}}}mount(){this.removePointerDownListener=We(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Wt=!1;class md extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=t;r&&(n.group&&n.group.add(r),s&&s.register&&i&&s.register(r),Wt&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),lt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:r}=this.props,{projection:o}=s;return o&&(o.isPresent=r,t.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),Wt=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==r?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||V.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Gn.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;Wt=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function po(e){const[t,n]=no(),s=p.useContext(wn);return c.jsx(md,{...e,layoutGroup:s,switchLayoutGroup:p.useContext(co),isPresent:t,safeToRemove:n})}const pd={pan:{Feature:fd},drag:{Feature:hd,ProjectionNode:to,MeasureLayout:po}};function fi(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=s[i];r&&V.postRender(()=>r(t,Je(t)))}class gd extends ge{mount(){const{current:t}=this.node;t&&(this.unmount=Ol(t,(n,s)=>(fi(this.node,s,"Start"),i=>fi(this.node,i,"End"))))}unmount(){}}class xd extends ge{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xe(Ye(this.node.current,"focus",()=>this.onFocus()),Ye(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mi(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=s[i];r&&V.postRender(()=>r(t,Je(t)))}class yd extends ge{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=Hl(t,(i,r)=>(mi(this.node,r,"Start"),(o,{success:a})=>mi(this.node,o,a?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(s==null?void 0:s.tap)===!1})}unmount(){}}const xn=new WeakMap,Gt=new WeakMap,bd=e=>{const t=xn.get(e.target);t&&t(e)},vd=e=>{e.forEach(bd)};function wd({root:e,...t}){const n=e||document;Gt.has(n)||Gt.set(n,{});const s=Gt.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(vd,{root:e,...t})),s[i]}function Td(e,t,n){const s=wd(t);return xn.set(e,n),s.observe(e),()=>{xn.delete(e),s.unobserve(e)}}const Sd={some:0,all:1};class kd extends ge{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:r}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Sd[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return Td(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ed(t,n))&&this.startObserver()}unmount(){}}function Ed({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const jd={inView:{Feature:kd},tap:{Feature:yd},focus:{Feature:xd},hover:{Feature:gd}},Pd={layout:{ProjectionNode:to,MeasureLayout:po}},Ad={...Zu,...jd,...pd,...Pd},M=Hu(Ad,Yu);var Ut={exports:{}},$t,pi;function Cd(){if(pi)return $t;pi=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $t=e,$t}var zt,gi;function Nd(){if(gi)return zt;gi=1;var e=Cd();function t(){}function n(){}return n.resetWarningCache=t,zt=function(){function s(o,a,l,u,d,h){if(h!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}s.isRequired=s;function i(){return s}var r={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return r.PropTypes=r,r},zt}var xi;function Md(){return xi||(xi=1,Ut.exports=Nd()()),Ut.exports}var Rd=Md();const F=Vo(Rd),Dd=""+new URL("secure-thumbnail-BSwajrC7.png",import.meta.url).href,yn=p.memo(function({onStart:t}){return c.jsx("div",{className:"w-full h-dvh flex items-center justify-center bg-[#060E24]",children:c.jsxs("div",{className:"relative w-full max-w-[480px] h-full flex flex-col items-center justify-end overflow-hidden",style:{backgroundImage:`url(${Dd})`,backgroundSize:"100% 100%",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[c.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/3 bg-gradient-to-t from-[#060E24]/60 to-transparent pointer-events-none"}),c.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-30 w-[65%] max-w-[200px]",children:c.jsx(M.button,{onClick:t,id:"btn-play-secure",className:"w-full py-3 rounded-xl font-game text-2xl tracking-wider uppercase text-white shadow-[0_4px_0_#4d7c0f] transition-all",style:{background:"linear-gradient(180deg, #a3e635 0%, #65a30d 100%)",border:"3px solid #ffffff"},initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:260,damping:20,delay:.2},whileHover:{scale:1.05,filter:"brightness(1.1)"},whileTap:{scale:.95,y:2,boxShadow:"none"},children:"Play"})})]})})});yn.propTypes={onStart:F.func.isRequired};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=e=>{const t=Vd(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Id={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:r,iconNode:o,...a},l)=>p.createElement("svg",{ref:l,...Id,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:go("lucide",i),...!r&&!_d(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=(e,t)=>{const n=p.forwardRef(({className:s,...i},r)=>p.createElement(Bd,{ref:r,iconNode:t,className:go(`lucide-${Ld(yi(e))}`,`lucide-${e}`,s),...i}));return n.displayName=yi(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Od=q("arrow-right-left",Fd);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gd=q("calendar",Wd);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bi=q("check",Ud);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zd=q("chevron-down",$d);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Yd=q("circle-check",Hd);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Xd=q("link-2",Kd);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zd=q("loader-circle",qd);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Qd=q("phone",Jd);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],th=q("play",eh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sh=q("refresh-cw",nh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],vi=q("share-2",ih);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],oh=q("target",rh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],lh=q("timer",ah);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ge=q("x",ch),xo=p.memo(function({onSubmit:t,onClose:n}){const[s,i]=p.useState(""),[r,o]=p.useState(""),[a,l]=p.useState(!0),[u,d]=p.useState(!1),[h,f]=p.useState({}),[m,g]=p.useState(!1),[y,b]=p.useState(null),T=p.useRef(null),[w,x]=p.useState(()=>sessionStorage.getItem("bb_lastPhone")||null);p.useEffect(()=>{w&&sessionStorage.setItem("bb_lastPhone",w)},[w]),p.useEffect(()=>{if(y){const P=setTimeout(()=>b(null),3e3);return()=>clearTimeout(P)}},[y]);const S=(P,v)=>{let E="";return P==="name"?v.trim()?/^[A-Za-z\s]+$/.test(v.trim())||(E="Name must contain only letters."):E="Please enter your name":P==="phone"&&(v?/^\d{10}$/.test(v)||(E="Enter a valid 10-digit mobile number"):E="Please enter mobile number"),E?(f(C=>({...C,[P]:E})),!1):(f(C=>({...C,[P]:""})),!0)},k=()=>S("name",s)&S("phone",r),j=async P=>{if(P.preventDefault(),!!k()&&a){if(w===r){b({message:"You have already registered.",type:"info"}),setTimeout(()=>t(s.trim(),r),1e3);return}g(!0);try{x(r),await t(s.trim(),r)}catch{b({message:"Something went wrong.",type:"error"})}finally{g(!1)}}};return c.jsxs(c.Fragment,{children:[c.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-md",onClick:n,children:c.jsxs(M.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:P=>P.stopPropagation(),className:"relative bg-white shadow-2xl w-full max-w-[320px] min-[375px]:max-w-[340px] p-5 min-[375px]:p-6 border-[4px] sm:border-[6px] border-[#0066B2] rounded-2xl",children:[c.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:c.jsx(Ge,{className:"w-5 h-5 min-[375px]:w-6 min-[375px]:h-6"})}),c.jsxs("div",{className:"text-center mb-4 min-[375px]:mb-6",children:[c.jsx("div",{className:"w-14 h-14 min-[375px]:w-16 min-[375px]:h-16 sm:w-20 sm:h-20 bg-[#0066B2] flex items-center justify-center mx-auto mb-3 min-[375px]:mb-4 shadow-xl border-4 border-white rounded-full",children:c.jsx("span",{className:"text-2xl min-[375px]:text-3xl sm:text-4xl",children:""})}),c.jsx("h2",{className:"text-[#0066B2] text-lg min-[375px]:text-xl sm:text-2xl font-black mb-1",children:"Welcome!"}),c.jsx("p",{className:"text-slate-500 font-bold text-xs min-[375px]:text-sm sm:text-base",children:"Enter your details to start."})]}),c.jsxs("form",{onSubmit:j,className:"space-y-3 min-[375px]:space-y-4",children:[c.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[c.jsx("label",{className:"block text-slate-700 text-[9px] min-[375px]:text-[10px] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"bb-userName",children:"Your Name"}),c.jsx("input",{id:"bb-userName",type:"text",value:s,onChange:P=>{i(P.target.value),/^[A-Za-z\s]*$/.test(P.target.value)&&f(v=>({...v,name:""}))},onBlur:P=>S("name",P.target.value),onKeyDown:P=>{var v;P.key==="Enter"&&(P.preventDefault(),S("name",s)&&((v=T.current)==null||v.focus()))},placeholder:"Full Name",autoFocus:!0,className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${h.name?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`}),h.name&&c.jsx("p",{className:"text-red-500 text-[9px] min-[375px]:text-[10px] font-black uppercase tracking-wider ml-1",children:h.name})]}),c.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[c.jsx("label",{className:"block text-slate-700 text-[9px] min-[375px]:text-[10px] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"bb-phone",children:"Mobile Number"}),c.jsx("input",{ref:T,id:"bb-phone",type:"tel",maxLength:10,value:r,onChange:P=>{const v=P.target.value.replace(/\D/g,"").slice(0,10);o(v),f(E=>({...E,phone:""}))},onBlur:P=>S("phone",P.target.value),placeholder:"9876543210",className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${h.phone?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`}),h.phone&&c.jsx("p",{className:"text-red-500 text-[9px] min-[375px]:text-[10px] font-black uppercase tracking-wider ml-1",children:h.phone})]}),c.jsxs("div",{className:"flex items-start space-x-3 pt-1 text-left",children:[c.jsxs("div",{className:"relative flex items-center",children:[c.jsx("input",{id:"bb-terms",type:"checkbox",checked:a,onChange:P=>l(P.target.checked),className:"peer h-5 w-5 cursor-pointer appearance-none rounded border-2 border-slate-300 bg-slate-50 transition-all checked:border-[#0066B2] checked:bg-[#0066B2] hover:border-[#0066B2]"}),c.jsx(bi,{className:"pointer-events-none absolute left-1/2 top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100",strokeWidth:4})]}),c.jsxs("label",{htmlFor:"bb-terms",className:"text-[10px] sm:text-xs font-semibold text-slate-500 leading-tight select-none",children:["I agree to the"," ",c.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-[#0066B2] hover:underline font-bold inline",children:"Terms & Conditions"})," ","and Acknowledge the Privacy Policy."]})]}),c.jsx("button",{type:"submit",disabled:!s.trim()||r.length!==10||!a||m,className:"w-full py-2.5 min-[375px]:py-3 sm:py-4 rounded-xl font-game text-sm sm:text-lg tracking-widest disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2 text-white uppercase font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",style:{background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",boxShadow:"0 4px 15px rgba(0, 102, 178, 0.3)"},children:m?c.jsxs(c.Fragment,{children:[c.jsx(Zd,{className:"w-5 h-5 animate-spin"}),c.jsx("span",{children:"Starting..."})]}):"Let's Go!"})]})]})}),c.jsx(ue,{children:u&&c.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-md",onClick:()=>d(!1),children:c.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:P=>P.stopPropagation(),className:"bg-white p-6 rounded-2xl max-w-md w-full shadow-2xl border-4 border-[#0066B2] relative text-left",children:[c.jsx("button",{onClick:()=>d(!1),className:"absolute top-3 right-3 p-1 text-slate-400 hover:text-slate-600 transition-colors",children:c.jsx(Ge,{className:"w-5 h-5"})}),c.jsx("h3",{className:"text-[#0066B2] font-black text-lg uppercase mb-4 tracking-tight",children:"Terms & Conditions"}),c.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 space-y-3 font-medium leading-relaxed max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[c.jsx("p",{children:"I hereby authorize Bajaj Life Insurance Limited to call me on the contact number made available by me on the website with a specific request to call back. I further declare that, irrespective of my contact number being registered on National Customer Preference Register (NCPR) or on National Do Not Call Registry (NDNC), any call made, SMS or WhatsApp sent in response to my request shall not be construed as an Unsolicited Commercial Communication even though the content of the call may be for the purposes of explaining various insurance products and services or solicitation and procurement of insurance business."}),c.jsx("p",{children:"Please refer to BALIC Privacy Policy."})]}),c.jsx("button",{onClick:()=>{d(!1),l(!0)},className:"w-full mt-6 py-3 bg-[#0066B2] text-white font-bold rounded-lg hover:bg-blue-700 transition-colors text-sm uppercase tracking-wider",children:"I Agree"})]})})}),c.jsx(ue,{children:y&&c.jsxs(M.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[120] px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 ${y.type==="error"?"bg-red-500 text-white":"bg-blue-600 text-white"}`,children:[y.type==="error"?c.jsx(Ge,{size:20,className:"stroke-[3]"}):c.jsx(bi,{size:20,className:"stroke-[3]"}),c.jsx("span",{className:"font-bold text-sm",children:y.message})]})})]})});xo.propTypes={onSubmit:F.func.isRequired,onClose:F.func.isRequired};const uh=()=>c.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-400 to-blue-600 shadow-[0_4px_0_#1e40af] flex items-center justify-center border border-blue-300",children:c.jsx(Od,{className:"text-white w-7 h-7 stroke-[3]"})}),dh=()=>c.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-pink-500 to-rose-600 shadow-[0_4px_0_#be123c] flex items-center justify-center border border-rose-300",children:c.jsx(oh,{className:"text-white w-7 h-7 stroke-[3]"})}),hh=()=>c.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-400 to-cyan-600 shadow-[0_4px_0_#0e7490] flex items-center justify-center border border-cyan-300",children:c.jsx(lh,{className:"text-white w-7 h-7 stroke-[3]"})}),fh=()=>c.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-400 to-orange-500 shadow-[0_4px_0_#c2410c] flex items-center justify-center border border-orange-300",children:c.jsx(Xd,{className:"text-white w-7 h-7 stroke-[3]"})}),yo=p.memo(function({onStart:t}){const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},i=[{label:"Family Protection",color:"#10B981",bg:"linear-gradient(145deg, #059669 0%, #10B981 100%)",border:"#047857"},{label:"Child Education",color:"#3B82F6",bg:"linear-gradient(145deg, #1D4ED8 0%, #3B82F6 100%)",border:"#1e40af"},{label:"Retirement Plan",color:"#F59E0B",bg:"linear-gradient(145deg, #D97706 0%, #F59E0B 100%)",border:"#b45309"},{label:"Emergency Fund",color:"#EF4444",bg:"linear-gradient(145deg, #B91C1C 0%, #EF4444 100%)",border:"#b91c1c"}];return c.jsxs(M.div,{variants:n,initial:"hidden",animate:"visible",className:"fixed inset-0 z-[1100] flex flex-col items-center w-full h-[100dvh] overflow-hidden bg-[#050B14]",style:{backgroundImage:`
          radial-gradient(circle at 50% 0%, #1e3a8a 0%, #050B14 60%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.03) 0px, rgba(255,255,255,0.03) 1px, transparent 1px, transparent 40px),
          repeating-linear-gradient(-45deg, rgba(255,255,255,0.03) 0px, rgba(255,255,255,0.03) 1px, transparent 1px, transparent 40px)
        `},children:[c.jsxs("div",{className:"flex-1 w-full max-w-md px-6 pt-10 pb-32 overflow-y-auto custom-scrollbar flex flex-col items-center gap-6",children:[c.jsxs(M.div,{variants:s,className:"text-center shrink-0",children:[c.jsx("h1",{className:"font-game text-5xl text-transparent bg-clip-text bg-gradient-to-b from-blue-200 via-blue-400 to-blue-600 drop-shadow-[0_4px_0_rgba(0,0,0,0.5)] stroke-text-blue",children:"HOW TO PLAY"}),c.jsx("p",{className:"text-blue-200/80 text-xs font-semibold tracking-wide mt-2 uppercase",children:"Match blocks. Fill buckets. Secure your future."})]}),c.jsxs("div",{className:"w-full space-y-4 shrink-0",children:[c.jsxs(M.div,{variants:s,className:"relative group",children:[c.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl opacity-40 blur"}),c.jsxs("div",{className:"relative bg-[#0a1529] border border-blue-500/50 rounded-2xl p-4 flex items-center gap-5 shadow-[inset_0_0_20px_rgba(59,130,246,0.2)]",children:[c.jsx(uh,{}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-wide mb-1",children:"Swap Adjacent Tiles"}),c.jsx("p",{className:"text-blue-200/60 text-xs leading-tight font-medium",children:"Tap two neighboring tiles to swap them matches of 3 or more."})]})]})]}),c.jsxs(M.div,{variants:s,className:"relative group",children:[c.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-pink-500 to-rose-500 rounded-2xl opacity-40 blur"}),c.jsxs("div",{className:"relative bg-[#0a1529] border border-blue-500/50 rounded-2xl p-4 flex items-center gap-5 shadow-[inset_0_0_20px_rgba(59,130,246,0.2)]",children:[c.jsx(dh,{}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-wide mb-1",children:"Fill Buckets"}),c.jsx("p",{className:"text-blue-200/60 text-xs leading-tight font-medium",children:"Each color fills its matching financial goal bucket."})]})]})]}),c.jsxs(M.div,{variants:s,className:"relative group",children:[c.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-2xl opacity-40 blur"}),c.jsxs("div",{className:"relative bg-[#0a1529] border border-blue-500/50 rounded-2xl p-4 flex items-center gap-5 shadow-[inset_0_0_20px_rgba(59,130,246,0.2)]",children:[c.jsx(hh,{}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-wide mb-1",children:"2 Minutes"}),c.jsx("p",{className:"text-blue-200/60 text-xs leading-tight font-medium",children:"You have 120 seconds to maximize your score."})]})]})]}),c.jsxs(M.div,{variants:s,className:"relative group",children:[c.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl opacity-40 blur"}),c.jsxs("div",{className:"relative bg-[#0a1529] border border-blue-500/50 rounded-2xl p-4 flex items-center gap-5 shadow-[inset_0_0_20px_rgba(59,130,246,0.2)]",children:[c.jsx(fh,{}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-wide mb-1",children:"Chain Combos"}),c.jsx("p",{className:"text-blue-200/60 text-xs leading-tight font-medium",children:"Cascading matches give big point bonuses!"})]})]})]})]}),c.jsxs(M.div,{variants:s,className:"w-full relative group",children:[c.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl opacity-60 blur"}),c.jsxs("div",{className:"relative bg-gradient-to-b from-[#1e3a8a] to-[#0f172a] border border-indigo-400/50 rounded-2xl p-4 shadow-xl",children:[c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-[#0f172a] px-3 py-0.5 rounded-full border border-indigo-400/50",children:c.jsx("span",{className:"text-[0.6rem] font-black text-indigo-300 tracking-widest uppercase",children:"Scoring"})}),c.jsx("div",{className:"flex justify-between items-center gap-2 pt-2",children:[{matches:"3",points:"+10",color:"from-blue-400 to-blue-600",shadow:"#1e40af"},{matches:"4",points:"+18",color:"from-purple-400 to-purple-600",shadow:"#6b21a8"},{matches:"5",points:"+30",color:"from-amber-400 to-orange-500",shadow:"#c2410c"}].map(r=>c.jsxs("div",{className:"flex-1 flex items-center justify-center gap-2",children:[c.jsx("div",{className:"relative",children:c.jsx("span",{className:`font-game text-4xl text-transparent bg-clip-text bg-gradient-to-b ${r.color} drop-shadow break-words`,style:{filter:`drop-shadow(0 4px 0 ${r.shadow})`},children:r.matches})}),c.jsxs("div",{className:"flex flex-col leading-none",children:[c.jsxs("span",{className:"text-[0.5rem] text-white/60 font-bold uppercase mb-0.5",children:[r.matches," Match"]}),c.jsx("span",{className:`font-game text-sm text-transparent bg-clip-text bg-gradient-to-b ${r.color} drop-shadow-sm`,children:r.points})]})]},r.matches))})]})]}),c.jsxs(M.div,{variants:s,className:"w-full mt-2",children:[c.jsx("h3",{className:"text-center text-blue-200/80 text-[10px] font-bold uppercase tracking-[0.2em] mb-4",children:"Goal Buckets"}),c.jsx("div",{className:"grid grid-cols-1 gap-3 bg-[#0a1529]/50 p-4 rounded-2xl border border-white/5",children:i.map((r,o)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg shadow-sm shrink-0 border border-white/10",style:{background:r.bg,boxShadow:`0 2px 0 ${r.border}`}}),c.jsxs("div",{className:"flex-1 border-b border-white/5 pb-2",children:[c.jsx("span",{className:"text-white text-sm font-bold uppercase tracking-wide block",children:r.label}),c.jsx("span",{className:"text-white/40 text-[10px] font-medium uppercase tracking-wider",children:"Match tiles to fill"})]})]},o))})]})]}),c.jsx(M.div,{variants:s,className:"absolute bottom-0 left-0 w-full p-6 bg-[#050B14]/95 backdrop-blur-xl border-t border-white/10 z-20",children:c.jsx("div",{className:"w-full max-w-md mx-auto",children:c.jsxs("button",{onClick:t,className:"w-full py-4 rounded-2xl font-game text-xl tracking-wider text-white uppercase relative overflow-hidden group transition-transform active:scale-[0.98] shadow-[0_6px_0_#b45309,0_15px_20px_rgba(0,0,0,0.4)] hover:shadow-[0_8px_0_#b45309,0_20px_25px_rgba(0,0,0,0.4)] active:shadow-[0_2px_0_#b45309] active:translate-y-1",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#fcd34d] via-[#f59e0b] to-[#d97706]"}),c.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-white/60"}),c.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/2 bg-gradient-to-t from-black/10 to-transparent"}),c.jsxs("div",{className:"relative flex items-center justify-center gap-3 drop-shadow-md",children:[c.jsx("span",{className:"text-[#78350f] text-stroke-white",children:"START PLAYING"}),c.jsx(th,{className:"w-6 h-6 fill-[#78350f] text-[#78350f]",strokeWidth:3})]})]})})}),c.jsx("style",{children:`
        .text-stroke-white {
          -webkit-text-stroke: 1px rgba(255,255,255,0.4);
        }
        .stroke-text-blue {
          -webkit-text-stroke: 2px #1e3a8a;
        }
      `})]})});yo.propTypes={onStart:F.func.isRequired};const bn=24,wi=2*Math.PI*bn,bo=p.memo(function({timeLeft:t,totalTime:n}){const s=t/n,i=wi*(1-s),r=t<=30,o=Math.floor(t/60),a=t%60,l=`${o}:${a.toString().padStart(2,"0")}`,u=r?"#EF4444":"#3B82F6";return c.jsxs("div",{className:`relative flex items-center justify-center w-16 h-16 ${r?"animate-pulse":""}`,children:[r&&c.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500/20 blur-xl animate-pulse"}),c.jsxs("svg",{width:60,height:60,viewBox:"0 0 60 60",className:"transform -rotate-90 drop-shadow-lg",children:[c.jsx("circle",{cx:"30",cy:"30",r:bn,fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"3"}),c.jsx(M.circle,{cx:"30",cy:"30",r:bn,fill:"none",stroke:u,strokeWidth:"3",strokeLinecap:"round",strokeDasharray:wi,initial:{strokeDashoffset:0},animate:{strokeDashoffset:i},transition:{duration:1,ease:"linear"},style:{filter:`drop-shadow(0 0 4px ${u})`}})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("span",{className:"font-game text-sm text-white drop-shadow-md tracking-wider leading-none",children:l})})]})});bo.propTypes={timeLeft:F.number.isRequired,totalTime:F.number.isRequired};const Ke=["GREEN","BLUE","YELLOW","RED"],Jn={GREEN:{label:"Family Protection",color:"#10B981",bg:"linear-gradient(145deg, #059669 0%, #10B981 50%, #34D399 100%)",glow:"rgba(16, 185, 129, 0.45)",bucketBg:"linear-gradient(180deg, #064E3B 0%, #059669 100%)",bucketBorder:"rgba(16, 185, 129, 0.5)"},BLUE:{label:"Child Education",color:"#3B82F6",bg:"linear-gradient(145deg, #1D4ED8 0%, #3B82F6 50%, #60A5FA 100%)",glow:"rgba(59, 130, 246, 0.45)",bucketBg:"linear-gradient(180deg, #1E3A5F 0%, #1D4ED8 100%)",bucketBorder:"rgba(59, 130, 246, 0.5)"},YELLOW:{label:"Retirement",color:"#F59E0B",bg:"linear-gradient(145deg, #D97706 0%, #F59E0B 50%, #FBBF24 100%)",glow:"rgba(245, 158, 11, 0.45)",bucketBg:"linear-gradient(180deg, #78350F 0%, #D97706 100%)",bucketBorder:"rgba(245, 158, 11, 0.5)"},RED:{label:"Emergency Fund",color:"#EF4444",bg:"linear-gradient(145deg, #B91C1C 0%, #EF4444 50%, #F87171 100%)",glow:"rgba(239, 68, 68, 0.45)",bucketBg:"linear-gradient(180deg, #7F1D1D 0%, #DC2626 100%)",bucketBorder:"rgba(239, 68, 68, 0.5)"}},mh={GREEN:[" Family Protection keeps your loved ones secure!"," Secure your family's future today!"," A family protection plan is the foundation of financial security."],BLUE:[" Invest in your child's education early!"," A bright future starts with the right education plan."," Give your child the gift of quality education!"],YELLOW:[" Retirement planning today means freedom tomorrow!"," Start saving for a comfortable retirement now!"," Your future self will thank you for planning early."],RED:[" An emergency fund is your financial safety net!"," Be prepared for life's unexpected moments."," Build your emergency reserves for peace of mind!"]},Ti=[" Fill the buckets quickly, time is running!"," Hurry up! Secure your goals faster!"," Time is ticking! Match more tiles!"," Keep going! Your goals need you!"," Focus! Fill those buckets before time runs out!"],Te=400,ae={match3:10,match4:18,match5:30,comboBonus:5,cascadeBonus:7},ph=120,Si=["Good Job!","Excellent!","Amazing!","Outstanding!","Perfect!","Well Done!","Brilliant!","Keep Going!"],R={LANDING:"landing",ENTRY:"entry",HOW_TO_PLAY:"how_to_play",PLAYING:"playing",FINISHED:"finished",RESULT:"result",THANK_YOU:"thank_you",EXITED:"exited"};function ki(e){if(!e)return 0;const t=Ke.reduce((i,r)=>{const o=e[r]||0;return i+Math.min(o,Te)},0),n=Ke.length*Te,s=t/n*100;return Math.round(Math.min(s,100))}function gh(e){return e?Ke.every(t=>(e[t]||0)>=Te):!1}function xh(e,t,n){return Math.min(n,Math.max(t,e))}const vo=p.memo(function({timeLeft:t,userName:n}){return c.jsxs("div",{className:"w-full shrink-0 flex flex-col items-center px-4 pt-3 pb-1 z-20 gap-1",children:[c.jsx("div",{className:"w-full flex items-center justify-center relative h-14",children:c.jsx("div",{className:`transition-all duration-500 ease-in-out z-30 ${t<=10?"scale-125 drop-shadow-[0_0_15px_rgba(255,0,0,0.6)]":"scale-100"}`,children:c.jsx("div",{className:`bg-bb-navy p-1 rounded-full border border-bb-accent/20 shadow-xl transition-colors ${t<=10?"border-red-500/50 bg-red-900/40":""}`,children:c.jsx(bo,{timeLeft:t,totalTime:ph})})})}),c.jsxs("div",{className:"flex flex-col items-center gap-0.5 mt-1",children:[c.jsxs("span",{className:"font-game text-lg sm:text-xl text-white drop-shadow-md tracking-wide",children:["Hi ",n?n.charAt(0).toUpperCase()+n.slice(1):"Player"," "]}),c.jsx("span",{className:"text-[0.7rem] sm:text-xs text-blue-200/80 font-medium uppercase tracking-widest",children:"Fill your life goals buckets"})]})]})});vo.propTypes={timeLeft:F.number.isRequired,userName:F.string};const ct=6,Ei=3;function yh(){return Math.random().toString(36).slice(2,9)}function vn(e,t=[]){const n=e.filter(s=>!t.includes(s));return n.length?n[Math.floor(Math.random()*n.length)]:e[Math.floor(Math.random()*e.length)]}function ut(e,t,n){return{id:yh(),type:e,row:t,col:n}}function kt(e){const t=new Set,n=e.length;for(let s=0;s<n;s++){let i=1;for(let r=1;r<n;r++){const o=e[s][r],a=e[s][r-1];if(o&&a&&o.type===a.type){if(i++,i>=Ei)for(let l=r-i+1;l<=r;l++)t.add(`${s}-${l}`)}else i=1}}for(let s=0;s<n;s++){let i=1;for(let r=1;r<n;r++){const o=e[r][s],a=e[r-1][s];if(o&&a&&o.type===a.type){if(i++,i>=Ei)for(let l=r-i+1;l<=r;l++)t.add(`${l}-${s}`)}else i=1}}return t}function bt(e,t,n,s,i){const r=e.length;if(!(Math.abs(t-s)===1&&n===i||Math.abs(n-i)===1&&t===s)||t<0||t>=r||n<0||n>=r||s<0||s>=r||i<0||i>=r||!e[t][n]||!e[s][i])return!1;const a=e.map(d=>d.map(h=>h?{...h}:null)),l=a[t][n],u=a[s][i];return a[t][n]={...u,row:t,col:n},a[s][i]={...l,row:s,col:i},kt(a).size>0}function wo(e){const t=e.length,n=Array.from({length:t},()=>Array(t).fill(null));for(let s=0;s<t;s++){let i=t-1;for(let r=t-1;r>=0;r--)e[r][s]!==null&&(n[i][s]={...e[r][s],row:i,col:s},i--)}return n}function To(e,t,n=0){e.length;const s=t.includes("RISK")?"RISK":null;return e.map((r,o)=>r.map((a,l)=>{if(a!==null)return a;let u;return s&&Math.random()<n?u=s:u=vn(t),ut(u,o,l)}))}function So(e,t){return e.map((n,s)=>n.map((i,r)=>t.has(`${s}-${r}`)?null:i))}function ko(e){const t=e.length;for(let n=0;n<t;n++)for(let s=0;s<t;s++)if(s+1<t&&bt(e,n,s,n,s+1)||n+1<t&&bt(e,n,s,n+1,s))return!0;return!1}function ji(e,t=100){const n=ct;for(let i=0;i<t;i++){const r=Array.from({length:n},(o,a)=>Array.from({length:n},(l,u)=>ut(vn(e),a,u)));if(kt(r).size===0&&ko(r))return r}const s=Array.from({length:n},(i,r)=>Array.from({length:n},(o,a)=>ut(e[0],r,a)));for(let i=0;i<n;i++)for(let r=0;r<n;r++){const o=[];r>=2&&s[i][r-1].type===s[i][r-2].type&&o.push(s[i][r-1].type),i>=2&&s[i-1][r].type===s[i-2][r].type&&o.push(s[i-1][r].type),s[i][r]=ut(vn(e,o),i,r)}return s}function bh(e,t){let n=0;for(const s of e)for(const i of s)i&&i.type===t&&n++;return n}function Eo(e,t){var s;const n=new Set;for(const i of t){const[r,o]=i.split("-").map(Number);(s=e[r])!=null&&s[o]&&n.add(e[r][o].type)}return n}function vh(e,t){return t.size}function wh(e,t){var s,i,r,o;const n=e.length;for(const a of t){const[l,u]=a.split("-").map(Number);if(((i=(s=e[l])==null?void 0:s[u])==null?void 0:i.type)!=="SHIELD")continue;const d=[[l-1,u],[l+1,u],[l,u-1],[l,u+1]];for(const[h,f]of d)if(h>=0&&h<n&&f>=0&&f<n&&((o=(r=e[h])==null?void 0:r[f])==null?void 0:o.type)==="RISK")return!0}return!1}function Th(e,t){return e.map(n=>n.map(s=>s&&s.type===t?null:s))}function Sh(e){const{tileTypes:t,scoringRules:n={},riskSpawnRate:s=0,specialRules:i={},stageGoal:r={},maxMoves:o=20}=e,a=ji(t);return{config:e,tileTypes:t,scoringRules:n,riskSpawnRate:s,specialRules:i,stageGoal:r,maxMoves:o,initialGrid:a,findMatches:kt,wouldCreateMatch:bt,generateInitialGrid:()=>ji(t),hasValidMoves:ko,applyGravity:wo,removeMatches:So,refillGrid:(l,u)=>To(l,t,u),countTilesByType:bh,getMatchedTypes:Eo,getMatchLength:vh,checkShieldRiskAdjacency:wh,clearAllOfType:Th}}const Pi={GREEN:{bg:"bg-tile-green",shadow:"shadow-green-900/40",icon:"Family"},BLUE:{bg:"bg-tile-blue",shadow:"shadow-blue-900/40",icon:"Edu"},YELLOW:{bg:"bg-tile-yellow",shadow:"shadow-amber-900/40",icon:"Retire"},RED:{bg:"bg-tile-red",shadow:"shadow-red-900/40",icon:"Emerg"}},kh=({type:e})=>{const t="rgba(255,255,255,0.9)",n="rgba(255,255,255,0.15)";return e==="GREEN"?c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-[55%] h-[55%] drop-shadow-md",children:[c.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2",fill:n}),c.jsx("circle",{cx:"9",cy:"7",r:"4",fill:n}),c.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}):e==="BLUE"?c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-[50%] h-[50%] drop-shadow-md",children:[c.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",fill:n}),c.jsx("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})]}):e==="YELLOW"?c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-[55%] h-[55%] drop-shadow-md",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:n}),c.jsx("path",{d:"M12 6v6l4 2"})]}):e==="RED"?c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-[50%] h-[50%] drop-shadow-md",children:[c.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2",fill:n}),c.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}):null},jo=p.memo(function({tile:t,isSelected:n,isExploding:s,onTap:i,cellSize:r}){if(!t||!t.type)return c.jsx("div",{style:{width:r,height:r}});const o=Pi[t.type]||Pi.GREEN,a=n?"scale-95 ring-[3px] ring-white/80 ring-offset-2 ring-offset-bb-navy z-20 brightness-110":"",l=s?"animate-tile-pop opacity-0":"";return c.jsxs(M.div,{layoutId:t.id,className:`relative flex items-center justify-center 
        ${o.bg} ${o.shadow} ${a} ${l} 
        tile-premium select-none active:scale-[0.85]`,style:{width:r,height:r},onClick:()=>i(t.row,t.col),initial:!1,animate:{scale:s?1.5:1,opacity:s?0:1},transition:{type:"spring",stiffness:400,damping:25},children:[c.jsx(kh,{type:t.type}),n&&c.jsx(M.div,{layoutId:"select-glow",className:"absolute inset-0 rounded-[14px] bg-white/20 animate-pulse"})]})});jo.propTypes={tile:F.object,isSelected:F.bool,isExploding:F.bool,onTap:F.func.isRequired,cellSize:F.number.isRequired};const Po=p.memo(function({grid:t,selectedCell:n,explodingCells:s,floatingScores:i,activePraise:r,onCellTap:o}){const a=p.useRef(null),[l,u]=p.useState(48);p.useEffect(()=>{if(!a.current)return;const h=new ResizeObserver(f=>{const g=f[0].contentRect.width-24,y=Math.floor(g/ct);u(Math.max(42,Math.min(64,y)))});return h.observe(a.current),()=>h.disconnect()},[]);const d=p.useCallback((h,f)=>o(h,f),[o]);return t?c.jsx("div",{ref:a,className:"relative flex-1 w-full max-w-[600px] flex items-center justify-center p-4 z-10",children:c.jsxs("div",{className:"glass-panel relative p-3 rounded-[1rem] shadow-glass border border-bb-glass-border",style:{background:"linear-gradient(145deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%)",boxShadow:"0 20px 50px -12px rgba(0,0,0,0.5)"},children:[c.jsx("div",{className:"absolute inset-0 rounded-[1rem] pointer-events-none shadow-[inset_0_0_20px_rgba(59,130,246,0.1)]"}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${ct}, ${l}px)`,gridTemplateRows:`repeat(${ct}, ${l}px)`,gap:"4px",position:"relative",zIndex:1,padding:"2px"},children:t.map(h=>h.map(f=>{if(!f)return c.jsx("div",{style:{width:l,height:l}},Math.random());const m=(n==null?void 0:n.row)===f.row&&(n==null?void 0:n.col)===f.col,g=s.has(`${f.row}-${f.col}`);return c.jsx(jo,{tile:f,isSelected:m,isExploding:g,onTap:d,cellSize:l},f.id)}))}),c.jsx(ue,{children:i.map(h=>c.jsx(M.div,{initial:{opacity:0,y:0,scale:.5},animate:{opacity:1,y:-40,scale:1.2},exit:{opacity:0},transition:{duration:.8,ease:"easeOut"},className:"float-point absolute pointer-events-none z-50 text-center w-full",style:{left:0,top:`${h.y}%`,transform:`translateX(${h.x-50}px)`},children:c.jsx("span",{className:"drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)] text-bb-gold",children:h.value})},h.id))}),c.jsx(ue,{children:r&&c.jsxs(M.div,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1.2,y:0},exit:{opacity:0,scale:1.5,y:-20},transition:{duration:.4,type:"spring",bounce:.5},className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[100]",children:[c.jsx("div",{className:"bg-black/40 backdrop-blur-sm px-6 py-3 rounded-2xl border border-white/20 shadow-2xl",children:c.jsx("span",{className:"font-game text-3xl sm:text-4xl text-transparent bg-clip-text bg-gradient-to-br from-yellow-300 via-orange-400 to-red-500 drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)] tracking-wide",children:r})}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(M.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0},className:"w-40 h-40 border-2 border-dashed border-white/10 rounded-full"})})]},r)})]})}):null});Po.propTypes={grid:F.array,selectedCell:F.object,explodingCells:F.instanceOf(Set).isRequired,floatingScores:F.array.isRequired,activePraise:F.string,onCellTap:F.func.isRequired};const Eh=["GREEN","BLUE","YELLOW","RED"],jh=({type:e})=>{const t="rgba(255,255,255,0.9)",n="rgba(255,255,255,0.15)",s="w-5 h-5 sm:w-6 sm:h-6 drop-shadow-sm";return e==="GREEN"?c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[c.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2",fill:n}),c.jsx("circle",{cx:"9",cy:"7",r:"4",fill:n}),c.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}):e==="BLUE"?c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[c.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",fill:n}),c.jsx("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})]}):e==="YELLOW"?c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[c.jsx("circle",{cx:"12",cy:"12",r:"10",fill:n}),c.jsx("path",{d:"M12 6v6l4 2"})]}):e==="RED"?c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[c.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2",fill:n}),c.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}):null},Ao=p.memo(function({buckets:t}){return c.jsx("div",{className:"w-full shrink-0 px-3 py-2 pb-safe z-10",children:c.jsx("div",{className:"flex items-stretch justify-between gap-2",children:Eh.map(n=>{const s=Jn[n],i=Math.min(t[n]||0,Te),r=Math.round(i/Te*100),o=r>=100,a=s.color;return c.jsxs("div",{className:"flex flex-col items-center flex-1 gap-1",children:[c.jsxs("div",{className:"w-full flex flex-col items-center gap-1.5 mb-1",children:[c.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-lg flex items-center justify-center shrink-0",style:{background:s.bg,boxShadow:`0 2px 8px ${s.glow}`},children:c.jsx(jh,{type:n})}),c.jsx("div",{className:"h-6 sm:h-7 w-full flex items-center justify-center",children:c.jsx("span",{className:`text-[0.52rem] sm:text-[0.58rem] font-bold uppercase tracking-widest text-center leading-[1.1] transition-colors ${o?"text-bb-gold drop-shadow-md":"text-blue-100/70"}`,children:s.label})})]}),c.jsxs("div",{className:`bucket-capsule w-full relative flex items-end justify-center ${o?"full":""}`,style:{height:"4.5rem",borderRadius:"0.6rem",boxShadow:o?`0 0 20px ${a}66`:void 0},children:[c.jsx("div",{className:"absolute inset-0 bg-white/5 rounded-[0.6rem]"}),c.jsxs(M.div,{className:"absolute bottom-0 left-0 right-0 z-0 overflow-hidden rounded-b-[0.6rem]",initial:{height:"0%"},animate:{height:`${r}%`},transition:{type:"spring",stiffness:50,damping:15},children:[c.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:s.bucketBg}}),c.jsx("div",{className:"absolute top-[-10px] left-[-50%] w-[200%] h-6 opacity-40 animate-wave",style:{background:"linear-gradient(90deg, transparent, #fff, transparent)"}}),c.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-white/40"})]}),c.jsx("div",{className:"absolute bottom-1.5 inset-x-0 text-center z-10",children:c.jsxs("span",{className:"font-game text-xs sm:text-sm drop-shadow-md text-white",children:[r,"%"]})}),c.jsx(ue,{children:o&&c.jsx(M.div,{initial:{opacity:0,scale:.5,y:5},animate:{opacity:1,scale:1,y:0},className:"absolute top-[-8px] inset-x-0 flex justify-center z-20",children:c.jsxs("div",{className:"bg-[#FFD700] text-[#002147] text-[0.55rem] sm:text-[0.6rem] font-black uppercase px-2 py-0.5 rounded-full shadow-[0_4px_12px_rgba(0,0,0,0.5)] flex items-center gap-1 border border-white/40",children:[c.jsx(Yd,{className:"w-2.5 h-2.5"}),"Secured"]})})}),o&&c.jsx(M.div,{className:"absolute inset-0 rounded-[0.6rem] border-2 border-bb-gold/50",animate:{opacity:[0,1,0],scale:[1,1.05,1]},transition:{duration:2,repeat:1/0}})]})]},n)})})})});Ao.propTypes={buckets:F.object.isRequired};const Co=p.memo(function({message:t,color:n}){return c.jsx(ue,{children:t&&c.jsx(M.div,{initial:{opacity:0,scale:.9,y:-50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-50},transition:{type:"spring",damping:25,stiffness:400},className:"w-full flex justify-center pointer-events-none",children:c.jsxs("div",{className:"w-[92%] max-w-[400px] px-6 py-4 rounded-3xl backdrop-blur-3xl border border-white/30 shadow-[0_20px_50px_rgba(0,0,0,0.5)] text-center relative overflow-hidden",style:{background:`linear-gradient(165deg, ${n||"rgba(59,130,246,0.6)"} 0%, rgba(10,34,70,0.98) 100%)`},children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full animate-[shimmer_3s_infinite]"}),c.jsx("span",{className:"text-[0.85rem] sm:text-[1rem] text-white font-bold leading-normal drop-shadow-md block relative z-10",children:t})]})},t)})});Co.propTypes={message:F.string,color:F.string};const Ht=async e=>{const t="https://bjuat.bajajlife.com/BalicLmsUtil/whatsappInhouse",n=new URLSearchParams(window.location.search),s=n.get("userId")||"",i=n.get("gameId")||"",r={cust_name:e.name||e.fullName||"",mobile_no:e.mobile_no||e.contact_number||"",dob:"",gender:"M",pincode:"",email_id:e.email_id||"",life_goal_category:"",investment_amount:"",product_id:"",p_source:"Marketing Assist",p_data_source:"GAMIFICATION",pasa_amount:"",product_name:"",pasa_product:"",associated_rider:"",customer_app_product:"",p_data_medium:" GAMIFICATION ",utmSource:"",userId:s,gameID:i,remarks:e.summary_dtls||"Secure Saga (Financial Match) Lead",appointment_date:"",appointment_time:""};console.log("[API] Submitting lead to WhatsApp Inhouse API:",r);try{const o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await o.json().catch(()=>({}));return{success:o.ok,...a}}catch(o){return console.error("LMS Submission Error:",o),{success:!1,error:o.message}}},Ph=({score:e})=>{const t=p.useRef(null),[n,s]=p.useState(0),i=isNaN(e)?0:e,r=Math.min(Math.max(Number(i),0),100),o=l=>l<40?"#FF3D00":l<75?"#FFD600":"#00E676";p.useEffect(()=>{const l=t.current;if(!l)return;const u=l.getContext("2d");let d;const h=.8*Math.PI,f=2.2*Math.PI,m=f-h,g=l.width,y=l.height,b=g/2,T=y/2,w=Math.min(g,y)/2-20,x=20;let S=0;const k=()=>{const j=r-S;Math.abs(j)>.5?S+=j*.08:S=r,s(Math.round(S)),u.clearRect(0,0,g,y),u.beginPath(),u.arc(b,T,w,h,f),u.lineWidth=x,u.strokeStyle="rgba(255, 255, 255, 0.1)",u.lineCap="round",u.stroke();const P=S/100,v=h+P*m,E=o(S);u.save(),u.beginPath(),u.arc(b,T,w,h,v),u.lineWidth=x,u.strokeStyle=E,u.lineCap="round",u.shadowBlur=20,u.shadowColor=E,u.stroke(),u.restore();const C=40;u.save(),u.shadowBlur=0;for(let H=0;H<=C;H++){const ee=H/C,re=h+ee*m,L=H%10===0,O=L?12:6,$=w-x/2-5,Z=$-O,Le=b+Math.cos(re)*$,Et=T+Math.sin(re)*$,Do=b+Math.cos(re)*Z,Lo=T+Math.sin(re)*Z;u.beginPath(),u.moveTo(Le,Et),u.lineTo(Do,Lo),u.lineWidth=L?2:1,u.strokeStyle=ee<=P?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.2)",u.stroke()}u.restore();const D=w-10,_=b+Math.cos(v)*D,U=T+Math.sin(v)*D;u.save(),u.beginPath(),u.moveTo(b,T),u.lineTo(_,U),u.lineWidth=4,u.strokeStyle="#fff",u.lineCap="round",u.shadowBlur=15,u.shadowColor="#fff",u.stroke(),u.beginPath(),u.arc(b,T,8,0,Math.PI*2),u.fillStyle="#fff",u.fill(),u.restore(),Math.abs(j)>.5&&(d=requestAnimationFrame(k))};return k(),()=>{d&&cancelAnimationFrame(d)}},[r]);const a=o(n);return c.jsxs("div",{className:"relative flex flex-col items-center justify-center select-none w-full max-w-[350px] mx-auto",children:[c.jsx("canvas",{ref:t,width:350,height:300,className:"w-full h-auto drop-shadow-xl"}),c.jsx("div",{className:"text-center pointer-events-none z-10 -mt-12 mb-4",children:c.jsxs("div",{className:"text-5xl sm:text-6xl font-black text-white italic tracking-tighter",style:{textShadow:`0 0 20px ${a}, 0 0 40px ${a}`},children:[n,c.jsx("span",{className:"text-2xl sm:text-3xl font-bold not-italic ml-1 text-white/50",children:"/100"})]})})]})},No=()=>{const e=p.useRef(null);return p.useEffect(()=>{const t=e.current;if(!t)return;const n=t.getContext("2d");let s=window.innerWidth,i=window.innerHeight;t.width=s,t.height=i;const r=[],o=150,a=["#0066B2","#FF8C00","#ffffff","#FFD700","#00A3E0"];class l{constructor(){this.init()}init(){this.x=Math.random()*s,this.y=Math.random()*i-i,this.rotation=Math.random()*360,this.size=Math.random()*8+4,this.color=a[Math.floor(Math.random()*a.length)],this.vx=Math.random()*2-1,this.vy=Math.random()*2+2}update(){this.x+=this.vx,this.y+=this.vy,this.rotation+=2,this.y>i&&(this.init(),this.y=-20)}draw(){n.save(),n.translate(this.x,this.y),n.rotate(this.rotation*Math.PI/180),n.fillStyle=this.color,n.fillRect(-this.size/2,-this.size/2,this.size,this.size),n.restore()}}for(let m=0;m<o;m++)r.push(new l);let u;const d=()=>{n.clearRect(0,0,s,i),r.forEach(m=>{m.update(),m.draw()}),u=requestAnimationFrame(d)};d();const h=setTimeout(()=>{cancelAnimationFrame(u),n.clearRect(0,0,s,i)},5e3),f=()=>{s=window.innerWidth,i=window.innerHeight,t.width=s,t.height=i};return window.addEventListener("resize",f),()=>{cancelAnimationFrame(u),clearTimeout(h),window.removeEventListener("resize",f)}},[]),c.jsx("canvas",{ref:e,className:"fixed inset-0 pointer-events-none z-[100]"})},Ah=["GREEN","BLUE","YELLOW","RED"],Ch=({finalScore:e,buckets:t,userName:n,userPhone:s,onRestart:i,onBookSlot:r})=>{const o=e||0,[a,l]=p.useState(!1),[u,d]=p.useState(!1),[h,f]=p.useState({name:n||"",mobile:s||"",date:"",time:"",consent:!0}),[m,g]=p.useState(!1),[y,b]=p.useState({}),T=new Date().toISOString().split("T")[0],w=new Date(new Date().getFullYear(),11,31).toISOString().split("T")[0],x=(v,E)=>{f(C=>({...C,[v]:E})),y[v]&&b(C=>({...C,[v]:null}))},S=()=>{const v={};return h.name.trim()?/^[A-Za-z\s]+$/.test(h.name.trim())||(v.name="Invalid name"):v.name="Name is required",h.mobile?/^\d{10}$/.test(h.mobile)||(v.mobile="Invalid Mobile Number"):v.mobile="Mobile is required",h.date||(v.date="Required"),h.time||(v.time="Required"),h.consent||(v.consent="Consent is required"),b(v),Object.keys(v).length===0},k=async v=>{if(v.preventDefault(),!!S()){g(!0);try{r&&await r(h),l(!1)}catch{}finally{g(!1)}}},j=async()=>{const v="Check how prepared you are for your financial goals with Secure Saga! Play now at Bajaj Life Insurance.";if(navigator.share)try{await navigator.share({title:"Secure Saga",text:v,url:window.location.href})}catch{}else try{await navigator.clipboard.writeText(v+" "+window.location.href)}catch{}};return c.jsxs("div",{className:"w-full h-[100dvh] overflow-hidden flex flex-col items-center px-4 py-2 sm:py-4 relative",style:{background:"linear-gradient(180deg, #00509E 0%, #003366 100%)"},children:[c.jsx(No,{}),c.jsx("button",{onClick:j,className:"absolute top-4 right-4 z-50 text-white/90 hover:text-white transition-opacity p-2 bg-black/10 rounded-full backdrop-blur-sm",children:c.jsx(vi,{className:"w-6 h-6 sm:w-7 sm:h-7",strokeWidth:2.5})}),c.jsxs("div",{className:"relative z-10 w-full max-w-[500px] flex-1 flex flex-col items-center justify-between py-1 sm:py-2",children:[c.jsxs("div",{className:"text-center w-full flex flex-col items-center",children:[c.jsxs("h1",{className:"text-sm sm:text-lg font-medium text-white uppercase tracking-wide italic leading-tight",children:["Hi ",c.jsxs("span",{className:"ml-1 text-xl sm:text-3xl font-black",children:[n?n.charAt(0).toUpperCase()+n.slice(1):"Player","!"]})]}),c.jsxs("h2",{className:"text-[10px] sm:text-base text-white uppercase tracking-wide italic opacity-90 leading-tight",children:["Your ",c.jsx("span",{className:"font-black text-sm sm:text-xl text-[#FF8C00]",children:"Secure Saga"})," score is"]}),c.jsx("div",{className:"transform scale-[0.7] xs:scale-[0.85] sm:scale-100 -my-10 sm:-my-4 origin-center",children:c.jsx(Ph,{score:o})}),c.jsx("div",{className:"flex justify-center -mt-2 sm:-mt-4 mb-2 relative z-20",children:c.jsxs("button",{onClick:()=>d(!0),className:"text-white/80 hover:text-white text-[9px] sm:text-xs font-bold uppercase tracking-[0.15em] flex items-center gap-1 bg-white/10 px-4 py-2 rounded-full backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-all shadow-lg",children:["View Breakdown ",c.jsx(zd,{size:11})]})})]}),c.jsxs("div",{className:"w-full flex-1 flex flex-col items-center justify-center gap-2 sm:gap-3 mt-1 sm:mt-2",children:[c.jsx("div",{className:"flex justify-center",children:c.jsxs("button",{onClick:j,className:"bg-gradient-to-r from-[#FF8C00] to-[#FF7000] text-white font-black py-2.5 px-10 sm:py-3 sm:px-12 shadow-[0_3px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center gap-2 text-[11px] sm:text-sm border-2 border-white/10 tracking-widest rounded-lg",children:[c.jsx(vi,{className:"w-4 h-4 sm:w-5 sm:h-5"})," Share"]})}),c.jsxs("div",{className:"w-full bg-white p-4 sm:p-5 shadow-[0_15px_40px_rgba(0,0,0,0.5)] border-2 border-white/50 rounded-xl relative z-20 mx-auto",children:[c.jsx("p",{className:"text-slate-600 text-[9px] sm:text-[11px] font-bold text-center mb-3 leading-tight tracking-wide",children:"To know more, connect with our Relationship Manager."}),c.jsx("a",{href:"tel:1800209999",className:"block w-full mb-3",children:c.jsxs("button",{className:"w-full bg-[#0066B2] hover:bg-[#004C85] text-white font-black py-3 sm:py-4 shadow-[0_3px_0_#00335C] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-xs sm:text-base tracking-widest border-2 border-white/10 rounded-lg",children:[c.jsx(Qd,{className:"w-4 h-4 sm:w-5 sm:h-5"})," Call Now"]})}),c.jsxs("div",{className:"relative py-1 sm:py-2 mb-3",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-slate-100"})}),c.jsx("div",{className:"relative flex justify-center text-[8px] sm:text-[10px] uppercase",children:c.jsx("span",{className:"px-3 bg-white text-slate-400 font-black tracking-widest",children:"Or"})})]}),c.jsxs("button",{onClick:()=>l(!0),className:"w-full bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black py-3 sm:py-4 shadow-[0_3px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-xs sm:text-base tracking-widest border-2 border-white/10 rounded-lg",children:[c.jsx(Gd,{className:"w-4 h-4 sm:w-5 sm:h-5"})," Book a Slot"]})]})]}),c.jsx("div",{className:"text-center pb-3 sm:pb-6",children:c.jsxs("button",{onClick:i,className:"text-blue-100/60 hover:text-white text-[10px] sm:text-sm font-black tracking-[0.2em] transition-colors flex items-center justify-center gap-2 mx-auto drop-shadow-md",children:[c.jsx(sh,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})," Retake Quiz"]})})]}),c.jsx(ue,{children:u&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:c.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white p-6 w-full max-w-sm shadow-2xl relative border-4 border-white/50 rounded-xl",children:[c.jsx("button",{onClick:()=>d(!1),className:"absolute right-4 top-4 text-slate-300 hover:text-slate-500 transition-colors bg-slate-100 p-1 rounded-full",children:c.jsx(Ge,{className:"w-5 h-5"})}),c.jsx("h3",{className:"text-[#0066B2] font-black text-center mb-6 uppercase tracking-wider text-sm",children:"Bucket Breakdown"}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ah.map(v=>{const E=Jn[v],C=t[v]||0,D=Math.min(Math.round(C/Te*100),100);return c.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg flex flex-col items-center border border-slate-100 shadow-sm relative overflow-hidden group",children:[c.jsx("div",{className:"absolute top-0 left-0 w-1 h-full",style:{background:E.color}}),c.jsx("div",{className:"w-6 h-6 rounded mb-1 shadow-sm",style:{background:E.bg}}),c.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wide text-center leading-tight mb-0.5 whitespace-nowrap overflow-hidden text-ellipsis w-full px-1",children:E.label}),c.jsxs("span",{className:"text-lg font-black text-slate-700",children:[D,"%"]})]},v)})})]})})}),c.jsx(ue,{children:a&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:c.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white p-6 w-full max-w-sm shadow-2xl relative border-4 border-white/50 rounded-xl",children:[c.jsx("button",{onClick:()=>l(!1),className:"absolute right-4 top-4 text-slate-300 hover:text-slate-500 transition-colors bg-slate-100 p-1 rounded-full",children:c.jsx(Ge,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-[#0066B2] font-black text-center mb-6 text-sm sm:text-base uppercase tracking-tight pt-2",children:"Book a convenient slot"}),c.jsxs("form",{onSubmit:k,className:"space-y-3 sm:space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Your Name"}),c.jsx("input",{value:h.name,onChange:v=>x("name",v.target.value),className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-xs font-bold px-3 rounded",placeholder:"Full Name"}),y.name&&c.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:y.name})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mobile Number"}),c.jsx("input",{value:h.mobile,onChange:v=>{const E=v.target.value.replace(/\D/g,"").slice(0,10);x("mobile",E)},type:"tel",className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-xs font-bold px-3 rounded",placeholder:"9876543210"}),y.mobile&&c.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:y.mobile})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Preferred Date"}),c.jsx("input",{type:"date",min:T,max:w,value:h.date,onChange:v=>x("date",v.target.value),className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-[10px] font-bold px-2 rounded"}),y.date&&c.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:y.date})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Preferred Time"}),c.jsxs("select",{value:h.time,onChange:v=>x("time",v.target.value),className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-100 text-[10px] font-bold px-2 appearance-none rounded",children:[c.jsx("option",{value:"",children:"Select"}),[...Array(12)].map((v,E)=>{const C=9+E,D=C+1,_=H=>{const ee=H>=12?"PM":"AM";return`${H>12?H-12:H}:00 ${ee}`},U=`${_(C)} - ${_(D)}`;return c.jsx("option",{value:U,children:U},C)})]}),y.time&&c.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:y.time})]})]}),c.jsxs("div",{className:"pt-1",children:[c.jsxs("label",{className:"flex items-start gap-2 cursor-pointer group",children:[c.jsxs("div",{className:"relative mt-0.5",children:[c.jsx("input",{type:"checkbox",checked:h.consent,onChange:v=>x("consent",v.target.checked),className:"peer sr-only"}),c.jsx("div",{className:"w-4 h-4 border-2 border-slate-200 rounded bg-slate-50 peer-checked:bg-[#0066B2] peer-checked:border-[#0066B2] transition-all"}),c.jsx("svg",{className:"absolute top-0 left-0 w-4 h-4 text-white p-0.5 opacity-0 peer-checked:opacity-100 transition-opacity",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})]}),c.jsxs("span",{className:"text-[9px] sm:text-[10px] text-slate-500 font-medium leading-tight select-none",children:["I agree to receive communications from Bajaj Life Insurance regarding my booking and other products.",c.jsx("span",{className:"text-[#0066B2] hover:underline ml-1",children:"T&C Apply."})]})]}),y.consent&&c.jsx("p",{className:"text-[9px] text-red-500 mt-1 font-bold uppercase",children:y.consent})]}),c.jsx("button",{type:"submit",disabled:m,className:"w-full bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black py-4 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all uppercase tracking-widest text-xs mt-3 border-2 border-white/20 rounded-lg",children:m?"Confirming...":"Book a Slot"})]})]})})})]})},Nh=({onRestart:e,userName:t})=>c.jsxs("div",{className:"relative w-full min-h-[100dvh] flex flex-col overflow-hidden max-w-[600px] mx-auto text-sans",style:{background:"linear-gradient(180deg, #00509E 0%, #003366 100%)"},children:[c.jsx(No,{}),c.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none bg-cover bg-center opacity-60 mix-blend-overlay",style:{backgroundImage:"linear-gradient(radial-gradient, circle at center, rgba(255,255,255,0.2) 0%, transparent 70%)"}}),c.jsx("div",{className:"relative z-50 w-full h-full flex flex-col py-8 px-4 sm:px-8 overflow-y-auto custom-scrollbar justify-center items-center",children:c.jsxs(M.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:20},className:"flex flex-col items-center justify-center w-full text-center",children:[c.jsxs(M.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-4xl sm:text-6xl md:text-7xl font-black text-white italic tracking-tight drop-shadow-xl mb-6 leading-tight",children:["Thank You ",c.jsx("br",{})," ",t?t.charAt(0).toUpperCase()+t.slice(1):"Player"]}),c.jsx(M.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-base sm:text-xl md:text-2xl text-blue-100 font-bold drop-shadow-md mb-2 tracking-wide",children:"For sharing your details"}),c.jsx(M.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-sm sm:text-lg md:text-xl text-white/90 font-medium drop-shadow-md mb-12 tracking-wide",children:"Our Relationship Manager will connect with you"}),c.jsx(M.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},onClick:e,className:"bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black text-sm py-4 px-12 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all tracking-widest border-2 border-white/20 rounded-lg",children:"Retake"})]})})]}),Mh=p.memo(function(){return c.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none bg-cinematic",children:[c.jsx("div",{className:"absolute inset-0 grid-texture opacity-20"}),c.jsx(M.div,{animate:{scale:[1,1.2,1],opacity:[.15,.25,.15],rotate:[0,45,0]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-[-10%] left-[20%] w-[500px] h-[500px] bg-blue-600/10 blur-[120px] rounded-full"}),c.jsx(M.div,{animate:{scale:[1,1.3,1],opacity:[.1,.2,.1],rotate:[0,-30,0]},transition:{duration:20,repeat:1/0,ease:"linear",delay:2},className:"absolute bottom-[-10%] right-[10%] w-[400px] h-[400px] bg-teal-500/10 blur-[100px] rounded-full"}),[...Array(12)].map((t,n)=>c.jsx(M.div,{initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,opacity:0},animate:{y:[null,Math.random()*-100],opacity:[0,.3,0]},transition:{duration:5+Math.random()*5,repeat:1/0,delay:Math.random()*5},className:"absolute w-1 h-1 bg-white rounded-full blur-[1px]"},n))]})}),N={SET_ENTRY:"SET_ENTRY",SHOW_HOW_TO_PLAY:"SHOW_HOW_TO_PLAY",START_GAME:"START_GAME",TICK:"TICK",FINISH_GAME:"FINISH_GAME",SHOW_RESULT:"SHOW_RESULT",SHOW_THANK_YOU:"SHOW_THANK_YOU",EXIT_GAME:"EXIT_GAME",RESTART_GAME:"RESTART_GAME",SELECT_CELL:"SELECT_CELL",DESELECT:"DESELECT",SET_PROCESSING:"SET_PROCESSING",APPLY_MATCH:"APPLY_MATCH",APPLY_INVALID_SWAP:"APPLY_INVALID_SWAP",SET_GRID:"SET_GRID",CLEAR_EXPLOSIONS:"CLEAR_EXPLOSIONS",ADD_FLOAT:"ADD_FLOAT",REMOVE_FLOAT:"REMOVE_FLOAT",SHOW_PRAISE:"SHOW_PRAISE",HIDE_PRAISE:"HIDE_PRAISE"},Mo={entryDetails:null,gameStatus:R.LANDING,timeLeft:120,grid:null,selectedCell:null,explodingCells:new Set,floatingScores:[],isProcessing:!1,buckets:{GREEN:0,BLUE:0,YELLOW:0,RED:0},totalMatches:0,maxCombo:0,activeCombo:0,activePraise:null,idleSeconds:0};function Rh(e,t,n){const s={...e};return s[t]!==void 0&&(s[t]=xh(s[t]+n,0,Te)),s}function Dh(e,t){switch(t.type){case N.SET_ENTRY:return{...e,entryDetails:t.payload};case N.SHOW_HOW_TO_PLAY:return{...e,gameStatus:R.HOW_TO_PLAY};case N.START_GAME:{const n=Sh({tileTypes:Ke,maxMoves:999});return{...e,grid:n.initialGrid,buckets:{GREEN:0,BLUE:0,YELLOW:0,RED:0},timeLeft:120,totalMatches:0,maxCombo:0,activeCombo:0,selectedCell:null,explodingCells:new Set,floatingScores:[],activePraise:null,isProcessing:!1,idleSeconds:0,gameStatus:R.PLAYING}}case N.TICK:{const n=Math.max(0,e.timeLeft-1);return n<=0?{...e,timeLeft:0,gameStatus:R.FINISHED,isProcessing:!1}:{...e,timeLeft:n,idleSeconds:e.isProcessing?0:e.idleSeconds+1}}case N.FINISH_GAME:return{...e,gameStatus:R.FINISHED,isProcessing:!1};case N.SHOW_RESULT:return{...e,gameStatus:R.RESULT};case N.SHOW_THANK_YOU:return{...e,gameStatus:R.THANK_YOU};case N.EXIT_GAME:return{...e,gameStatus:R.EXITED,isProcessing:!1};case N.RESTART_GAME:return{...Mo,entryDetails:e.entryDetails,gameStatus:e.entryDetails?R.HOW_TO_PLAY:R.LANDING};case N.SELECT_CELL:return{...e,selectedCell:t.payload,idleSeconds:0};case N.DESELECT:return{...e,selectedCell:null};case N.SET_PROCESSING:return{...e,isProcessing:t.payload};case N.APPLY_MATCH:{const{matchedTypes:n,matchLen:s,comboStep:i,explodingCells:r,newGrid:o}=t.payload;let a=ae.match3;s>=5?a=ae.match5:s>=4&&(a=ae.match4);const l=(i>1?ae.comboBonus:0)+(i>2?ae.cascadeBonus:0);let u={...e.buckets};for(const d of n)u=Rh(u,d,a+l);return{...e,grid:o,buckets:u,totalMatches:e.totalMatches+1,activeCombo:i,maxCombo:Math.max(e.maxCombo,i),explodingCells:new Set(r),selectedCell:null}}case N.APPLY_INVALID_SWAP:return{...e,selectedCell:null,isProcessing:!1};case N.SET_GRID:return{...e,grid:t.payload};case N.CLEAR_EXPLOSIONS:return{...e,explodingCells:new Set,isProcessing:!1};case N.ADD_FLOAT:return{...e,floatingScores:[...e.floatingScores,t.payload]};case N.REMOVE_FLOAT:return{...e,floatingScores:e.floatingScores.filter(n=>n.id!==t.payload)};case N.SHOW_PRAISE:return{...e,activePraise:t.payload};case N.HIDE_PRAISE:return{...e,activePraise:null};default:return e}}const Lh=""+new URL("swapping-DRinjgpx.wav",import.meta.url).href,Vh=""+new URL("burst_audio-BjgPWseQ.wav",import.meta.url).href;let Ih=0;function _h(){return`f-${++Ih}`}const Ro={swap:new Audio(Lh),burst:new Audio(Vh)};Object.values(Ro).forEach(e=>{e.volume=.6,e.preload="auto"});const Ai=e=>{if(e==="swap"||e==="burst"){const t=Ro[e];if(t){const n=t.cloneNode();n.volume=.6,n.play().catch(()=>{})}}};function Bh(){const[e,t]=p.useReducer(Dh,Mo),n=p.useRef(null),s=p.useRef(!1),i=p.useRef(null),r=p.useRef(null);p.useEffect(()=>{const w=()=>{const x=window.speechSynthesis.getVoices();if(x.length>0){const S=x.find(k=>k.name.includes("Zira")||k.name.includes("Samantha")||k.name.includes("Google US English")||k.name.includes("Female"));S&&(r.current=S)}};return w(),typeof window<"u"&&window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=w),()=>{typeof window<"u"&&window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=null)}},[]);const o=p.useCallback(w=>{if(!window.speechSynthesis)return;window.speechSynthesis.cancel();const x=new SpeechSynthesisUtterance(w);if(x.rate=1.1,x.pitch=1.2,x.volume=1,r.current)x.voice=r.current;else{const k=window.speechSynthesis.getVoices().find(j=>j.name.includes("Zira")||j.name.includes("Samantha")||j.name.includes("Google US English")||j.name.includes("Female"));k&&(x.voice=k)}window.speechSynthesis.speak(x)},[]);p.useEffect(()=>(e.gameStatus===R.PLAYING&&(n.current=setInterval(()=>{t({type:N.TICK})},1e3)),()=>{n.current&&clearInterval(n.current)}),[e.gameStatus]),p.useEffect(()=>{e.gameStatus===R.PLAYING&&gh(e.buckets)&&t({type:N.FINISH_GAME})},[e.gameStatus,e.buckets]),p.useEffect(()=>{const{gameStatus:w}=e;if(w===R.FINISHED){n.current&&clearInterval(n.current);const x=setTimeout(()=>{t({type:N.SHOW_RESULT})},1500);return()=>clearTimeout(x)}if(w===R.EXITED){if(n.current&&clearInterval(n.current),!s.current&&e.entryDetails){s.current=!0;const S=ki(e.buckets);Ht({name:e.entryDetails.name,mobile_no:e.entryDetails.mobile,summary_dtls:`Secure Saga - Early Exit - Score: ${S}/100`})}const x=setTimeout(()=>{t({type:N.SHOW_RESULT})},800);return()=>clearTimeout(x)}},[e.gameStatus]),p.useEffect(()=>()=>{n.current&&clearInterval(n.current),i.current&&clearTimeout(i.current)},[]);const a=p.useCallback(async(w,x)=>{t({type:N.SET_ENTRY,payload:{name:w,mobile:x}}),s.current=!1;const S=new Date;S.setDate(S.getDate()+1),S.toISOString().split("T")[0],await Ht({name:w.trim(),mobile_no:x,summary_dtls:"Secure Saga Lead"}),t({type:N.SHOW_HOW_TO_PLAY})},[]),l=p.useCallback(()=>{t({type:N.START_GAME})},[]),u=p.useCallback((w,x)=>{if(e.isProcessing||e.gameStatus!==R.PLAYING)return;const{selectedCell:S,grid:k}=e;if(!S){t({type:N.SELECT_CELL,payload:{row:w,col:x}});return}if(S.row===w&&S.col===x){t({type:N.DESELECT});return}const{row:j,col:P}=S,v=w,E=x;if(!(Math.abs(j-v)===1&&P===E||Math.abs(P-E)===1&&j===v)){t({type:N.SELECT_CELL,payload:{row:w,col:x}});return}if(!bt(k,j,P,v,E)){t({type:N.APPLY_INVALID_SWAP});return}Ai("swap"),t({type:N.SET_PROCESSING,payload:!0});const _=k.map(ee=>ee.map(re=>({...re}))),U={..._[j][P]},H={..._[v][E]};_[j][P]={...H,row:j,col:P},_[v][E]={...U,row:v,col:E},d(_)},[e.isProcessing,e.gameStatus,e.selectedCell,e.grid]),d=p.useCallback(async w=>{let x=w,S=0,k=0;for(;;){const j=kt(x);if(j.size===0)break;S++;const P=j.size,v=[...Eo(x,j)];let E=ae.match3;P>=5?E=ae.match5:P>=4&&(E=ae.match4);const C=(S>1?ae.comboBonus:0)+(S>2?ae.cascadeBonus:0);k+=E+C,Ai("burst"),t({type:N.APPLY_MATCH,payload:{matchedTypes:v,matchLen:P,comboStep:S,explodingCells:[...j],newGrid:x}}),f(`+${E+C}`,v[0]);const D=So(x,j),_=wo(D);x=To(_,Ke,0),await new Promise(U=>setTimeout(U,450))}t({type:N.SET_GRID,payload:x}),t({type:N.CLEAR_EXPLOSIONS}),(S>=2||k>=25)&&(await new Promise(j=>setTimeout(j,100)),h())},[]),h=p.useCallback(()=>{const w=Si[Math.floor(Math.random()*Si.length)];o(w),t({type:N.SHOW_PRAISE,payload:w}),i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{t({type:N.HIDE_PRAISE})},1500)},[]),f=p.useCallback((w,x)=>{const S=_h();t({type:N.ADD_FLOAT,payload:{id:S,value:w,x:40+Math.random()*20,y:40+Math.random()*20}}),setTimeout(()=>{t({type:N.REMOVE_FLOAT,payload:S})},800)},[]),m=p.useCallback(()=>{t({type:N.EXIT_GAME})},[]),g=p.useCallback(()=>{s.current=!1,t({type:N.RESTART_GAME})},[]),y=p.useCallback(()=>{t({type:N.SHOW_THANK_YOU})},[]),b=p.useCallback(async w=>{try{await Ht({name:w.name,mobile_no:w.mobile,param4:w.date,param19:w.time,summary_dtls:"Secure Saga - Slot Booking",p_data_source:"BALANCE_BUILDER_BOOKING"})}catch(x){console.error("Booking failed",x)}finally{t({type:N.SHOW_THANK_YOU})}},[]),T=ki(e.buckets);return{state:e,finalScore:T,handleEntrySubmit:a,startGame:l,handleCellTap:u,exitGame:m,restartGame:g,showThankYou:y,handleBookSlot:b}}const Fh=""+new URL("BGAudio-DrFe27ij.mp3",import.meta.url).href,Oh=""+new URL("Completion_audio-DEG-zs0A.wav",import.meta.url).href,Ie={initial:{opacity:0,y:12},animate:{opacity:1,y:0,transition:{duration:.35}},exit:{opacity:0,y:-12,transition:{duration:.2}}},Uh=p.memo(function(){const{state:t,finalScore:n,handleEntrySubmit:s,startGame:i,handleCellTap:r,restartGame:o,handleBookSlot:a}=Bh(),{gameStatus:l,timeLeft:u,grid:d,selectedCell:h,explodingCells:f,floatingScores:m,activePraise:g,buckets:y,entryDetails:b}=t,[T,w]=p.useState(!1),x=p.useRef(null),S=p.useRef(null),[k,j]=p.useState(!1),[P,v]=p.useState(null),[E,C]=p.useState(null),D=p.useRef(null),_=p.useRef(null);p.useEffect(()=>{if(!g)return;const L=_.current||{},O=Object.keys(y).filter($=>(y[$]||0)>(L[$]||0));if(O.length>0){const $=O[0],Z=mh[$],Le=Z[Math.floor(Math.random()*Z.length)],Et=Jn[$];v(`${g} ${Le}`),C(`${Et.color}44`),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{v(null),C(null)},4e3)}_.current={...y}},[g,y]),p.useEffect(()=>{if(l===R.PLAYING&&t.idleSeconds>=4&&!P){const L=Ti[Math.floor(Math.random()*Ti.length)];v(` ${L}`),C("rgba(239, 68, 68, 0.4)"),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{v(null),C(null)},3e3)}},[t.idleSeconds,l]),p.useEffect(()=>{(l===R.LANDING||l===R.HOW_TO_PLAY)&&(_.current=null)},[l]),p.useEffect(()=>{(async()=>{if(x.current)try{x.current.volume=.4,await x.current.play(),j(!0)}catch{}})()},[]),p.useEffect(()=>{(l===R.RESULT||l===R.EXITED)&&(x.current&&(x.current.pause(),x.current.currentTime=0,j(!1)),S.current&&(S.current.volume=.8,S.current.currentTime=0,S.current.play().catch(()=>{}))),(l===R.LANDING||l===R.ENTRY||l===R.PLAYING)&&(S.current&&(S.current.pause(),S.current.currentTime=0),!k&&x.current&&x.current.play().then(()=>j(!0)).catch(()=>{}))},[l]);const U=p.useCallback(()=>{!k&&x.current&&l!==R.RESULT&&l!==R.EXITED&&x.current.play().then(()=>j(!0)).catch(()=>{})},[k,l]),H=p.useCallback(()=>{U(),w(!0)},[U]),ee=p.useCallback(()=>{w(!1)},[]),re=p.useCallback(async(L,O)=>{U(),await s(L,O),w(!1)},[s,U]);return c.jsxs("div",{className:"h-[100dvh] w-full flex flex-col items-center relative overflow-hidden text-white font-sans",onClick:U,children:[c.jsx(Mh,{}),c.jsx("audio",{ref:x,src:Fh,loop:!0}),c.jsx("audio",{ref:S,src:Oh}),c.jsxs(ue,{children:[l===R.LANDING&&c.jsxs(M.div,{variants:Ie,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full relative z-10",children:[c.jsx(yn,{onStart:H}),c.jsx(ue,{children:T&&c.jsx(xo,{onSubmit:re,onClose:ee})})]},"landing"),l===R.ENTRY&&c.jsx(M.div,{variants:Ie,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full relative z-10",children:c.jsx(yn,{onStart:()=>{}})},"entry-transition"),l===R.HOW_TO_PLAY&&c.jsx(M.div,{variants:Ie,initial:"initial",animate:"animate",exit:"exit",className:"fixed inset-0 z-[1500] w-full h-[100dvh]",children:c.jsx(yo,{onStart:i})},"htp"),l===R.PLAYING&&c.jsxs(M.div,{variants:Ie,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full flex flex-col items-center justify-between pb-4 relative z-10",children:[c.jsx(vo,{timeLeft:u,userName:b==null?void 0:b.name}),c.jsx("div",{className:"flex-1 w-full flex flex-col items-center justify-center min-h-0 -mt-2 sm:-mt-4",children:c.jsx(Po,{grid:d,selectedCell:h,explodingCells:f,floatingScores:m,activePraise:g,onCellTap:r})}),c.jsx("div",{className:"fixed top-32 inset-x-0 z-[500] pointer-events-none",children:c.jsx(Co,{message:P,color:E})}),c.jsx(Ao,{buckets:y})]},"playing"),l===R.FINISHED&&c.jsx(M.div,{variants:Ie,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full flex items-center justify-center relative z-10",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-t-bb-gold border-white/10 rounded-full animate-spin"}),c.jsx(M.div,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-white/60 font-game text-xl tracking-wider uppercase",children:"Calculated..."})]})},"finished"),l===R.THANK_YOU&&c.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,pointerEvents:"none"},className:"fixed inset-0 z-[2000] bg-[#003366] overflow-hidden flex flex-col",children:c.jsx(Nh,{userName:b==null?void 0:b.name,onRestart:o})},"thankyou"),(l===R.RESULT||l===R.EXITED)&&c.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,pointerEvents:"none"},className:"fixed inset-0 z-[1000] bg-[#003366] overflow-hidden flex flex-col",children:c.jsx(Ch,{finalScore:n,buckets:y,userName:b==null?void 0:b.name,userPhone:b==null?void 0:b.mobile,onRestart:o,onBookSlot:a})},"result")]})]})});export{Uh as default};
