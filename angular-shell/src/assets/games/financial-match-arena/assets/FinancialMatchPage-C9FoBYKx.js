import{r as p,j as u}from"./index-D4p4vUIq.js";function Lo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const wn=p.createContext({});function Tn(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ai=typeof window<"u",Ci=Ai?p.useLayoutEffect:p.useEffect,vt=p.createContext(null);function Sn(e,t){e.indexOf(t)===-1&&e.push(t)}function dt(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const oe=(e,t,n)=>n>t?t:n<e?e:n;let En=()=>{};const ce={},ji=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Ni(e){return typeof e=="object"&&e!==null}const Mi=e=>/^0[^.\s]+$/u.test(e);function Ri(e){let t;return()=>(t===void 0&&(t=e()),t)}const Z=e=>e,Vo=(e,t)=>n=>t(e(n)),Xe=(...e)=>e.reduce(Vo),Ue=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class kn{constructor(){this.subscriptions=[]}add(t){return Sn(this.subscriptions,t),()=>dt(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const te=e=>e*1e3,q=e=>e/1e3;function Di(e,t){return t?e*(1e3/t):0}const Li=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Io=1e-7,Bo=12;function _o(e,t,n,s,i){let r,o,a=0;do o=t+(n-t)/2,r=Li(o,s,i)-e,r>0?n=o:t=o;while(Math.abs(r)>Io&&++a<Bo);return o}function qe(e,t,n,s){if(e===t&&n===s)return Z;const i=r=>_o(r,0,1,e,n);return r=>r===0||r===1?r:Li(i(r),t,s)}const Vi=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ii=e=>t=>1-e(1-t),Bi=qe(.33,1.53,.69,.99),Pn=Ii(Bi),_i=Vi(Pn),Fi=e=>(e*=2)<1?.5*Pn(e):.5*(2-Math.pow(2,-10*(e-1))),An=e=>1-Math.sin(Math.acos(e)),Oi=Ii(An),Wi=Vi(An),Fo=qe(.42,0,1,1),Oo=qe(0,0,.58,1),Gi=qe(.42,0,.58,1),Wo=e=>Array.isArray(e)&&typeof e[0]!="number",Ui=e=>Array.isArray(e)&&typeof e[0]=="number",Go={linear:Z,easeIn:Fo,easeInOut:Gi,easeOut:Oo,circIn:An,circInOut:Wi,circOut:Oi,backIn:Pn,backInOut:_i,backOut:Bi,anticipate:Fi},Uo=e=>typeof e=="string",Jn=e=>{if(Ui(e)){En(e.length===4);const[t,n,s,i]=e;return qe(t,n,s,i)}else if(Uo(e))return Go[e];return e},Qe=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function zo(e,t){let n=new Set,s=new Set,i=!1,r=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(l.schedule(d),e()),d(a)}const l={schedule:(d,h=!1,f=!1)=>{const g=f&&i?n:s;return h&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(a=d,i){r=!0;return}i=!0,[n,s]=[s,n],n.forEach(c),n.clear(),i=!1,r&&(r=!1,l.process(d))}};return l}const $o=40;function zi(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=Qe.reduce((y,S)=>(y[S]=zo(r),y),{}),{setup:a,read:c,resolveKeyframes:l,preUpdate:d,update:h,preRender:f,render:m,postRender:g}=o,b=()=>{const y=ce.useManualTiming?i.timestamp:performance.now();n=!1,ce.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(y-i.timestamp,$o),1)),i.timestamp=y,i.isProcessing=!0,a.process(i),c.process(i),l.process(i),d.process(i),h.process(i),f.process(i),m.process(i),g.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(b))},T=()=>{n=!0,s=!0,i.isProcessing||e(b)};return{schedule:Qe.reduce((y,S)=>{const E=o[S];return y[S]=(A,k=!1,x=!1)=>(n||T(),E.schedule(A,k,x)),y},{}),cancel:y=>{for(let S=0;S<Qe.length;S++)o[Qe[S]].cancel(y)},state:i,steps:o}}const{schedule:D,cancel:pe,state:G,steps:Pt}=zi(typeof requestAnimationFrame<"u"?requestAnimationFrame:Z,!0);let st;function Ho(){st=void 0}const $={now:()=>(st===void 0&&$.set(G.isProcessing||ce.useManualTiming?G.timestamp:performance.now()),st),set:e=>{st=e,queueMicrotask(Ho)}},$i=e=>t=>typeof t=="string"&&t.startsWith(e),Hi=$i("--"),Yo=$i("var(--"),Cn=e=>Yo(e)?Ko.test(e.split("/*")[0].trim()):!1,Ko=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Qn(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const De={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ze={...De,transform:e=>oe(0,1,e)},et={...De,default:1},_e=e=>Math.round(e*1e5)/1e5,jn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Xo(e){return e==null}const qo=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nn=(e,t)=>n=>!!(typeof n=="string"&&qo.test(n)&&n.startsWith(e)||t&&!Xo(n)&&Object.prototype.hasOwnProperty.call(n,t)),Yi=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,r,o,a]=s.match(jn);return{[e]:parseFloat(i),[t]:parseFloat(r),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Zo=e=>oe(0,255,e),At={...De,transform:e=>Math.round(Zo(e))},be={test:Nn("rgb","red"),parse:Yi("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+At.transform(e)+", "+At.transform(t)+", "+At.transform(n)+", "+_e(ze.transform(s))+")"};function Jo(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Yt={test:Nn("#"),parse:Jo,transform:be.transform},Ze=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),he=Ze("deg"),re=Ze("%"),C=Ze("px"),Qo=Ze("vh"),ea=Ze("vw"),es={...re,parse:e=>re.parse(e)/100,transform:e=>re.transform(e*100)},Pe={test:Nn("hsl","hue"),parse:Yi("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+re.transform(_e(t))+", "+re.transform(_e(n))+", "+_e(ze.transform(s))+")"},F={test:e=>be.test(e)||Yt.test(e)||Pe.test(e),parse:e=>be.test(e)?be.parse(e):Pe.test(e)?Pe.parse(e):Yt.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?be.transform(e):Pe.transform(e),getAnimatableNone:e=>{const t=F.parse(e);return t.alpha=0,F.transform(t)}},ta=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function na(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(jn))==null?void 0:t.length)||0)+(((n=e.match(ta))==null?void 0:n.length)||0)>0}const Ki="number",Xi="color",sa="var",ia="var(",ts="${}",ra=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $e(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let r=0;const a=t.replace(ra,c=>(F.test(c)?(s.color.push(r),i.push(Xi),n.push(F.parse(c))):c.startsWith(ia)?(s.var.push(r),i.push(sa),n.push(c)):(s.number.push(r),i.push(Ki),n.push(parseFloat(c))),++r,ts)).split(ts);return{values:n,split:a,indexes:s,types:i}}function qi(e){return $e(e).values}function Zi(e){const{split:t,types:n}=$e(e),s=t.length;return i=>{let r="";for(let o=0;o<s;o++)if(r+=t[o],i[o]!==void 0){const a=n[o];a===Ki?r+=_e(i[o]):a===Xi?r+=F.transform(i[o]):r+=i[o]}return r}}const oa=e=>typeof e=="number"?0:F.test(e)?F.getAnimatableNone(e):e;function aa(e){const t=qi(e);return Zi(e)(t.map(oa))}const ne={test:na,parse:qi,createTransformer:Zi,getAnimatableNone:aa};function Ct(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function la({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,r=0,o=0;if(!t)i=r=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=Ct(c,a,e+1/3),r=Ct(c,a,e),o=Ct(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:s}}function ht(e,t){return n=>n>0?t:e}const L=(e,t,n)=>e+(t-e)*n,jt=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},ca=[Yt,be,Pe],ua=e=>ca.find(t=>t.test(e));function ns(e){const t=ua(e);if(!t)return!1;let n=t.parse(e);return t===Pe&&(n=la(n)),n}const ss=(e,t)=>{const n=ns(e),s=ns(t);if(!n||!s)return ht(e,t);const i={...n};return r=>(i.red=jt(n.red,s.red,r),i.green=jt(n.green,s.green,r),i.blue=jt(n.blue,s.blue,r),i.alpha=L(n.alpha,s.alpha,r),be.transform(i))},Kt=new Set(["none","hidden"]);function da(e,t){return Kt.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function ha(e,t){return n=>L(e,t,n)}function Mn(e){return typeof e=="number"?ha:typeof e=="string"?Cn(e)?ht:F.test(e)?ss:pa:Array.isArray(e)?Ji:typeof e=="object"?F.test(e)?ss:fa:ht}function Ji(e,t){const n=[...e],s=n.length,i=e.map((r,o)=>Mn(r)(r,t[o]));return r=>{for(let o=0;o<s;o++)n[o]=i[o](r);return n}}function fa(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=Mn(e[i])(e[i],t[i]));return i=>{for(const r in s)n[r]=s[r](i);return n}}function ma(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const r=t.types[i],o=e.indexes[r][s[r]],a=e.values[o]??0;n[i]=a,s[r]++}return n}const pa=(e,t)=>{const n=ne.createTransformer(t),s=$e(e),i=$e(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Kt.has(e)&&!i.values.length||Kt.has(t)&&!s.values.length?da(e,t):Xe(Ji(ma(s,i),i.values),n):ht(e,t)};function Qi(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?L(e,t,n):Mn(e)(e,t)}const ga=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>D.update(t,n),stop:()=>pe(t),now:()=>G.isProcessing?G.timestamp:$.now()}},er=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let r=0;r<i;r++)s+=Math.round(e(r/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ft=2e4;function Rn(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<ft;)t+=n,s=e.next(t);return t>=ft?1/0:t}function ya(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(Rn(s),ft);return{type:"keyframes",ease:r=>s.next(i*r).value/t,duration:q(i)}}const xa=5;function tr(e,t,n){const s=Math.max(t-xa,0);return Di(n-e(s),t-s)}const I={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nt=.001;function ba({duration:e=I.duration,bounce:t=I.bounce,velocity:n=I.velocity,mass:s=I.mass}){let i,r,o=1-t;o=oe(I.minDamping,I.maxDamping,o),e=oe(I.minDuration,I.maxDuration,q(e)),o<1?(i=l=>{const d=l*o,h=d*e,f=d-n,m=Xt(l,o),g=Math.exp(-h);return Nt-f/m*g},r=l=>{const h=l*o*e,f=h*n+n,m=Math.pow(o,2)*Math.pow(l,2)*e,g=Math.exp(-h),b=Xt(Math.pow(l,2),o);return(-i(l)+Nt>0?-1:1)*((f-m)*g)/b}):(i=l=>{const d=Math.exp(-l*e),h=(l-n)*e+1;return-Nt+d*h},r=l=>{const d=Math.exp(-l*e),h=(n-l)*(e*e);return d*h});const a=5/e,c=wa(i,r,a);if(e=te(e),isNaN(c))return{stiffness:I.stiffness,damping:I.damping,duration:e};{const l=Math.pow(c,2)*s;return{stiffness:l,damping:o*2*Math.sqrt(s*l),duration:e}}}const va=12;function wa(e,t,n){let s=n;for(let i=1;i<va;i++)s=s-e(s)/t(s);return s}function Xt(e,t){return e*Math.sqrt(1-t*t)}const Ta=["duration","bounce"],Sa=["stiffness","damping","mass"];function is(e,t){return t.some(n=>e[n]!==void 0)}function Ea(e){let t={velocity:I.velocity,stiffness:I.stiffness,damping:I.damping,mass:I.mass,isResolvedFromDuration:!1,...e};if(!is(e,Sa)&&is(e,Ta))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,r=2*oe(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:I.mass,stiffness:i,damping:r}}else{const n=ba(e);t={...t,...n,mass:I.mass},t.isResolvedFromDuration=!0}return t}function mt(e=I.visualDuration,t=I.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const r=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:r},{stiffness:c,damping:l,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=Ea({...n,velocity:-q(n.velocity||0)}),g=f||0,b=l/(2*Math.sqrt(c*d)),T=o-r,v=q(Math.sqrt(c/d)),w=Math.abs(T)<5;s||(s=w?I.restSpeed.granular:I.restSpeed.default),i||(i=w?I.restDelta.granular:I.restDelta.default);let y;if(b<1){const E=Xt(v,b);y=A=>{const k=Math.exp(-b*v*A);return o-k*((g+b*v*T)/E*Math.sin(E*A)+T*Math.cos(E*A))}}else if(b===1)y=E=>o-Math.exp(-v*E)*(T+(g+v*T)*E);else{const E=v*Math.sqrt(b*b-1);y=A=>{const k=Math.exp(-b*v*A),x=Math.min(E*A,300);return o-k*((g+b*v*T)*Math.sinh(x)+E*T*Math.cosh(x))/E}}const S={calculatedDuration:m&&h||null,next:E=>{const A=y(E);if(m)a.done=E>=h;else{let k=E===0?g:0;b<1&&(k=E===0?te(g):tr(y,E,A));const x=Math.abs(k)<=s,P=Math.abs(o-A)<=i;a.done=x&&P}return a.value=a.done?o:A,a},toString:()=>{const E=Math.min(Rn(S),ft),A=er(k=>S.next(E*k).value,E,30);return E+"ms "+A},toTransition:()=>{}};return S}mt.applyToOptions=e=>{const t=ya(e,100,mt);return e.ease=t.ease,e.duration=te(t.duration),e.type="keyframes",e};function qt({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:c,restDelta:l=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=x=>a!==void 0&&x<a||c!==void 0&&x>c,g=x=>a===void 0?c:c===void 0||Math.abs(a-x)<Math.abs(c-x)?a:c;let b=n*t;const T=h+b,v=o===void 0?T:o(T);v!==T&&(b=v-h);const w=x=>-b*Math.exp(-x/s),y=x=>v+w(x),S=x=>{const P=w(x),M=y(x);f.done=Math.abs(P)<=l,f.value=f.done?v:M};let E,A;const k=x=>{m(f.value)&&(E=x,A=mt({keyframes:[f.value,g(f.value)],velocity:tr(y,x,f.value),damping:i,stiffness:r,restDelta:l,restSpeed:d}))};return k(0),{calculatedDuration:null,next:x=>{let P=!1;return!A&&E===void 0&&(P=!0,S(x),k(x)),E!==void 0&&x>=E?A.next(x-E):(!P&&S(x),f)}}}function ka(e,t,n){const s=[],i=n||ce.mix||Qi,r=e.length-1;for(let o=0;o<r;o++){let a=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Z:t;a=Xe(c,a)}s.push(a)}return s}function Pa(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const r=e.length;if(En(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=ka(t,s,i),c=a.length,l=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Ue(e[h],e[h+1],d);return a[h](f)};return n?d=>l(oe(e[0],e[r-1],d)):l}function Aa(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=Ue(0,t,s);e.push(L(n,1,i))}}function Ca(e){const t=[0];return Aa(t,e.length-1),t}function ja(e,t){return e.map(n=>n*t)}function Na(e,t){return e.map(()=>t||Gi).splice(0,e.length-1)}function Fe({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=Wo(s)?s.map(Jn):Jn(s),r={done:!1,value:t[0]},o=ja(n&&n.length===t.length?n:Ca(t),e),a=Pa(o,t,{ease:Array.isArray(i)?i:Na(t,i)});return{calculatedDuration:e,next:c=>(r.value=a(c),r.done=c>=e,r)}}const Ma=e=>e!==null;function Dn(e,{repeat:t,repeatType:n="loop"},s,i=1){const r=e.filter(Ma),a=i<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!a||s===void 0?r[a]:s}const Ra={decay:qt,inertia:qt,tween:Fe,keyframes:Fe,spring:mt};function nr(e){typeof e.type=="string"&&(e.type=Ra[e.type])}class Ln{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Da=e=>e/100;class Vn extends Ln{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==$.now()&&this.tick($.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;nr(t);const{type:n=Fe,repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=t;let{keyframes:a}=t;const c=n||Fe;c!==Fe&&typeof a[0]!="number"&&(this.mixKeyframes=Xe(Da,Qi(a[0],a[1])),a=[0,100]);const l=c({...t,keyframes:a});r==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...a].reverse(),velocity:-o})),l.calculatedDuration===null&&(l.calculatedDuration=Rn(l));const{calculatedDuration:d}=l;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=l}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:l=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:g,onUpdate:b,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-l*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let y=this.currentTime,S=s;if(h){const x=Math.min(this.currentTime,i)/a;let P=Math.floor(x),M=x%1;!M&&x>=1&&(M=1),M===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(f==="reverse"?(M=1-M,m&&(M-=m/a)):f==="mirror"&&(S=o)),y=oe(0,1,M)*a}const E=w?{done:!1,value:d[0]}:S.next(y);r&&(E.value=r(E.value));let{done:A}=E;!w&&c!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return k&&g!==qt&&(E.value=Dn(d,this.options,T,this.speed)),b&&b(E.value),k&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return q(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+q(t)}get time(){return q(this.currentTime)}set time(t){var n;t=te(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime($.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=q(this.currentTime))}play(){var i,r;if(this.isStopped)return;const{driver:t=ga,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(r=(i=this.options).onPlay)==null||r.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function La(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ve=e=>e*180/Math.PI,Zt=e=>{const t=ve(Math.atan2(e[1],e[0]));return Jt(t)},Va={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Zt,rotateZ:Zt,skewX:e=>ve(Math.atan(e[1])),skewY:e=>ve(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Jt=e=>(e=e%360,e<0&&(e+=360),e),rs=Zt,os=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),as=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Ia={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:os,scaleY:as,scale:e=>(os(e)+as(e))/2,rotateX:e=>Jt(ve(Math.atan2(e[6],e[5]))),rotateY:e=>Jt(ve(Math.atan2(-e[2],e[0]))),rotateZ:rs,rotate:rs,skewX:e=>ve(Math.atan(e[4])),skewY:e=>ve(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Qt(e){return e.includes("scale")?1:0}function en(e,t){if(!e||e==="none")return Qt(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=Ia,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Va,i=a}if(!i)return Qt(t);const r=s[t],o=i[1].split(",").map(_a);return typeof r=="function"?r(o):o[r]}const Ba=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return en(n,t)};function _a(e){return parseFloat(e.trim())}const Le=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ve=new Set(Le),ls=e=>e===De||e===C,Fa=new Set(["x","y","z"]),Oa=Le.filter(e=>!Fa.has(e));function Wa(e){const t=[];return Oa.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const me={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>en(t,"x"),y:(e,{transform:t})=>en(t,"y")};me.translateX=me.x;me.translateY=me.y;const we=new Set;let tn=!1,nn=!1,sn=!1;function sr(){if(nn){const e=Array.from(we).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=Wa(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([r,o])=>{var a;(a=s.getValue(r))==null||a.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}nn=!1,tn=!1,we.forEach(e=>e.complete(sn)),we.clear()}function ir(){we.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(nn=!0)})}function Ga(){sn=!0,ir(),sr(),sn=!1}class In{constructor(t,n,s,i,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(we.add(this),tn||(tn=!0,D.read(ir),D.resolveKeyframes(sr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const r=i==null?void 0:i.get(),o=t[t.length-1];if(r!==void 0)t[0]=r;else if(s&&n){const a=s.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&r===void 0&&i.set(t[0])}La(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),we.delete(this)}cancel(){this.state==="scheduled"&&(we.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ua=e=>e.startsWith("--");function za(e,t,n){Ua(t)?e.style.setProperty(t,n):e.style[t]=n}const $a={};function rr(e,t){const n=Ri(e);return()=>$a[t]??n()}const Ha=rr(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),or=rr(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Be=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,cs={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Be([0,.65,.55,1]),circOut:Be([.55,0,1,.45]),backIn:Be([.31,.01,.66,-.59]),backOut:Be([.33,1.53,.69,.99])};function ar(e,t){if(e)return typeof e=="function"?or()?er(e,t):"ease-out":Ui(e)?Be(e):Array.isArray(e)?e.map(n=>ar(n,t)||cs.easeOut):cs[e]}function Ya(e,t,n,{delay:s=0,duration:i=300,repeat:r=0,repeatType:o="loop",ease:a="easeOut",times:c}={},l=void 0){const d={[t]:n};c&&(d.offset=c);const h=ar(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:s,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return l&&(f.pseudoElement=l),e.animate(d,f)}function lr(e){return typeof e=="function"&&"applyToOptions"in e}function Ka({type:e,...t}){return lr(e)&&or()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class cr extends Ln{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=t,En(typeof t.type!="string");const l=Ka(t);this.animation=Ya(n,s,i,l,r),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const d=Dn(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):za(n,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s,i;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((i=(s=this.animation).commitStyles)==null||i.call(s))}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return q(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+q(t)}get time(){return q(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=te(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Ha()?(this.animation.timeline=t,Z):n(this)}}const ur={anticipate:Fi,backInOut:_i,circInOut:Wi};function Xa(e){return e in ur}function qa(e){typeof e.ease=="string"&&Xa(e.ease)&&(e.ease=ur[e.ease])}const Mt=10;class Za extends cr{constructor(t){qa(t),nr(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:r,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Vn({...o,autoplay:!1}),c=Math.max(Mt,$.now()-this.startTime),l=oe(0,Mt,c-Mt);n.setWithVelocity(a.sample(Math.max(0,c-l)).value,a.sample(c).value,l),a.stop()}}const us=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ne.test(e)||e==="0")&&!e.startsWith("url("));function Ja(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Qa(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],o=us(i,t),a=us(r,t);return!o||!a?!1:Ja(e)||(n==="spring"||lr(n))&&s}function rn(e){e.duration=0,e.type="keyframes"}const el=new Set(["opacity","clipPath","filter","transform"]),tl=Ri(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nl(e){var d;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:r,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:l}=t.owner.getProps();return tl()&&n&&el.has(n)&&(n!=="transform"||!l)&&!c&&!s&&i!=="mirror"&&r!==0&&o!=="inertia"}const sl=40;class il extends Ln{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o="loop",keyframes:a,name:c,motionValue:l,element:d,...h}){var g;super(),this.stop=()=>{var b,T;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=$.now();const f={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:r,repeatType:o,name:c,motionValue:l,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||In;this.keyframeResolver=new m(a,(b,T,v)=>this.onKeyframesResolved(b,T,f,!v),c,l,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,s,i){var T,v;this.keyframeResolver=void 0;const{name:r,type:o,velocity:a,delay:c,isHandoff:l,onUpdate:d}=s;this.resolvedAt=$.now(),Qa(t,r,o,a)||((ce.instantAnimations||!c)&&(d==null||d(Dn(t,s,n))),t[0]=t[t.length-1],rn(s),s.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>sl?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},m=!l&&nl(f),g=(v=(T=f.motionValue)==null?void 0:T.owner)==null?void 0:v.current,b=m?new Za({...f,element:g}):new Vn(f);b.finished.then(()=>{this.notifyFinished()}).catch(Z),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Ga()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function dr(e,t,n,s=0,i=1){const r=Array.from(e).sort((l,d)=>l.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*s;return typeof n=="function"?n(r,o):i===1?r*s:a-r*s}const rl=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ol(e){const t=rl.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function hr(e,t,n=1){const[s,i]=ol(e);if(!s)return;const r=window.getComputedStyle(t).getPropertyValue(s);if(r){const o=r.trim();return ji(o)?parseFloat(o):o}return Cn(i)?hr(i,t,n+1):i}const al={type:"spring",stiffness:500,damping:25,restSpeed:10},ll=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),cl={type:"keyframes",duration:.8},ul={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dl=(e,{keyframes:t})=>t.length>2?cl:Ve.has(e)?e.startsWith("scale")?ll(t[1]):al:ul,hl=e=>e!==null;function fl(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(hl),r=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[r]}function fr(e,t){if(e!=null&&e.inherit&&t){const{inherit:n,...s}=e;return{...t,...s}}return e}function Bn(e,t){const n=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return n!==e?fr(n,e):n}function ml({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:a,from:c,elapsed:l,...d}){return!!Object.keys(d).length}const _n=(e,t,n,s={},i,r)=>o=>{const a=Bn(s,e)||{},c=a.delay||s.delay||0;let{elapsed:l=0}=s;l=l-te(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-l,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:r?void 0:i};ml(a)||Object.assign(d,dl(e,d)),d.duration&&(d.duration=te(d.duration)),d.repeatDelay&&(d.repeatDelay=te(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(rn(d),d.delay===0&&(h=!0)),(ce.instantAnimations||ce.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(h=!0,rn(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!r&&t.get()!==void 0){const f=fl(d.keyframes,a);if(f!==void 0){D.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new Vn(d):new il(d)};function ds(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Fn(e,t,n,s){if(typeof t=="function"){const[i,r]=ds(s);t=t(n!==void 0?n:e.custom,i,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,r]=ds(s);t=t(n!==void 0?n:e.custom,i,r)}return t}function Me(e,t,n){const s=e.getProps();return Fn(s,t,n!==void 0?n:s.custom,e)}const mr=new Set(["width","height","top","left","right","bottom",...Le]),hs=30,pl=e=>!isNaN(parseFloat(e));class gl{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var r;const i=$.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=$.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pl(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new kn);const s=this.events[t].add(n);return t==="change"?()=>{s(),D.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=$.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hs)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hs);return Di(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Re(e,t){return new gl(e,t)}const on=e=>Array.isArray(e);function yl(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Re(n))}function xl(e){return on(e)?e[e.length-1]||0:e}function bl(e,t){const n=Me(e,t);let{transitionEnd:s={},transition:i={},...r}=n||{};r={...r,...s};for(const o in r){const a=xl(r[o]);yl(e,o,a)}}const U=e=>!!(e&&e.getVelocity);function vl(e){return!!(U(e)&&e.add)}function an(e,t){const n=e.getValue("willChange");if(vl(n))return n.add(t);if(!n&&ce.WillChange){const s=new ce.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function On(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const wl="framerAppearId",pr="data-"+On(wl);function gr(e){return e.props[pr]}function Tl({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function yr(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:r,transitionEnd:o,...a}=t;const c=e.getDefaultTransition();r=r?fr(r,c):c;const l=r==null?void 0:r.reduceMotion;s&&(r=s);const d=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const m=e.getValue(f,e.latestValues[f]??null),g=a[f];if(g===void 0||h&&Tl(h,f))continue;const b={delay:n,...Bn(r||{},f)},T=m.get();if(T!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===T&&!b.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const S=gr(e);if(S){const E=window.MotionHandoffAnimation(S,f,D);E!==null&&(b.startTime=E,v=!0)}}an(e,f);const w=l??e.shouldReduceMotion;m.start(_n(f,m,g,w&&mr.has(f)?{type:!1}:b,e,v));const y=m.animation;y&&d.push(y)}if(o){const f=()=>D.update(()=>{o&&bl(e,o)});d.length?Promise.all(d).then(f):f()}return d}function ln(e,t,n={}){var c;const s=Me(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const r=s?()=>Promise.all(yr(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return Sl(e,t,l,d,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,d]=a==="beforeChildren"?[r,o]:[o,r];return l().then(()=>d())}else return Promise.all([r(),o(n.delay)])}function Sl(e,t,n=0,s=0,i=0,r=1,o){const a=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),a.push(ln(c,t,{...o,delay:n+(typeof s=="function"?0:s)+dr(e.variantChildren,c,s,i,r)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(a)}function El(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(r=>ln(e,r,n));s=Promise.all(i)}else if(typeof t=="string")s=ln(e,t,n);else{const i=typeof t=="function"?Me(e,t,n.custom):t;s=Promise.all(yr(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const kl={test:e=>e==="auto",parse:e=>e},xr=e=>t=>t.test(e),br=[De,C,re,he,ea,Qo,kl],fs=e=>br.find(xr(e));function Pl(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Mi(e):!0}const Al=new Set(["brightness","contrast","saturate","opacity"]);function Cl(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(jn)||[];if(!s)return e;const i=n.replace(s,"");let r=Al.has(t)?1:0;return s!==n&&(r*=100),t+"("+r+i+")"}const jl=/\b([a-z-]*)\(.*?\)/gu,cn={...ne,getAnimatableNone:e=>{const t=e.match(jl);return t?t.map(Cl).join(" "):e}},un={...ne,getAnimatableNone:e=>{const t=ne.parse(e);return ne.createTransformer(e)(t.map(s=>typeof s=="number"?0:typeof s=="object"?{...s,alpha:1}:s))}},ms={...De,transform:Math.round},Nl={rotate:he,rotateX:he,rotateY:he,rotateZ:he,scale:et,scaleX:et,scaleY:et,scaleZ:et,skew:he,skewX:he,skewY:he,distance:C,translateX:C,translateY:C,translateZ:C,x:C,y:C,z:C,perspective:C,transformPerspective:C,opacity:ze,originX:es,originY:es,originZ:C},Wn={borderWidth:C,borderTopWidth:C,borderRightWidth:C,borderBottomWidth:C,borderLeftWidth:C,borderRadius:C,borderTopLeftRadius:C,borderTopRightRadius:C,borderBottomRightRadius:C,borderBottomLeftRadius:C,width:C,maxWidth:C,height:C,maxHeight:C,top:C,right:C,bottom:C,left:C,inset:C,insetBlock:C,insetBlockStart:C,insetBlockEnd:C,insetInline:C,insetInlineStart:C,insetInlineEnd:C,padding:C,paddingTop:C,paddingRight:C,paddingBottom:C,paddingLeft:C,paddingBlock:C,paddingBlockStart:C,paddingBlockEnd:C,paddingInline:C,paddingInlineStart:C,paddingInlineEnd:C,margin:C,marginTop:C,marginRight:C,marginBottom:C,marginLeft:C,marginBlock:C,marginBlockStart:C,marginBlockEnd:C,marginInline:C,marginInlineStart:C,marginInlineEnd:C,fontSize:C,backgroundPositionX:C,backgroundPositionY:C,...Nl,zIndex:ms,fillOpacity:ze,strokeOpacity:ze,numOctaves:ms},Ml={...Wn,color:F,backgroundColor:F,outlineColor:F,fill:F,stroke:F,borderColor:F,borderTopColor:F,borderRightColor:F,borderBottomColor:F,borderLeftColor:F,filter:cn,WebkitFilter:cn,mask:un,WebkitMask:un},vr=e=>Ml[e],Rl=new Set([cn,un]);function wr(e,t){let n=vr(e);return Rl.has(n)||(n=ne),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Dl=new Set(["auto","none","0"]);function Ll(e,t,n){let s=0,i;for(;s<e.length&&!i;){const r=e[s];typeof r=="string"&&!Dl.has(r)&&$e(r).values.length&&(i=e[s]),s++}if(i&&n)for(const r of t)e[r]=wr(n,i)}class Vl extends In{constructor(t,n,s,i,r){super(t,n,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),Cn(h))){const f=hr(h,n.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!mr.has(s)||t.length!==2)return;const[i,r]=t,o=fs(i),a=fs(r),c=Qn(i),l=Qn(r);if(c!==l&&me[s]){this.needsMeasurement=!0;return}if(o!==a)if(ls(o)&&ls(a))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else me[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||Pl(t[i]))&&s.push(i);s.length&&Ll(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=me[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const r=s.length-1,o=s[r];s[r]=me[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,l])=>{t.getValue(c).set(l)}),this.resolveNoneKeyframes()}}const Il=new Set(["opacity","clipPath","filter","transform"]);function Tr(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(s=>s!=null)}const Sr=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function dn(e){return Ni(e)&&"offsetHeight"in e}const{schedule:Gn}=zi(queueMicrotask,!1),ee={x:!1,y:!1};function Er(){return ee.x||ee.y}function Bl(e){return e==="x"||e==="y"?ee[e]?null:(ee[e]=!0,()=>{ee[e]=!1}):ee.x||ee.y?null:(ee.x=ee.y=!0,()=>{ee.x=ee.y=!1})}function kr(e,t){const n=Tr(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function _l(e){return!(e.pointerType==="touch"||Er())}function Fl(e,t,n={}){const[s,i,r]=kr(e,n);return s.forEach(o=>{let a=!1,c=!1,l;const d=()=>{o.removeEventListener("pointerleave",g)},h=T=>{l&&(l(T),l=void 0),d()},f=T=>{a=!1,window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",f),c&&(c=!1,h(T))},m=()=>{a=!0,window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",f,i)},g=T=>{if(T.pointerType!=="touch"){if(a){c=!0;return}h(T)}},b=T=>{if(!_l(T))return;c=!1;const v=t(o,T);typeof v=="function"&&(l=v,o.addEventListener("pointerleave",g,i))};o.addEventListener("pointerenter",b,i),o.addEventListener("pointerdown",m,i)}),r}const Pr=(e,t)=>t?e===t?!0:Pr(e,t.parentElement):!1,Un=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ol=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Wl(e){return Ol.has(e.tagName)||e.isContentEditable===!0}const Gl=new Set(["INPUT","SELECT","TEXTAREA"]);function Ul(e){return Gl.has(e.tagName)||e.isContentEditable===!0}const it=new WeakSet;function ps(e){return t=>{t.key==="Enter"&&e(t)}}function Rt(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const zl=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=ps(()=>{if(it.has(n))return;Rt(n,"down");const i=ps(()=>{Rt(n,"up")}),r=()=>Rt(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function gs(e){return Un(e)&&!Er()}const ys=new WeakSet;function $l(e,t,n={}){const[s,i,r]=kr(e,n),o=a=>{const c=a.currentTarget;if(!gs(a)||ys.has(a))return;it.add(c),n.stopPropagation&&ys.add(a);const l=t(c,a),d=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),it.has(c)&&it.delete(c),gs(m)&&typeof l=="function"&&l(m,{success:g})},h=m=>{d(m,c===window||c===document||n.useGlobalTarget||Pr(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),dn(a)&&(a.addEventListener("focus",l=>zl(l,i)),!Wl(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),r}function zn(e){return Ni(e)&&"ownerSVGElement"in e}const rt=new WeakMap;let fe;const Ar=(e,t,n)=>(s,i)=>i&&i[0]?i[0][e+"Size"]:zn(s)&&"getBBox"in s?s.getBBox()[t]:s[n],Hl=Ar("inline","width","offsetWidth"),Yl=Ar("block","height","offsetHeight");function Kl({target:e,borderBoxSize:t}){var n;(n=rt.get(e))==null||n.forEach(s=>{s(e,{get width(){return Hl(e,t)},get height(){return Yl(e,t)}})})}function Xl(e){e.forEach(Kl)}function ql(){typeof ResizeObserver>"u"||(fe=new ResizeObserver(Xl))}function Zl(e,t){fe||ql();const n=Tr(e);return n.forEach(s=>{let i=rt.get(s);i||(i=new Set,rt.set(s,i)),i.add(t),fe==null||fe.observe(s)}),()=>{n.forEach(s=>{const i=rt.get(s);i==null||i.delete(t),i!=null&&i.size||fe==null||fe.unobserve(s)})}}const ot=new Set;let Ae;function Jl(){Ae=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};ot.forEach(t=>t(e))},window.addEventListener("resize",Ae)}function Ql(e){return ot.add(e),Ae||Jl(),()=>{ot.delete(e),!ot.size&&typeof Ae=="function"&&(window.removeEventListener("resize",Ae),Ae=void 0)}}function xs(e,t){return typeof e=="function"?Ql(e):Zl(e,t)}function ec(e){return zn(e)&&e.tagName==="svg"}const tc=[...br,F,ne],nc=e=>tc.find(xr(e)),bs=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ce=()=>({x:bs(),y:bs()}),vs=()=>({min:0,max:0}),W=()=>({x:vs(),y:vs()}),sc=new WeakMap;function wt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function He(e){return typeof e=="string"||Array.isArray(e)}const $n=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hn=["initial",...$n];function Tt(e){return wt(e.animate)||Hn.some(t=>He(e[t]))}function Cr(e){return!!(Tt(e)||e.variants)}function ic(e,t,n){for(const s in t){const i=t[s],r=n[s];if(U(i))e.addValue(s,i);else if(U(r))e.addValue(s,Re(i,{owner:e}));else if(r!==i)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(s);e.addValue(s,Re(o!==void 0?o:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const hn={current:null},jr={current:!1},rc=typeof window<"u";function oc(){if(jr.current=!0,!!rc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hn.current=e.matches;e.addEventListener("change",t),t()}else hn.current=!1}const ws=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let pt={};function Nr(e){pt=e}function ac(){return pt}class lc{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,skipAnimations:r,blockInitialAnimation:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=In,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=$.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,D.render(this.render,!1,!0))};const{latestValues:l,renderState:d}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=r,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Tt(n),this.isVariantNode=Cr(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const g=f[m];l[m]!==void 0&&U(g)&&g.set(l[m])}}mount(t){var n,s;if(this.hasBeenMounted)for(const i in this.initialValues)(n=this.values.get(i))==null||n.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=t,sc.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(jr.current||oc(),this.shouldReduceMotion=hn.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),pe(this.notifyUpdate),pe(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&Il.has(t)&&this.current instanceof HTMLElement){const{factory:o,keyframes:a,times:c,ease:l,duration:d}=n.accelerate,h=new cr({element:this.current,name:t,keyframes:a,times:c,ease:l,duration:te(d)}),f=o(h);this.valueSubscriptions.set(t,()=>{f(),h.cancel()});return}const s=Ve.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&D.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;typeof window<"u"&&window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in pt){const n=pt[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):W()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ws.length;s++){const i=ws[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,o=t[r];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=ic(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Re(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(ji(s)||Mi(s))?s=parseFloat(s):!nc(s)&&ne.test(n)&&(s=wr(t,n)),this.setBaseTarget(t,U(s)?s.get():s)),U(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=Fn(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!U(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new kn),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Gn.render(this.render)}}class Mr extends lc{constructor(){super(...arguments),this.KeyframeResolver=Vl}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;U(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ge{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Rr({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function cc({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function uc(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Dt(e){return e===void 0||e===1}function fn({scale:e,scaleX:t,scaleY:n}){return!Dt(e)||!Dt(t)||!Dt(n)}function xe(e){return fn(e)||Dr(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Dr(e){return Ts(e.x)||Ts(e.y)}function Ts(e){return e&&e!=="0%"}function gt(e,t,n){const s=e-n,i=t*s;return n+i}function Ss(e,t,n,s,i){return i!==void 0&&(e=gt(e,i,s)),gt(e,n,s)+t}function mn(e,t=0,n=1,s,i){e.min=Ss(e.min,t,n,s,i),e.max=Ss(e.max,t,n,s,i)}function Lr(e,{x:t,y:n}){mn(e.x,t.translate,t.scale,t.originPoint),mn(e.y,n.translate,n.scale,n.originPoint)}const Es=.999999999999,ks=1.0000000000001;function dc(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let r,o;for(let a=0;a<i;a++){r=n[a],o=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Ne(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Lr(e,o)),s&&xe(r.latestValues)&&Ne(e,r.latestValues))}t.x<ks&&t.x>Es&&(t.x=1),t.y<ks&&t.y>Es&&(t.y=1)}function je(e,t){e.min=e.min+t,e.max=e.max+t}function Ps(e,t,n,s,i=.5){const r=L(e.min,e.max,i);mn(e,t,n,r,s)}function Ne(e,t){Ps(e.x,t.x,t.scaleX,t.scale,t.originX),Ps(e.y,t.y,t.scaleY,t.scale,t.originY)}function Vr(e,t){return Rr(uc(e.getBoundingClientRect(),t))}function hc(e,t,n){const s=Vr(e,n),{scroll:i}=t;return i&&(je(s.x,i.offset.x),je(s.y,i.offset.y)),s}const fc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mc=Le.length;function pc(e,t,n){let s="",i=!0;for(let r=0;r<mc;r++){const o=Le[r],a=e[o];if(a===void 0)continue;let c=!0;if(typeof a=="number")c=a===(o.startsWith("scale")?1:0);else{const l=parseFloat(a);c=o.startsWith("scale")?l===1:l===0}if(!c||n){const l=Sr(a,Wn[o]);if(!c){i=!1;const d=fc[o]||o;s+=`${d}(${l}) `}n&&(t[o]=l)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function Yn(e,t,n){const{style:s,vars:i,transformOrigin:r}=e;let o=!1,a=!1;for(const c in t){const l=t[c];if(Ve.has(c)){o=!0;continue}else if(Hi(c)){i[c]=l;continue}else{const d=Sr(l,Wn[c]);c.startsWith("origin")?(a=!0,r[c]=d):s[c]=d}}if(t.transform||(o||n?s.transform=pc(t,e.transform,n):s.transform&&(s.transform="none")),a){const{originX:c="50%",originY:l="50%",originZ:d=0}=r;s.transformOrigin=`${c} ${l} ${d}`}}function Ir(e,{style:t,vars:n},s,i){const r=e.style;let o;for(o in t)r[o]=t[o];i==null||i.applyProjectionStyles(r,s);for(o in n)r.setProperty(o,n[o])}function As(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ie={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(C.test(e))e=parseFloat(e);else return e;const n=As(e,t.target.x),s=As(e,t.target.y);return`${n}% ${s}%`}},gc={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=ne.parse(e);if(i.length>5)return s;const r=ne.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=c;const l=L(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=l),typeof i[3+o]=="number"&&(i[3+o]/=l),r(i)}},pn={borderRadius:{...Ie,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomLeftRadius:Ie,borderBottomRightRadius:Ie,boxShadow:gc};function Br(e,{layout:t,layoutId:n}){return Ve.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!pn[e]||e==="opacity")}function Kn(e,t,n){var o;const s=e.style,i=t==null?void 0:t.style,r={};if(!s)return r;for(const a in s)(U(s[a])||i&&U(i[a])||Br(a,e)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(r[a]=s[a]);return r}function yc(e){return window.getComputedStyle(e)}class xc extends Mr{constructor(){super(...arguments),this.type="html",this.renderInstance=Ir}readValueFromInstance(t,n){var s;if(Ve.has(n))return(s=this.projection)!=null&&s.isProjecting?Qt(n):Ba(t,n);{const i=yc(t),r=(Hi(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Vr(t,n)}build(t,n,s){Yn(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Kn(t,n,s)}}const bc={offset:"stroke-dashoffset",array:"stroke-dasharray"},vc={offset:"strokeDashoffset",array:"strokeDasharray"};function wc(e,t,n=1,s=0,i=!0){e.pathLength=1;const r=i?bc:vc;e[r.offset]=`${-s}`,e[r.array]=`${t} ${n}`}const Tc=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function _r(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:r=1,pathOffset:o=0,...a},c,l,d){if(Yn(e,a,l),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const m of Tc)h[m]!==void 0&&(f[m]=h[m],delete h[m]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),i!==void 0&&wc(h,i,r,o,!1)}const Fr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Or=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Sc(e,t,n,s){Ir(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(Fr.has(i)?i:On(i),t.attrs[i])}function Wr(e,t,n){const s=Kn(e,t,n);for(const i in e)if(U(e[i])||U(t[i])){const r=Le.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=e[i]}return s}class Ec extends Mr{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=W}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ve.has(n)){const s=vr(n);return s&&s.default||0}return n=Fr.has(n)?n:On(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Wr(t,n,s)}build(t,n,s){_r(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){Sc(t,n,s,i)}mount(t){this.isSVGTag=Or(t.tagName),super.mount(t)}}const kc=Hn.length;function Gr(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Gr(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<kc;n++){const s=Hn[n],i=e.props[s];(He(i)||i===!1)&&(t[s]=i)}return t}function Ur(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const Pc=[...$n].reverse(),Ac=$n.length;function Cc(e){return t=>Promise.all(t.map(({animation:n,options:s})=>El(e,n,s)))}function jc(e){let t=Cc(e),n=Cs(),s=!0;const i=c=>(l,d)=>{var f;const h=Me(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...b}=h;l={...l,...b,...g}}return l};function r(c){t=c(e)}function o(c){const{props:l}=e,d=Gr(e.parent)||{},h=[],f=new Set;let m={},g=1/0;for(let T=0;T<Ac;T++){const v=Pc[T],w=n[v],y=l[v]!==void 0?l[v]:d[v],S=He(y),E=v===c?w.isActive:null;E===!1&&(g=T);let A=y===d[v]&&y!==l[v]&&S;if(A&&s&&e.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...m},!w.isActive&&E===null||!y&&!w.prevProp||wt(y)||typeof y=="boolean")continue;if(v==="exit"&&w.isActive&&E!==!0){w.prevResolvedValues&&(m={...m,...w.prevResolvedValues});continue}const k=Nc(w.prevProp,y);let x=k||v===c&&w.isActive&&!A&&S||T>g&&S,P=!1;const M=Array.isArray(y)?y:[y];let V=M.reduce(i(v),{});E===!1&&(V={});const{prevResolvedValues:B={}}=w,z={...B,...V},K=_=>{x=!0,f.has(_)&&(P=!0,f.delete(_)),w.needsAnimating[_]=!0;const X=e.getValue(_);X&&(X.liveStyle=!1)};for(const _ in z){const X=V[_],J=B[_];if(m.hasOwnProperty(_))continue;let le=!1;on(X)&&on(J)?le=!Ur(X,J):le=X!==J,le?X!=null?K(_):f.add(_):X!==void 0&&f.has(_)?K(_):w.protectedKeys[_]=!0}w.prevProp=y,w.prevResolvedValues=V,w.isActive&&(m={...m,...V}),s&&e.blockInitialAnimation&&(x=!1);const ae=A&&k;x&&(!ae||P)&&h.push(...M.map(_=>{const X={type:v};if(typeof _=="string"&&s&&!ae&&e.manuallyAnimateOnMount&&e.parent){const{parent:J}=e,le=Me(J,_);if(J.enteringChildren&&le){const{delayChildren:kt}=le.transition||{};X.delay=dr(J.enteringChildren,e,kt)}}return{animation:_,options:X}}))}if(f.size){const T={};if(typeof l.initial!="boolean"){const v=Me(e,Array.isArray(l.initial)?l.initial[0]:l.initial);v&&v.transition&&(T.transition=v.transition)}f.forEach(v=>{const w=e.getBaseTarget(v),y=e.getValue(v);y&&(y.liveStyle=!0),T[v]=w??null}),h.push({animation:T})}let b=!!h.length;return s&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(b=!1),s=!1,b?t(h):Promise.resolve()}function a(c,l){var h;if(n[c].isActive===l)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,l)}),n[c].isActive=l;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>n,reset:()=>{n=Cs()}}}function Nc(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ur(t,e):!1}function ye(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cs(){return{animate:ye(!0),whileInView:ye(),whileHover:ye(),whileTap:ye(),whileDrag:ye(),whileFocus:ye(),exit:ye()}}function js(e,t){e.min=t.min,e.max=t.max}function Q(e,t){js(e.x,t.x),js(e.y,t.y)}function Ns(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const zr=1e-4,Mc=1-zr,Rc=1+zr,$r=.01,Dc=0-$r,Lc=0+$r;function H(e){return e.max-e.min}function Vc(e,t,n){return Math.abs(e-t)<=n}function Ms(e,t,n,s=.5){e.origin=s,e.originPoint=L(t.min,t.max,e.origin),e.scale=H(n)/H(t),e.translate=L(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Mc&&e.scale<=Rc||isNaN(e.scale))&&(e.scale=1),(e.translate>=Dc&&e.translate<=Lc||isNaN(e.translate))&&(e.translate=0)}function Oe(e,t,n,s){Ms(e.x,t.x,n.x,s?s.originX:void 0),Ms(e.y,t.y,n.y,s?s.originY:void 0)}function Rs(e,t,n){e.min=n.min+t.min,e.max=e.min+H(t)}function Ic(e,t,n){Rs(e.x,t.x,n.x),Rs(e.y,t.y,n.y)}function Ds(e,t,n){e.min=t.min-n.min,e.max=e.min+H(t)}function yt(e,t,n){Ds(e.x,t.x,n.x),Ds(e.y,t.y,n.y)}function Ls(e,t,n,s,i){return e-=t,e=gt(e,1/n,s),i!==void 0&&(e=gt(e,1/i,s)),e}function Bc(e,t=0,n=1,s=.5,i,r=e,o=e){if(re.test(t)&&(t=parseFloat(t),t=L(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=L(r.min,r.max,s);e===r&&(a-=t),e.min=Ls(e.min,t,n,a,i),e.max=Ls(e.max,t,n,a,i)}function Vs(e,t,[n,s,i],r,o){Bc(e,t[n],t[s],t[i],t.scale,r,o)}const _c=["x","scaleX","originX"],Fc=["y","scaleY","originY"];function Is(e,t,n,s){Vs(e.x,t,_c,n?n.x:void 0,s?s.x:void 0),Vs(e.y,t,Fc,n?n.y:void 0,s?s.y:void 0)}function Bs(e){return e.translate===0&&e.scale===1}function Hr(e){return Bs(e.x)&&Bs(e.y)}function _s(e,t){return e.min===t.min&&e.max===t.max}function Oc(e,t){return _s(e.x,t.x)&&_s(e.y,t.y)}function Fs(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Yr(e,t){return Fs(e.x,t.x)&&Fs(e.y,t.y)}function Os(e){return H(e.x)/H(e.y)}function Ws(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function se(e){return[e("x"),e("y")]}function Wc(e,t,n){let s="";const i=e.x.translate/t.x,r=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||r||o)&&(s=`translate3d(${i}px, ${r}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:l,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:g}=n;l&&(s=`perspective(${l}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),g&&(s+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(s+=`scale(${a}, ${c})`),s||"none"}const Kr=["TopLeft","TopRight","BottomLeft","BottomRight"],Gc=Kr.length,Gs=e=>typeof e=="string"?parseFloat(e):e,Us=e=>typeof e=="number"||C.test(e);function Uc(e,t,n,s,i,r){i?(e.opacity=L(0,n.opacity??1,zc(s)),e.opacityExit=L(t.opacity??1,0,$c(s))):r&&(e.opacity=L(t.opacity??1,n.opacity??1,s));for(let o=0;o<Gc;o++){const a=`border${Kr[o]}Radius`;let c=zs(t,a),l=zs(n,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||Us(c)===Us(l)?(e[a]=Math.max(L(Gs(c),Gs(l),s),0),(re.test(l)||re.test(c))&&(e[a]+="%")):e[a]=l}(t.rotate||n.rotate)&&(e.rotate=L(t.rotate||0,n.rotate||0,s))}function zs(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zc=Xr(0,.5,Oi),$c=Xr(.5,.95,Z);function Xr(e,t,n){return s=>s<e?0:s>t?1:n(Ue(e,t,s))}function Hc(e,t,n){const s=U(e)?e:Re(e);return s.start(_n("",s,t,n)),s.animation}function Ye(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const Yc=(e,t)=>e.depth-t.depth;class Kc{constructor(){this.children=[],this.isDirty=!1}add(t){Sn(this.children,t),this.isDirty=!0}remove(t){dt(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Yc),this.isDirty=!1,this.children.forEach(t)}}function Xc(e,t){const n=$.now(),s=({timestamp:i})=>{const r=i-n;r>=t&&(pe(s),e(r-t))};return D.setup(s,!0),()=>pe(s)}function at(e){return U(e)?e.get():e}class qc{constructor(){this.members=[]}add(t){Sn(this.members,t);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===t||s===this.lead||s===this.prevLead)continue;const i=s.instance;i&&i.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&dt(this.members,s)}t.scheduleRender()}remove(t){if(dt(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const r=this.members[i],o=r.instance;if(r.isPresent!==!1&&(!o||o.isConnected!==!1)){s=r;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const i=s.options.layoutDependency,r=t.options.layoutDependency;if(!(i!==void 0&&r!==void 0&&i===r)){const c=s.instance;c&&c.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const lt={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Lt=["","X","Y","Z"],Zc=1e3;let Jc=0;function Vt(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function qr(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=gr(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",D,!(i||r))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&qr(s)}function Zr({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Jc++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tu),this.nodes.forEach(ru),this.nodes.forEach(ou),this.nodes.forEach(nu)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kc)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new kn),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=zn(o)&&!ec(o),this.instance=o;const{layoutId:a,layout:c,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;D.read(()=>{h=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=Xc(f,250),lt.hasAnimatedSinceResize&&(lt.hasAnimatedSinceResize=!1,this.nodes.forEach(Ys)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&l&&(a||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||l.getDefaultTransition()||du,{onLayoutAnimationStart:b,onLayoutAnimationComplete:T}=l.getProps(),v=!this.targetLayout||!Yr(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...Bn(g,"layout"),onPlay:b,onComplete:T};(l.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(d,w)}else h||Ys(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(au),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qr(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($s);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Hs);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iu),this.nodes.forEach(Qc),this.nodes.forEach(eu)):this.nodes.forEach(Hs),this.clearAllSnapshots();const a=$.now();G.delta=oe(0,1e3/60,a-G.timestamp),G.timestamp=a,G.isProcessing=!0,Pt.update.process(G),Pt.preRender.process(G),Pt.render.process(G),G.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(su),this.sharedNodes.forEach(lu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,D.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){D.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!H(this.snapshot.measuredBox.x)&&!H(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=W(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Hr(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,d=l!==this.prevTransformTemplateValue;o&&this.instance&&(a||xe(this.latestValues)||d)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),hu(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:o}=this.options;if(!o)return W();const a=o.measureViewportBox();if(!(((l=this.scroll)==null?void 0:l.wasRoot)||this.path.some(fu))){const{scroll:d}=this.root;d&&(je(a.x,d.offset.x),je(a.y,d.offset.y))}return a}removeElementScroll(o){var c;const a=W();if(Q(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Q(a,o),je(a.x,h.offset.x),je(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const c=W();Q(c,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ne(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),xe(d.latestValues)&&Ne(c,d.latestValues)}return xe(this.latestValues)&&Ne(c,this.latestValues),c}removeTransform(o){const a=W();Q(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!xe(l.latestValues))continue;fn(l.latestValues)&&l.updateSnapshot();const d=W(),h=l.measurePageBox();Q(d,h),Is(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,d)}return xe(this.latestValues)&&Is(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==G.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=G.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=W(),this.targetWithTransforms=W()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ic(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Q(this.target,this.layout.layoutBox),Lr(this.target,this.targetDelta)):Q(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||fn(this.parent.latestValues)||Dr(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=W(),this.relativeTargetOrigin=W(),yt(this.relativeTargetOrigin,a,c),Q(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===G.timestamp&&(c=!1),c)return;const{layout:l,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||d))return;Q(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;dc(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=W());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ns(this.prevProjectionDelta.x,this.projectionDelta.x),Ns(this.prevProjectionDelta.y,this.projectionDelta.y)),Oe(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Ws(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ws(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ce(),this.projectionDelta=Ce(),this.projectionDeltaWithTransform=Ce()}setAnimationOrigin(o,a=!1){const c=this.snapshot,l=c?c.latestValues:{},d={...this.latestValues},h=Ce();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=W(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,b=m!==g,T=this.getStack(),v=!T||T.members.length<=1,w=!!(b&&!v&&this.options.crossfade===!0&&!this.path.some(uu));this.animationProgress=0;let y;this.mixTargetDelta=S=>{const E=S/1e3;Ks(h.x,o.x,E),Ks(h.y,o.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yt(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cu(this.relativeTarget,this.relativeTargetOrigin,f,E),y&&Oc(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=W()),Q(y,this.relativeTarget)),b&&(this.animationValues=d,Uc(d,l,this.latestValues,E,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(l=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||l.stop(),this.pendingAnimation&&(pe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=D.update(()=>{lt.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Re(0)),this.motionValue.jump(0,!1),this.currentAnimation=Hc(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Zc),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:d}=o;if(!(!a||!c||!l)){if(this!==o&&this.layout&&l&&Jr(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||W();const h=H(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=H(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Q(a,c),Ne(a,d),Oe(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qc),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const l={};c.z&&Vt("z",o,l,this.animationValues);for(let d=0;d<Lt.length;d++)Vt(`rotate${Lt[d]}`,o,l,this.animationValues),Vt(`skew${Lt[d]}`,o,l,this.animationValues);o.render();for(const d in l)o.setStaticValue(d,l[d]),this.animationValues&&(this.animationValues[d]=l[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=at(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=at(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!xe(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=l.animationValues||l.latestValues;this.applyTransformsToTarget();let h=Wc(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,l.animationValues?o.opacity=l===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=l===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in pn){if(d[g]===void 0)continue;const{correct:b,applyTo:T,isCSSVariable:v}=pn[g],w=h==="none"?d[g]:b(d[g],l);if(T){const y=T.length;for(let S=0;S<y;S++)o[T[S]]=w}else v?this.options.visualElement.renderState.vars[g]=w:o[g]=w}this.options.layoutId&&(o.pointerEvents=l===this?at(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach($s),this.root.sharedNodes.clear()}}}function Qc(e){e.updateLayout()}function eu(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:r}=e.options,o=t.source!==e.layout.source;r==="size"?se(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=H(f);f.min=s[h].min,f.max=f.min+m}):Jr(r,t.layoutBox,s)&&se(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=H(s[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=Ce();Oe(a,s,t.layoutBox);const c=Ce();o?Oe(c,e.applyTransform(i,!0),t.measuredBox):Oe(c,s,t.layoutBox);const l=!Hr(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const g=W();yt(g,t.layoutBox,f.layoutBox);const b=W();yt(b,s,m.layoutBox),Yr(g,b)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function tu(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function su(e){e.clearSnapshot()}function $s(e){e.clearMeasurements()}function Hs(e){e.isLayoutDirty=!1}function iu(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ys(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ru(e){e.resolveTargetDelta()}function ou(e){e.calcProjection()}function au(e){e.resetSkewAndRotation()}function lu(e){e.removeLeadSnapshot()}function Ks(e,t,n){e.translate=L(t.translate,0,n),e.scale=L(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Xs(e,t,n,s){e.min=L(t.min,n.min,s),e.max=L(t.max,n.max,s)}function cu(e,t,n,s){Xs(e.x,t.x,n.x,s),Xs(e.y,t.y,n.y,s)}function uu(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const du={duration:.45,ease:[.4,0,.1,1]},qs=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Zs=qs("applewebkit/")&&!qs("chrome/")?Math.round:Z;function Js(e){e.min=Zs(e.min),e.max=Zs(e.max)}function hu(e){Js(e.x),Js(e.y)}function Jr(e,t,n){return e==="position"||e==="preserve-aspect"&&!Vc(Os(t),Os(n),.2)}function fu(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const mu=Zr({attachResizeListener:(e,t)=>Ye(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),It={current:void 0},Qr=Zr({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!It.current){const e=new mu({});e.mount(window),e.setOptions({layoutScroll:!0}),It.current=e}return It.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Xn=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Qs(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pu(...e){return t=>{let n=!1;const s=e.map(i=>{const r=Qs(i,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let i=0;i<s.length;i++){const r=s[i];typeof r=="function"?r():Qs(e[i],null)}}}}function gu(...e){return p.useCallback(pu(...e),e)}class yu extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,i=dn(s)&&s.offsetWidth||0,r=dn(s)&&s.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left,o.bottom=r-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function xu({children:e,isPresent:t,anchorX:n,anchorY:s,root:i,pop:r}){var f;const o=p.useId(),a=p.useRef(null),c=p.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=p.useContext(Xn),d=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),h=gu(a,d);return p.useInsertionEffect(()=>{const{width:m,height:g,top:b,left:T,right:v,bottom:w}=c.current;if(t||r===!1||!a.current||!m||!g)return;const y=n==="left"?`left: ${T}`:`right: ${v}`,S=s==="bottom"?`bottom: ${w}`:`top: ${b}`;a.current.dataset.motionPopId=o;const E=document.createElement("style");l&&(E.nonce=l);const A=i??document.head;return A.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${y}px !important;
            ${S}px !important;
          }
        `),()=>{A.contains(E)&&A.removeChild(E)}},[t]),u.jsx(yu,{isPresent:t,childRef:a,sizeRef:c,pop:r,children:r===!1?e:p.cloneElement(e,{ref:h})})}const bu=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:o,anchorX:a,anchorY:c,root:l})=>{const d=Tn(vu),h=p.useId();let f=!0,m=p.useMemo(()=>(f=!1,{id:h,initial:t,isPresent:n,custom:i,onExitComplete:g=>{d.set(g,!0);for(const b of d.values())if(!b)return;s&&s()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[n,d,s]);return r&&f&&(m={...m}),p.useMemo(()=>{d.forEach((g,b)=>d.set(b,!1))},[n]),p.useEffect(()=>{!n&&!d.size&&s&&s()},[n]),e=u.jsx(xu,{pop:o==="popLayout",isPresent:n,anchorX:a,anchorY:c,root:l,children:e}),u.jsx(vt.Provider,{value:m,children:e})};function vu(){return new Map}function eo(e=!0){const t=p.useContext(vt);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,r=p.useId();p.useEffect(()=>{if(e)return i(r)},[e]);const o=p.useCallback(()=>e&&s&&s(r),[r,s,e]);return!n&&s?[!1,o]:[!0]}const tt=e=>e.key||"";function ei(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const ue=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:r="sync",propagate:o=!1,anchorX:a="left",anchorY:c="top",root:l})=>{const[d,h]=eo(o),f=p.useMemo(()=>ei(e),[e]),m=o&&!d?[]:f.map(tt),g=p.useRef(!0),b=p.useRef(f),T=Tn(()=>new Map),v=p.useRef(new Set),[w,y]=p.useState(f),[S,E]=p.useState(f);Ci(()=>{g.current=!1,b.current=f;for(let x=0;x<S.length;x++){const P=tt(S[x]);m.includes(P)?(T.delete(P),v.current.delete(P)):T.get(P)!==!0&&T.set(P,!1)}},[S,m.length,m.join("-")]);const A=[];if(f!==w){let x=[...f];for(let P=0;P<S.length;P++){const M=S[P],V=tt(M);m.includes(V)||(x.splice(P,0,M),A.push(M))}return r==="wait"&&A.length&&(x=A),E(ei(x)),y(f),null}const{forceRender:k}=p.useContext(wn);return u.jsx(u.Fragment,{children:S.map(x=>{const P=tt(x),M=o&&!d?!1:f===S||m.includes(P),V=()=>{if(v.current.has(P))return;if(v.current.add(P),T.has(P))T.set(P,!0);else return;let B=!0;T.forEach(z=>{z||(B=!1)}),B&&(k==null||k(),E(b.current),o&&(h==null||h()),s&&s())};return u.jsx(bu,{isPresent:M,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:r,root:l,onExitComplete:M?void 0:V,anchorX:a,anchorY:c,children:x},P)})})},to=p.createContext({strict:!1}),ti={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ni=!1;function wu(){if(ni)return;const e={};for(const t in ti)e[t]={isEnabled:n=>ti[t].some(s=>!!n[s])};Nr(e),ni=!0}function no(){return wu(),ac()}function Tu(e){const t=no();for(const n in e)t[n]={...t[n],...e[n]};Nr(t)}const Su=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function xt(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Su.has(e)}let so=e=>!xt(e);function Eu(e){typeof e=="function"&&(so=t=>t.startsWith("on")?!xt(t):e(t))}try{Eu(require("@emotion/is-prop-valid").default)}catch{}function ku(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(so(i)||n===!0&&xt(i)||!t&&!xt(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const St=p.createContext({});function Pu(e,t){if(Tt(e)){const{initial:n,animate:s}=e;return{initial:n===!1||He(n)?n:void 0,animate:He(s)?s:void 0}}return e.inherit!==!1?t:{}}function Au(e){const{initial:t,animate:n}=Pu(e,p.useContext(St));return p.useMemo(()=>({initial:t,animate:n}),[si(t),si(n)])}function si(e){return Array.isArray(e)?e.join(" "):e}const qn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function io(e,t,n){for(const s in t)!U(t[s])&&!Br(s,n)&&(e[s]=t[s])}function Cu({transformTemplate:e},t){return p.useMemo(()=>{const n=qn();return Yn(n,t,e),Object.assign({},n.vars,n.style)},[t])}function ju(e,t){const n=e.style||{},s={};return io(s,n,e),Object.assign(s,Cu(e,t)),s}function Nu(e,t){const n={},s=ju(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const ro=()=>({...qn(),attrs:{}});function Mu(e,t,n,s){const i=p.useMemo(()=>{const r=ro();return _r(r,t,Or(s),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};io(r,e.style,e),i.style={...r,...i.style}}return i}const Ru=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zn(e){return typeof e!="string"||e.includes("-")?!1:!!(Ru.indexOf(e)>-1||/[A-Z]/u.test(e))}function Du(e,t,n,{latestValues:s},i,r=!1,o){const c=(o??Zn(e)?Mu:Nu)(t,s,i,e),l=ku(t,typeof e=="string",r),d=e!==p.Fragment?{...l,...c,ref:n}:{},{children:h}=t,f=p.useMemo(()=>U(h)?h.get():h,[h]);return p.createElement(e,{...d,children:f})}function Lu({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:Vu(n,s,i,e),renderState:t()}}function Vu(e,t,n,s){const i={},r=s(e,{});for(const f in r)i[f]=at(r[f]);let{initial:o,animate:a}=e;const c=Tt(e),l=Cr(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!wt(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const g=Fn(e,f[m]);if(g){const{transitionEnd:b,transition:T,...v}=g;for(const w in v){let y=v[w];if(Array.isArray(y)){const S=d?y.length-1:0;y=y[S]}y!==null&&(i[w]=y)}for(const w in b)i[w]=b[w]}}}return i}const oo=e=>(t,n)=>{const s=p.useContext(St),i=p.useContext(vt),r=()=>Lu(e,t,s,i);return n?r():Tn(r)},Iu=oo({scrapeMotionValuesFromProps:Kn,createRenderState:qn}),Bu=oo({scrapeMotionValuesFromProps:Wr,createRenderState:ro}),_u=Symbol.for("motionComponentSymbol");function Fu(e,t,n){const s=p.useRef(n);p.useInsertionEffect(()=>{s.current=n});const i=p.useRef(null);return p.useCallback(r=>{var a;r&&((a=e.onMount)==null||a.call(e,r)),t&&(r?t.mount(r):t.unmount());const o=s.current;if(typeof o=="function")if(r){const c=o(r);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):o(r);else o&&(o.current=r)},[t])}const ao=p.createContext({});function ke(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ou(e,t,n,s,i,r){var y,S;const{visualElement:o}=p.useContext(St),a=p.useContext(to),c=p.useContext(vt),l=p.useContext(Xn),d=l.reducedMotion,h=l.skipAnimations,f=p.useRef(null),m=p.useRef(!1);s=s||a.renderer,!f.current&&s&&(f.current=s(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d,skipAnimations:h,isSVG:r}),m.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const g=f.current,b=p.useContext(ao);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&Wu(f.current,n,i,b);const T=p.useRef(!1);p.useInsertionEffect(()=>{g&&T.current&&g.update(n,c)});const v=n[pr],w=p.useRef(!!v&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,v))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,v)));return Ci(()=>{m.current=!0,g&&(T.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),w.current&&g.animationState&&g.animationState.animateChanges())}),p.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,v)}),w.current=!1),g.enteringChildren=void 0)}),g}function Wu(e,t,n,s){const{layoutId:i,layout:r,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:l,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:lo(e.parent)),e.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!o||a&&ke(a),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:l})}function lo(e){if(e)return e.options.allowProjection!==!1?e.projection:lo(e.parent)}function Bt(e,{forwardMotionProps:t=!1,type:n}={},s,i){s&&Tu(s);const r=n?n==="svg":Zn(e),o=r?Bu:Iu;function a(l,d){let h;const f={...p.useContext(Xn),...l,layoutId:Gu(l)},{isStatic:m}=f,g=Au(l),b=o(l,m);if(!m&&Ai){Uu();const T=zu(f);h=T.MeasureLayout,g.visualElement=Ou(e,b,f,i,T.ProjectionNode,r)}return u.jsxs(St.Provider,{value:g,children:[h&&g.visualElement?u.jsx(h,{visualElement:g.visualElement,...f}):null,Du(e,l,Fu(b,g.visualElement,d),b,m,t,r)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=p.forwardRef(a);return c[_u]=e,c}function Gu({layoutId:e}){const t=p.useContext(wn).id;return t&&e!==void 0?t+"-"+e:e}function Uu(e,t){p.useContext(to).strict}function zu(e){const t=no(),{drag:n,layout:s}=t;if(!n&&!s)return{};const i={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(e)||s!=null&&s.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function $u(e,t){if(typeof Proxy>"u")return Bt;const n=new Map,s=(r,o)=>Bt(r,o,e,t),i=(r,o)=>s(r,o);return new Proxy(i,{get:(r,o)=>o==="create"?s:(n.has(o)||n.set(o,Bt(o,void 0,e,t)),n.get(o))})}const Hu=(e,t)=>t.isSVG??Zn(e)?new Ec(t):new xc(t,{allowProjection:e!==p.Fragment});class Yu extends ge{constructor(t){super(t),t.animationState||(t.animationState=jc(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();wt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Ku=0;class Xu extends ge{constructor(){super(...arguments),this.id=Ku++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const qu={animation:{Feature:Yu},exit:{Feature:Xu}};function Je(e){return{point:{x:e.pageX,y:e.pageY}}}const Zu=e=>t=>Un(t)&&e(t,Je(t));function We(e,t,n,s){return Ye(e,t,Zu(n),s)}const co=({current:e})=>e?e.ownerDocument.defaultView:null,ii=(e,t)=>Math.abs(e-t);function Ju(e,t){const n=ii(e.x,t.x),s=ii(e.y,t.y);return Math.sqrt(n**2+s**2)}const ri=new Set(["auto","scroll"]);class uo{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Ft(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,b=Ju(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!b)return;const{point:T}=m,{timestamp:v}=G;this.history.push({...T,timestamp:v});const{onStart:w,onMove:y}=this.handlers;g||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=_t(g,this.transformPagePoint),D.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:b,onSessionEnd:T,resumeAnimation:v}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ft(m.type==="pointercancel"?this.lastMoveEventInfo:_t(g,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,w),T&&T(m,w)},!Un(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=i||window;const c=Je(t),l=_t(c,this.transformPagePoint),{point:d}=l,{timestamp:h}=G;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,Ft(l,this.history)),this.removeListeners=Xe(We(this.contextWindow,"pointermove",this.handlePointerMove),We(this.contextWindow,"pointerup",this.handlePointerUp),We(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(ri.has(s.overflowX)||ri.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,i=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},r={x:i.x-n.x,y:i.y-n.y};r.x===0&&r.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=r.x,this.lastMoveEventInfo.point.y+=r.y):this.history.length>0&&(this.history[0].x-=r.x,this.history[0].y-=r.y),this.scrollPositions.set(t,i),D.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),pe(this.updatePoint)}}function _t(e,t){return t?{point:t(e.point)}:e}function oi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ft({point:e},t){return{point:e,delta:oi(e,ho(t)),offset:oi(e,Qu(t)),velocity:ed(t,.1)}}function Qu(e){return e[0]}function ho(e){return e[e.length-1]}function ed(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=ho(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>te(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&i.timestamp-s.timestamp>te(t)*2&&(s=e[1]);const r=q(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function td(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?L(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?L(n,e,s.max):Math.min(e,n)),e}function ai(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function nd(e,{top:t,left:n,bottom:s,right:i}){return{x:ai(e.x,n,i),y:ai(e.y,t,s)}}function li(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function sd(e,t){return{x:li(e.x,t.x),y:li(e.y,t.y)}}function id(e,t){let n=.5;const s=H(e),i=H(t);return i>s?n=Ue(t.min,t.max-s,e.min):s>i&&(n=Ue(e.min,e.max-i,t.min)),oe(0,1,n)}function rd(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const gn=.35;function od(e=gn){return e===!1?e=0:e===!0&&(e=gn),{x:ci(e,"left","right"),y:ci(e,"top","bottom")}}function ci(e,t,n){return{min:ui(e,t),max:ui(e,n)}}function ui(e,t){return typeof e=="number"?e:e[t]||0}const ad=new WeakMap;class ld{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=W(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{n&&this.snapToCursor(Je(h).point),this.stopAnimation()},o=(h,f)=>{const{drag:m,dragPropagation:g,onDragStart:b}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bl(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),se(v=>{let w=this.getAxisMotionValue(v).get()||0;if(re.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const S=y.layout.layoutBox[v];S&&(w=H(S)*(parseFloat(w)/100))}}this.originPoint[v]=w}),b&&D.update(()=>b(h,f),!1,!0),an(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:b,onDrag:T}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=f;if(g&&this.currentDirection===null){this.currentDirection=ud(v),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),T&&D.update(()=>T(h,f),!1,!0)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>{const{dragSnapToOrigin:h}=this.getProps();(h||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:d}=this.getProps();this.panSession=new uo(t,{onSessionStart:r,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:s,contextWindow:co(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&D.postRender(()=>a(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!nt(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=td(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;t&&ke(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=nd(s.layoutBox,t):this.constraints=!1,this.elastic=od(n),i!==this.constraints&&!ke(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&se(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rd(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ke(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=hc(s,i.root,this.visualElement.getTransformPagePoint());let o=sd(i.layout.layoutBox,r);if(n){const a=n(cc(o));this.hasMutatedConstraints=!!a,a&&(o=Rr(a))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=se(d=>{if(!nt(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:s?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(l).then(a)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return an(this.visualElement,t),s.start(_n(t,s,0,n,this.visualElement,!1))}stopAnimation(){se(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){se(n=>{const{drag:s}=this.getProps();if(!nt(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n],c=r.get()||0;r.set(t[n]-L(o,a,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ke(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};se(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=id({min:c,max:c},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),se(o=>{if(!nt(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];a.set(L(c,l,i[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;ad.set(this.visualElement,this);const t=this.visualElement.current,n=We(t,"pointerdown",l=>{const{drag:d,dragListener:h=!0}=this.getProps(),f=l.target,m=f!==t&&Ul(f);d&&h&&!m&&this.start(l)});let s;const i=()=>{const{dragConstraints:l}=this.getProps();ke(l)&&l.current&&(this.constraints=this.resolveRefConstraints(),s||(s=cd(t,l.current,()=>this.scalePositionWithinConstraints())))},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),D.read(i);const a=Ye(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(se(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())}));return()=>{a(),n(),o(),c&&c(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=gn,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function di(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function cd(e,t,n){const s=xs(e,di(n)),i=xs(t,di(n));return()=>{s(),i()}}function nt(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ud(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class dd extends ge{constructor(t){super(t),this.removeGroupControls=Z,this.removeListeners=Z,this.controls=new ld(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Z}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Ot=e=>(t,n)=>{e&&D.update(()=>e(t,n),!1,!0)};class hd extends ge{constructor(){super(...arguments),this.removePointerDownListener=Z}onPointerDown(t){this.session=new uo(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:co(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ot(t),onStart:Ot(n),onMove:Ot(s),onEnd:(r,o)=>{delete this.session,i&&D.postRender(()=>i(r,o))}}}mount(){this.removePointerDownListener=We(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Wt=!1;class fd extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=t;r&&(n.group&&n.group.add(r),s&&s.register&&i&&s.register(r),Wt&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),lt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:r}=this.props,{projection:o}=s;return o&&(o.isPresent=r,t.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),Wt=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==r?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||D.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Gn.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;Wt=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fo(e){const[t,n]=eo(),s=p.useContext(wn);return u.jsx(fd,{...e,layoutGroup:s,switchLayoutGroup:p.useContext(ao),isPresent:t,safeToRemove:n})}const md={pan:{Feature:hd},drag:{Feature:dd,ProjectionNode:Qr,MeasureLayout:fo}};function hi(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=s[i];r&&D.postRender(()=>r(t,Je(t)))}class pd extends ge{mount(){const{current:t}=this.node;t&&(this.unmount=Fl(t,(n,s)=>(hi(this.node,s,"Start"),i=>hi(this.node,i,"End"))))}unmount(){}}class gd extends ge{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xe(Ye(this.node.current,"focus",()=>this.onFocus()),Ye(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fi(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=s[i];r&&D.postRender(()=>r(t,Je(t)))}class yd extends ge{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=$l(t,(i,r)=>(fi(this.node,r,"Start"),(o,{success:a})=>fi(this.node,o,a?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(s==null?void 0:s.tap)===!1})}unmount(){}}const yn=new WeakMap,Gt=new WeakMap,xd=e=>{const t=yn.get(e.target);t&&t(e)},bd=e=>{e.forEach(xd)};function vd({root:e,...t}){const n=e||document;Gt.has(n)||Gt.set(n,{});const s=Gt.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(bd,{root:e,...t})),s[i]}function wd(e,t,n){const s=vd(t);return yn.set(e,n),s.observe(e),()=>{yn.delete(e),s.unobserve(e)}}const Td={some:0,all:1};class Sd extends ge{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:r}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Td[i]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,r&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=l?d:h;f&&f(c)};return wd(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ed(t,n))&&this.startObserver()}unmount(){}}function Ed({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const kd={inView:{Feature:Sd},tap:{Feature:yd},focus:{Feature:gd},hover:{Feature:pd}},Pd={layout:{ProjectionNode:Qr,MeasureLayout:fo}},Ad={...qu,...kd,...md,...Pd},j=$u(Ad,Hu);var Ut={exports:{}},zt,mi;function Cd(){if(mi)return zt;mi=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zt=e,zt}var $t,pi;function jd(){if(pi)return $t;pi=1;var e=Cd();function t(){}function n(){}return n.resetWarningCache=t,$t=function(){function s(o,a,c,l,d,h){if(h!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}s.isRequired=s;function i(){return s}var r={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return r.PropTypes=r,r},$t}var gi;function Nd(){return gi||(gi=1,Ut.exports=jd()()),Ut.exports}var Md=Nd();const O=Lo(Md),Rd={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.3}}},Se={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},xn=p.memo(function({onStart:t}){return u.jsxs(j.div,{className:"w-full min-h-[100dvh] flex flex-col items-center justify-center px-5 relative overflow-hidden",variants:Rd,initial:"hidden",animate:"visible",style:{background:"linear-gradient(180deg, #0D1B3E 0%, #060E24 50%, #0A1628 100%)"},children:[u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute top-[15%] left-[10%] w-80 h-80 rounded-full bg-blue-600/8 blur-[100px]"}),u.jsx("div",{className:"absolute bottom-[20%] right-[5%] w-72 h-72 rounded-full bg-emerald-500/6 blur-[80px]"}),u.jsx("div",{className:"absolute top-[60%] left-[50%] w-64 h-64 rounded-full bg-amber-500/5 blur-[90px]"})]}),u.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[{color:"#10B981",x:"12%",y:"18%",delay:0,size:32},{color:"#3B82F6",x:"78%",y:"22%",delay:.5,size:28},{color:"#F59E0B",x:"20%",y:"70%",delay:1,size:24},{color:"#EF4444",x:"82%",y:"65%",delay:1.5,size:30},{color:"#3B82F6",x:"45%",y:"85%",delay:2,size:20},{color:"#10B981",x:"68%",y:"12%",delay:.8,size:22}].map((n,s)=>u.jsx(j.div,{initial:{opacity:0,scale:0},animate:{opacity:[0,.3,.15,.3],scale:[0,1,.9,1],y:[0,-10,0,-10]},transition:{delay:n.delay,duration:4,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},className:"absolute rounded-lg",style:{left:n.x,top:n.y,width:n.size,height:n.size,background:n.color,boxShadow:`0 0 1.5rem ${n.color}55`}},s))}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center max-w-sm",children:[u.jsx(j.div,{variants:Se,className:"mb-6",children:u.jsx("div",{className:"px-4 py-1.5 rounded-full text-[0.6rem] font-black uppercase tracking-[0.25em]",style:{background:"rgba(0, 102, 178, 0.15)",border:"1.5px solid rgba(0, 102, 178, 0.35)",color:"#60A5FA"},children:"Bajaj Life Insurance"})}),u.jsxs(j.h1,{variants:Se,className:"font-game text-[2.2rem] leading-[1.1] text-white mb-2",style:{textShadow:"0 0 2rem rgba(59,130,246,0.3)"},children:["Balance",u.jsx("br",{}),"Builder"]}),u.jsx(j.p,{variants:Se,className:"text-white/40 text-[0.75rem] font-bold uppercase tracking-[0.2em] mb-6",children:"Secure Your Financial Future"}),u.jsx(j.div,{variants:Se,className:"flex items-center gap-3 mb-8",children:[{color:"#10B981",label:"Family"},{color:"#3B82F6",label:"Education"},{color:"#F59E0B",label:"Retirement"},{color:"#EF4444",label:"Emergency"}].map((n,s)=>u.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8+s*.1},className:"flex flex-col items-center gap-1",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg",style:{background:n.color,boxShadow:`0 0 1rem ${n.color}44`}}),u.jsx("span",{className:"text-[0.45rem] font-bold text-white/30 uppercase tracking-wider",children:n.label})]},n.label))}),u.jsx(j.div,{variants:Se,className:"w-full max-w-[16rem]",children:u.jsx("button",{onClick:t,id:"btn-start-balance",className:"w-full py-3.5 rounded-xl font-game text-[0.95rem] tracking-widest text-white uppercase transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",style:{background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",boxShadow:"0 4px 20px rgba(0, 102, 178, 0.3)"},children:"Start Game"})}),u.jsx(j.p,{variants:Se,className:"text-white/15 text-[0.55rem] font-medium mt-6 max-w-[16rem] leading-relaxed",children:"Match blocks to fill your financial goal buckets in 2 minutes"})]})]})});xn.propTypes={onStart:O.func.isRequired};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=e=>{const t=Ld(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:r,iconNode:o,...a},c)=>p.createElement("svg",{ref:c,...Vd,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:mo("lucide",i),...!r&&!Id(a)&&{"aria-hidden":"true"},...a},[...o.map(([l,d])=>p.createElement(l,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(e,t)=>{const n=p.forwardRef(({className:s,...i},r)=>p.createElement(Bd,{ref:r,iconNode:t,className:mo(`lucide-${Dd(yi(e))}`,`lucide-${e}`,s),...i}));return n.displayName=yi(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Fd=Y("arrow-right-left",_d);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wd=Y("calendar",Od);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xi=Y("check",Gd);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zd=Y("chevron-down",Ud);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Hd=Y("circle-check",$d);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Kd=Y("circle-x",Yd);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],qd=Y("link-2",Xd);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jd=Y("loader-circle",Zd);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],eh=Y("phone",Qd);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],nh=Y("play",th);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ih=Y("refresh-cw",sh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],bi=Y("share-2",rh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ah=Y("target",oh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],ch=Y("timer",lh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ge=Y("x",uh),po=p.memo(function({onSubmit:t,onClose:n}){const[s,i]=p.useState(""),[r,o]=p.useState(""),[a,c]=p.useState(!0),[l,d]=p.useState(!1),[h,f]=p.useState({}),[m,g]=p.useState(!1),[b,T]=p.useState(null),v=p.useRef(null),[w,y]=p.useState(()=>sessionStorage.getItem("bb_lastPhone")||null);p.useEffect(()=>{w&&sessionStorage.setItem("bb_lastPhone",w)},[w]),p.useEffect(()=>{if(b){const k=setTimeout(()=>T(null),3e3);return()=>clearTimeout(k)}},[b]);const S=(k,x)=>{let P="";return k==="name"?x.trim()?/^[A-Za-z\s]+$/.test(x.trim())||(P="Name must contain only letters."):P="Please enter your name":k==="phone"&&(x?/^\d{10}$/.test(x)||(P="Enter a valid 10-digit mobile number"):P="Please enter mobile number"),P?(f(M=>({...M,[k]:P})),!1):(f(M=>({...M,[k]:""})),!0)},E=()=>S("name",s)&S("phone",r),A=async k=>{if(k.preventDefault(),!!E()&&a){if(w===r){T({message:"You have already registered.",type:"info"}),setTimeout(()=>t(s.trim(),r),1e3);return}g(!0);try{y(r),await t(s.trim(),r)}catch{T({message:"Something went wrong.",type:"error"})}finally{g(!1)}}};return u.jsxs(u.Fragment,{children:[u.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-md",onClick:n,children:u.jsxs(j.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:k=>k.stopPropagation(),className:"relative bg-white shadow-2xl w-full max-w-[320px] min-[375px]:max-w-[340px] p-5 min-[375px]:p-6 border-[4px] sm:border-[6px] border-[#0066B2] rounded-2xl",children:[u.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:u.jsx(Ge,{className:"w-5 h-5 min-[375px]:w-6 min-[375px]:h-6"})}),u.jsxs("div",{className:"text-center mb-4 min-[375px]:mb-6",children:[u.jsx("div",{className:"w-14 h-14 min-[375px]:w-16 min-[375px]:h-16 sm:w-20 sm:h-20 bg-[#0066B2] flex items-center justify-center mx-auto mb-3 min-[375px]:mb-4 shadow-xl border-4 border-white rounded-full",children:u.jsx("span",{className:"text-2xl min-[375px]:text-3xl sm:text-4xl",children:""})}),u.jsx("h2",{className:"text-[#0066B2] text-lg min-[375px]:text-xl sm:text-2xl font-black mb-1",children:"Welcome!"}),u.jsx("p",{className:"text-slate-500 font-bold text-xs min-[375px]:text-sm sm:text-base",children:"Enter your details to start."})]}),u.jsxs("form",{onSubmit:A,className:"space-y-3 min-[375px]:space-y-4",children:[u.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[u.jsx("label",{className:"block text-slate-700 text-[9px] min-[375px]:text-[10px] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"bb-userName",children:"Your Name"}),u.jsx("input",{id:"bb-userName",type:"text",value:s,onChange:k=>{i(k.target.value),/^[A-Za-z\s]*$/.test(k.target.value)&&f(x=>({...x,name:""}))},onBlur:k=>S("name",k.target.value),onKeyDown:k=>{var x;k.key==="Enter"&&(k.preventDefault(),S("name",s)&&((x=v.current)==null||x.focus()))},placeholder:"Full Name",autoFocus:!0,className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${h.name?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`}),h.name&&u.jsx("p",{className:"text-red-500 text-[9px] min-[375px]:text-[10px] font-black uppercase tracking-wider ml-1",children:h.name})]}),u.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[u.jsx("label",{className:"block text-slate-700 text-[9px] min-[375px]:text-[10px] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"bb-phone",children:"Mobile Number"}),u.jsx("input",{ref:v,id:"bb-phone",type:"tel",maxLength:10,value:r,onChange:k=>{const x=k.target.value.replace(/\D/g,"").slice(0,10);o(x),f(P=>({...P,phone:""}))},onBlur:k=>S("phone",k.target.value),placeholder:"9876543210",className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${h.phone?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`}),h.phone&&u.jsx("p",{className:"text-red-500 text-[9px] min-[375px]:text-[10px] font-black uppercase tracking-wider ml-1",children:h.phone})]}),u.jsxs("div",{className:"flex items-start space-x-3 pt-1 text-left",children:[u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{id:"bb-terms",type:"checkbox",checked:a,onChange:k=>c(k.target.checked),className:"peer h-5 w-5 cursor-pointer appearance-none rounded border-2 border-slate-300 bg-slate-50 transition-all checked:border-[#0066B2] checked:bg-[#0066B2] hover:border-[#0066B2]"}),u.jsx(xi,{className:"pointer-events-none absolute left-1/2 top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100",strokeWidth:4})]}),u.jsxs("label",{htmlFor:"bb-terms",className:"text-[10px] sm:text-xs font-semibold text-slate-500 leading-tight select-none",children:["I agree to the"," ",u.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-[#0066B2] hover:underline font-bold inline",children:"Terms & Conditions"})," ","and Acknowledge the Privacy Policy."]})]}),u.jsx("button",{type:"submit",disabled:!s.trim()||r.length!==10||!a||m,className:"w-full py-2.5 min-[375px]:py-3 sm:py-4 rounded-xl font-game text-sm sm:text-lg tracking-widest disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2 text-white uppercase font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",style:{background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",boxShadow:"0 4px 15px rgba(0, 102, 178, 0.3)"},children:m?u.jsxs(u.Fragment,{children:[u.jsx(Jd,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:"Starting..."})]}):"Let's Go!"})]})]})}),u.jsx(ue,{children:l&&u.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-md",onClick:()=>d(!1),children:u.jsxs(j.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:k=>k.stopPropagation(),className:"bg-white p-6 rounded-2xl max-w-md w-full shadow-2xl border-4 border-[#0066B2] relative text-left",children:[u.jsx("button",{onClick:()=>d(!1),className:"absolute top-3 right-3 p-1 text-slate-400 hover:text-slate-600 transition-colors",children:u.jsx(Ge,{className:"w-5 h-5"})}),u.jsx("h3",{className:"text-[#0066B2] font-black text-lg uppercase mb-4 tracking-tight",children:"Terms & Conditions"}),u.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 space-y-3 font-medium leading-relaxed max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[u.jsx("p",{children:"I hereby authorize Bajaj Life Insurance Limited to call me on the contact number made available by me on the website with a specific request to call back. I further declare that, irrespective of my contact number being registered on National Customer Preference Register (NCPR) or on National Do Not Call Registry (NDNC), any call made, SMS or WhatsApp sent in response to my request shall not be construed as an Unsolicited Commercial Communication even though the content of the call may be for the purposes of explaining various insurance products and services or solicitation and procurement of insurance business."}),u.jsx("p",{children:"Please refer to BALIC Privacy Policy."})]}),u.jsx("button",{onClick:()=>{d(!1),c(!0)},className:"w-full mt-6 py-3 bg-[#0066B2] text-white font-bold rounded-lg hover:bg-blue-700 transition-colors text-sm uppercase tracking-wider",children:"I Agree"})]})})}),u.jsx(ue,{children:b&&u.jsxs(j.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[120] px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 ${b.type==="error"?"bg-red-500 text-white":"bg-blue-600 text-white"}`,children:[b.type==="error"?u.jsx(Ge,{size:20,className:"stroke-[3]"}):u.jsx(xi,{size:20,className:"stroke-[3]"}),u.jsx("span",{className:"font-bold text-sm",children:b.message})]})})]})});po.propTypes={onSubmit:O.func.isRequired,onClose:O.func.isRequired};const dh=()=>u.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-400 to-blue-600 shadow-[0_4px_0_#1e40af] flex items-center justify-center border border-blue-300",children:u.jsx(Fd,{className:"text-white w-7 h-7 stroke-[3]"})}),hh=()=>u.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-pink-500 to-rose-600 shadow-[0_4px_0_#be123c] flex items-center justify-center border border-rose-300",children:u.jsx(ah,{className:"text-white w-7 h-7 stroke-[3]"})}),fh=()=>u.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-400 to-cyan-600 shadow-[0_4px_0_#0e7490] flex items-center justify-center border border-cyan-300",children:u.jsx(ch,{className:"text-white w-7 h-7 stroke-[3]"})}),mh=()=>u.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-400 to-orange-500 shadow-[0_4px_0_#c2410c] flex items-center justify-center border border-orange-300",children:u.jsx(qd,{className:"text-white w-7 h-7 stroke-[3]"})}),go=p.memo(function({onStart:t}){const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},i=[{label:"Family Plan",color:"#10B981",bg:"linear-gradient(145deg, #059669 0%, #10B981 100%)",border:"#047857"},{label:"Child Education",color:"#3B82F6",bg:"linear-gradient(145deg, #1D4ED8 0%, #3B82F6 100%)",border:"#1e40af"},{label:"Retirement Plan",color:"#F59E0B",bg:"linear-gradient(145deg, #D97706 0%, #F59E0B 100%)",border:"#b45309"},{label:"Emergency Fund",color:"#EF4444",bg:"linear-gradient(145deg, #B91C1C 0%, #EF4444 100%)",border:"#b91c1c"}];return u.jsxs(j.div,{variants:n,initial:"hidden",animate:"visible",className:"fixed inset-0 z-50 flex flex-col items-center w-full h-full overflow-hidden bg-[#050B14]",style:{backgroundImage:`
          radial-gradient(circle at 50% 0%, #1e3a8a 0%, #050B14 60%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.03) 0px, rgba(255,255,255,0.03) 1px, transparent 1px, transparent 40px),
          repeating-linear-gradient(-45deg, rgba(255,255,255,0.03) 0px, rgba(255,255,255,0.03) 1px, transparent 1px, transparent 40px)
        `},children:[u.jsxs("div",{className:"flex-1 w-full max-w-md px-6 pt-10 pb-32 overflow-y-auto custom-scrollbar flex flex-col items-center gap-6",children:[u.jsxs(j.div,{variants:s,className:"text-center shrink-0",children:[u.jsx("h1",{className:"font-game text-5xl text-transparent bg-clip-text bg-gradient-to-b from-blue-200 via-blue-400 to-blue-600 drop-shadow-[0_4px_0_rgba(0,0,0,0.5)] stroke-text-blue",children:"HOW TO PLAY"}),u.jsx("p",{className:"text-blue-200/80 text-xs font-semibold tracking-wide mt-2 uppercase",children:"Match blocks. Fill buckets. Secure your future."})]}),u.jsxs("div",{className:"w-full space-y-4 shrink-0",children:[u.jsxs(j.div,{variants:s,className:"relative group",children:[u.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl opacity-40 blur"}),u.jsxs("div",{className:"relative bg-[#0a1529] border border-blue-500/50 rounded-2xl p-4 flex items-center gap-5 shadow-[inset_0_0_20px_rgba(59,130,246,0.2)]",children:[u.jsx(dh,{}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-wide mb-1",children:"Swap Adjacent Tiles"}),u.jsx("p",{className:"text-blue-200/60 text-xs leading-tight font-medium",children:"Tap two neighboring tiles to swap them matches of 3 or more."})]})]})]}),u.jsxs(j.div,{variants:s,className:"relative group",children:[u.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-pink-500 to-rose-500 rounded-2xl opacity-40 blur"}),u.jsxs("div",{className:"relative bg-[#0a1529] border border-blue-500/50 rounded-2xl p-4 flex items-center gap-5 shadow-[inset_0_0_20px_rgba(59,130,246,0.2)]",children:[u.jsx(hh,{}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-wide mb-1",children:"Fill Buckets"}),u.jsx("p",{className:"text-blue-200/60 text-xs leading-tight font-medium",children:"Each color fills its matching financial goal bucket."})]})]})]}),u.jsxs(j.div,{variants:s,className:"relative group",children:[u.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-2xl opacity-40 blur"}),u.jsxs("div",{className:"relative bg-[#0a1529] border border-blue-500/50 rounded-2xl p-4 flex items-center gap-5 shadow-[inset_0_0_20px_rgba(59,130,246,0.2)]",children:[u.jsx(fh,{}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-wide mb-1",children:"2 Minutes"}),u.jsx("p",{className:"text-blue-200/60 text-xs leading-tight font-medium",children:"You have 120 seconds to maximize your score."})]})]})]}),u.jsxs(j.div,{variants:s,className:"relative group",children:[u.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl opacity-40 blur"}),u.jsxs("div",{className:"relative bg-[#0a1529] border border-blue-500/50 rounded-2xl p-4 flex items-center gap-5 shadow-[inset_0_0_20px_rgba(59,130,246,0.2)]",children:[u.jsx(mh,{}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-wide mb-1",children:"Chain Combos"}),u.jsx("p",{className:"text-blue-200/60 text-xs leading-tight font-medium",children:"Cascading matches give big point bonuses!"})]})]})]})]}),u.jsxs(j.div,{variants:s,className:"w-full relative group",children:[u.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl opacity-60 blur"}),u.jsxs("div",{className:"relative bg-gradient-to-b from-[#1e3a8a] to-[#0f172a] border border-indigo-400/50 rounded-2xl p-4 shadow-xl",children:[u.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-[#0f172a] px-3 py-0.5 rounded-full border border-indigo-400/50",children:u.jsx("span",{className:"text-[0.6rem] font-black text-indigo-300 tracking-widest uppercase",children:"Scoring"})}),u.jsx("div",{className:"flex justify-between items-center gap-2 pt-2",children:[{matches:"3",points:"+10",color:"from-blue-400 to-blue-600",shadow:"#1e40af"},{matches:"4",points:"+18",color:"from-purple-400 to-purple-600",shadow:"#6b21a8"},{matches:"5",points:"+30",color:"from-amber-400 to-orange-500",shadow:"#c2410c"}].map(r=>u.jsxs("div",{className:"flex-1 flex items-center justify-center gap-2",children:[u.jsx("div",{className:"relative",children:u.jsx("span",{className:`font-game text-4xl text-transparent bg-clip-text bg-gradient-to-b ${r.color} drop-shadow break-words`,style:{filter:`drop-shadow(0 4px 0 ${r.shadow})`},children:r.matches})}),u.jsxs("div",{className:"flex flex-col leading-none",children:[u.jsxs("span",{className:"text-[0.5rem] text-white/60 font-bold uppercase mb-0.5",children:[r.matches," Match"]}),u.jsx("span",{className:`font-game text-sm text-transparent bg-clip-text bg-gradient-to-b ${r.color} drop-shadow-sm`,children:r.points})]})]},r.matches))})]})]}),u.jsxs(j.div,{variants:s,className:"w-full mt-2",children:[u.jsx("h3",{className:"text-center text-blue-200/80 text-[10px] font-bold uppercase tracking-[0.2em] mb-4",children:"Goal Buckets"}),u.jsx("div",{className:"grid grid-cols-1 gap-3 bg-[#0a1529]/50 p-4 rounded-2xl border border-white/5",children:i.map((r,o)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg shadow-sm shrink-0 border border-white/10",style:{background:r.bg,boxShadow:`0 2px 0 ${r.border}`}}),u.jsxs("div",{className:"flex-1 border-b border-white/5 pb-2",children:[u.jsx("span",{className:"text-white text-sm font-bold uppercase tracking-wide block",children:r.label}),u.jsx("span",{className:"text-white/40 text-[10px] font-medium uppercase tracking-wider",children:"Match tiles to fill"})]})]},o))})]})]}),u.jsx(j.div,{variants:s,className:"absolute bottom-0 left-0 w-full p-6 bg-[#050B14]/95 backdrop-blur-xl border-t border-white/10 z-20",children:u.jsx("div",{className:"w-full max-w-md mx-auto",children:u.jsxs("button",{onClick:t,className:"w-full py-4 rounded-2xl font-game text-xl tracking-wider text-white uppercase relative overflow-hidden group transition-transform active:scale-[0.98] shadow-[0_6px_0_#b45309,0_15px_20px_rgba(0,0,0,0.4)] hover:shadow-[0_8px_0_#b45309,0_20px_25px_rgba(0,0,0,0.4)] active:shadow-[0_2px_0_#b45309] active:translate-y-1",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#fcd34d] via-[#f59e0b] to-[#d97706]"}),u.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-white/60"}),u.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/2 bg-gradient-to-t from-black/10 to-transparent"}),u.jsxs("div",{className:"relative flex items-center justify-center gap-3 drop-shadow-md",children:[u.jsx("span",{className:"text-[#78350f] text-stroke-white",children:"START PLAYING"}),u.jsx(nh,{className:"w-6 h-6 fill-[#78350f] text-[#78350f]",strokeWidth:3})]})]})})}),u.jsx("style",{children:`
        .text-stroke-white {
          -webkit-text-stroke: 1px rgba(255,255,255,0.4);
        }
        .stroke-text-blue {
          -webkit-text-stroke: 2px #1e3a8a;
        }
      `})]})});go.propTypes={onStart:O.func.isRequired};const bn=24,vi=2*Math.PI*bn,yo=p.memo(function({timeLeft:t,totalTime:n}){const s=t/n,i=vi*(1-s),r=t<=30,o=Math.floor(t/60),a=t%60,c=`${o}:${a.toString().padStart(2,"0")}`,l=r?"#EF4444":"#3B82F6";return u.jsxs("div",{className:`relative flex items-center justify-center w-16 h-16 ${r?"animate-pulse":""}`,children:[r&&u.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500/20 blur-xl animate-pulse"}),u.jsxs("svg",{width:60,height:60,viewBox:"0 0 60 60",className:"transform -rotate-90 drop-shadow-lg",children:[u.jsx("circle",{cx:"30",cy:"30",r:bn,fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"3"}),u.jsx(j.circle,{cx:"30",cy:"30",r:bn,fill:"none",stroke:l,strokeWidth:"3",strokeLinecap:"round",strokeDasharray:vi,initial:{strokeDashoffset:0},animate:{strokeDashoffset:i},transition:{duration:1,ease:"linear"},style:{filter:`drop-shadow(0 0 4px ${l})`}})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("span",{className:"font-game text-sm text-white drop-shadow-md tracking-wider leading-none",children:c})})]})});yo.propTypes={timeLeft:O.number.isRequired,totalTime:O.number.isRequired};const Ke=["GREEN","BLUE","YELLOW","RED"],xo={GREEN:{label:"Family Plan",color:"#10B981",bg:"linear-gradient(145deg, #059669 0%, #10B981 50%, #34D399 100%)",glow:"rgba(16, 185, 129, 0.45)",bucketBg:"linear-gradient(180deg, #064E3B 0%, #059669 100%)",bucketBorder:"rgba(16, 185, 129, 0.5)"},BLUE:{label:"Child Education Plan",color:"#3B82F6",bg:"linear-gradient(145deg, #1D4ED8 0%, #3B82F6 50%, #60A5FA 100%)",glow:"rgba(59, 130, 246, 0.45)",bucketBg:"linear-gradient(180deg, #1E3A5F 0%, #1D4ED8 100%)",bucketBorder:"rgba(59, 130, 246, 0.5)"},YELLOW:{label:"Retirement Plan",color:"#F59E0B",bg:"linear-gradient(145deg, #D97706 0%, #F59E0B 50%, #FBBF24 100%)",glow:"rgba(245, 158, 11, 0.45)",bucketBg:"linear-gradient(180deg, #78350F 0%, #D97706 100%)",bucketBorder:"rgba(245, 158, 11, 0.5)"},RED:{label:"Emergency Fund",color:"#EF4444",bg:"linear-gradient(145deg, #B91C1C 0%, #EF4444 50%, #F87171 100%)",glow:"rgba(239, 68, 68, 0.45)",bucketBg:"linear-gradient(180deg, #7F1D1D 0%, #DC2626 100%)",bucketBorder:"rgba(239, 68, 68, 0.5)"}},Te=400,ie={match3:10,match4:18,match5:30,comboBonus:5,cascadeBonus:7},ph=120,wi=["Good Job!","Excellent!","Amazing!","Outstanding!","Perfect!","Well Done!","Brilliant!","Keep Going!"],R={LANDING:"landing",ENTRY:"entry",HOW_TO_PLAY:"how_to_play",PLAYING:"playing",FINISHED:"finished",RESULT:"result",THANK_YOU:"thank_you",EXITED:"exited"};function Ti(e){if(!e)return 0;const t=Ke.reduce((i,r)=>{const o=e[r]||0;return i+Math.min(o,Te)},0),n=Ke.length*Te,s=t/n*100;return Math.round(Math.min(s,100))}function gh(e){return e?Ke.every(t=>(e[t]||0)>=Te):!1}function yh(e,t,n){return Math.min(n,Math.max(t,e))}const bo=p.memo(function({timeLeft:t,onExit:n}){return u.jsx("div",{className:"w-full shrink-0 flex items-center justify-between px-4 py-3 pb-2 z-20",children:u.jsxs("div",{className:"glass-header w-full flex items-center justify-between px-4 py-2 rounded-2xl border border-white/10 relative h-14",children:[u.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 top-[-6px] transition-all duration-500 ease-in-out z-30 ${t<=10?"scale-125 top-2 drop-shadow-[0_0_15px_rgba(255,0,0,0.6)]":"scale-100"}`,children:u.jsx("div",{className:`bg-bb-navy p-1 rounded-full border border-bb-accent/20 shadow-xl transition-colors ${t<=10?"border-red-500/50 bg-red-900/40":""}`,children:u.jsx(yo,{timeLeft:t,totalTime:ph})})}),u.jsx("button",{onClick:n,className:"group flex flex-col items-center gap-0.5 opacity-60 hover:opacity-100 transition-opacity ml-auto","aria-label":"Exit Game",children:u.jsx(Kd,{className:"w-6 h-6 text-white drop-shadow-md group-hover:text-red-400 transition-colors"})})]})})});bo.propTypes={timeLeft:O.number.isRequired,onExit:O.func.isRequired};const ct=6,Si=3;function xh(){return Math.random().toString(36).slice(2,9)}function vn(e,t=[]){const n=e.filter(s=>!t.includes(s));return n.length?n[Math.floor(Math.random()*n.length)]:e[Math.floor(Math.random()*e.length)]}function ut(e,t,n){return{id:xh(),type:e,row:t,col:n}}function Et(e){const t=new Set,n=e.length;for(let s=0;s<n;s++){let i=1;for(let r=1;r<n;r++){const o=e[s][r],a=e[s][r-1];if(o&&a&&o.type===a.type){if(i++,i>=Si)for(let c=r-i+1;c<=r;c++)t.add(`${s}-${c}`)}else i=1}}for(let s=0;s<n;s++){let i=1;for(let r=1;r<n;r++){const o=e[r][s],a=e[r-1][s];if(o&&a&&o.type===a.type){if(i++,i>=Si)for(let c=r-i+1;c<=r;c++)t.add(`${c}-${s}`)}else i=1}}return t}function bt(e,t,n,s,i){const r=e.length;if(!(Math.abs(t-s)===1&&n===i||Math.abs(n-i)===1&&t===s)||t<0||t>=r||n<0||n>=r||s<0||s>=r||i<0||i>=r||!e[t][n]||!e[s][i])return!1;const a=e.map(d=>d.map(h=>h?{...h}:null)),c=a[t][n],l=a[s][i];return a[t][n]={...l,row:t,col:n},a[s][i]={...c,row:s,col:i},Et(a).size>0}function vo(e){const t=e.length,n=Array.from({length:t},()=>Array(t).fill(null));for(let s=0;s<t;s++){let i=t-1;for(let r=t-1;r>=0;r--)e[r][s]!==null&&(n[i][s]={...e[r][s],row:i,col:s},i--)}return n}function wo(e,t,n=0){e.length;const s=t.includes("RISK")?"RISK":null;return e.map((r,o)=>r.map((a,c)=>{if(a!==null)return a;let l;return s&&Math.random()<n?l=s:l=vn(t),ut(l,o,c)}))}function To(e,t){return e.map((n,s)=>n.map((i,r)=>t.has(`${s}-${r}`)?null:i))}function So(e){const t=e.length;for(let n=0;n<t;n++)for(let s=0;s<t;s++)if(s+1<t&&bt(e,n,s,n,s+1)||n+1<t&&bt(e,n,s,n+1,s))return!0;return!1}function Ei(e,t=100){const n=ct;for(let i=0;i<t;i++){const r=Array.from({length:n},(o,a)=>Array.from({length:n},(c,l)=>ut(vn(e),a,l)));if(Et(r).size===0&&So(r))return r}const s=Array.from({length:n},(i,r)=>Array.from({length:n},(o,a)=>ut(e[0],r,a)));for(let i=0;i<n;i++)for(let r=0;r<n;r++){const o=[];r>=2&&s[i][r-1].type===s[i][r-2].type&&o.push(s[i][r-1].type),i>=2&&s[i-1][r].type===s[i-2][r].type&&o.push(s[i-1][r].type),s[i][r]=ut(vn(e,o),i,r)}return s}function bh(e,t){let n=0;for(const s of e)for(const i of s)i&&i.type===t&&n++;return n}function Eo(e,t){var s;const n=new Set;for(const i of t){const[r,o]=i.split("-").map(Number);(s=e[r])!=null&&s[o]&&n.add(e[r][o].type)}return n}function vh(e,t){return t.size}function wh(e,t){var s,i,r,o;const n=e.length;for(const a of t){const[c,l]=a.split("-").map(Number);if(((i=(s=e[c])==null?void 0:s[l])==null?void 0:i.type)!=="SHIELD")continue;const d=[[c-1,l],[c+1,l],[c,l-1],[c,l+1]];for(const[h,f]of d)if(h>=0&&h<n&&f>=0&&f<n&&((o=(r=e[h])==null?void 0:r[f])==null?void 0:o.type)==="RISK")return!0}return!1}function Th(e,t){return e.map(n=>n.map(s=>s&&s.type===t?null:s))}function Sh(e){const{tileTypes:t,scoringRules:n={},riskSpawnRate:s=0,specialRules:i={},stageGoal:r={},maxMoves:o=20}=e,a=Ei(t);return{config:e,tileTypes:t,scoringRules:n,riskSpawnRate:s,specialRules:i,stageGoal:r,maxMoves:o,initialGrid:a,findMatches:Et,wouldCreateMatch:bt,generateInitialGrid:()=>Ei(t),hasValidMoves:So,applyGravity:vo,removeMatches:To,refillGrid:(c,l)=>wo(c,t,l),countTilesByType:bh,getMatchedTypes:Eo,getMatchLength:vh,checkShieldRiskAdjacency:wh,clearAllOfType:Th}}const ki={GREEN:{bg:"bg-tile-green",shadow:"shadow-green-900/40",icon:"Family"},BLUE:{bg:"bg-tile-blue",shadow:"shadow-blue-900/40",icon:"Edu"},YELLOW:{bg:"bg-tile-yellow",shadow:"shadow-amber-900/40",icon:"Retire"},RED:{bg:"bg-tile-red",shadow:"shadow-red-900/40",icon:"Emerg"}},Eh=({type:e})=>{const t="rgba(255,255,255,0.9)",n="rgba(255,255,255,0.15)";return e==="GREEN"?u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-[55%] h-[55%] drop-shadow-md",children:[u.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2",fill:n}),u.jsx("circle",{cx:"9",cy:"7",r:"4",fill:n}),u.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),u.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}):e==="BLUE"?u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-[50%] h-[50%] drop-shadow-md",children:[u.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",fill:n}),u.jsx("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})]}):e==="YELLOW"?u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-[55%] h-[55%] drop-shadow-md",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",fill:n}),u.jsx("path",{d:"M12 6v6l4 2"})]}):e==="RED"?u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-[50%] h-[50%] drop-shadow-md",children:[u.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2",fill:n}),u.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}):null},ko=p.memo(function({tile:t,isSelected:n,isExploding:s,onTap:i,cellSize:r}){if(!t||!t.type)return u.jsx("div",{style:{width:r,height:r}});const o=ki[t.type]||ki.GREEN,a=n?"scale-95 ring-[3px] ring-white/80 ring-offset-2 ring-offset-bb-navy z-20 brightness-110":"",c=s?"animate-tile-pop opacity-0":"";return u.jsxs(j.div,{layoutId:t.id,className:`relative flex items-center justify-center 
        ${o.bg} ${o.shadow} ${a} ${c} 
        tile-premium select-none active:scale-[0.85]`,style:{width:r,height:r},onClick:()=>i(t.row,t.col),initial:!1,animate:{scale:s?1.5:1,opacity:s?0:1},transition:{type:"spring",stiffness:400,damping:25},children:[u.jsx(Eh,{type:t.type}),n&&u.jsx(j.div,{layoutId:"select-glow",className:"absolute inset-0 rounded-[14px] bg-white/20 animate-pulse"})]})});ko.propTypes={tile:O.object,isSelected:O.bool,isExploding:O.bool,onTap:O.func.isRequired,cellSize:O.number.isRequired};const Po=p.memo(function({grid:t,selectedCell:n,explodingCells:s,floatingScores:i,activePraise:r,onCellTap:o}){const a=p.useRef(null),[c,l]=p.useState(48);p.useEffect(()=>{if(!a.current)return;const h=new ResizeObserver(f=>{const g=f[0].contentRect.width-24,b=Math.floor(g/ct);l(Math.max(42,Math.min(64,b)))});return h.observe(a.current),()=>h.disconnect()},[]);const d=p.useCallback((h,f)=>o(h,f),[o]);return t?u.jsx("div",{ref:a,className:"relative flex-1 w-full max-w-[600px] flex items-center justify-center p-4 z-10",children:u.jsxs("div",{className:"glass-panel relative p-3 rounded-[1rem] shadow-glass border border-bb-glass-border",style:{background:"linear-gradient(145deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%)",boxShadow:"0 20px 50px -12px rgba(0,0,0,0.5)"},children:[u.jsx("div",{className:"absolute inset-0 rounded-[1rem] pointer-events-none shadow-[inset_0_0_20px_rgba(59,130,246,0.1)]"}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${ct}, ${c}px)`,gridTemplateRows:`repeat(${ct}, ${c}px)`,gap:"4px",position:"relative",zIndex:1,padding:"2px"},children:t.map(h=>h.map(f=>{if(!f)return u.jsx("div",{style:{width:c,height:c}},Math.random());const m=(n==null?void 0:n.row)===f.row&&(n==null?void 0:n.col)===f.col,g=s.has(`${f.row}-${f.col}`);return u.jsx(ko,{tile:f,isSelected:m,isExploding:g,onTap:d,cellSize:c},f.id)}))}),u.jsx(ue,{children:i.map(h=>u.jsx(j.div,{initial:{opacity:0,y:0,scale:.5},animate:{opacity:1,y:-40,scale:1.2},exit:{opacity:0},transition:{duration:.8,ease:"easeOut"},className:"float-point absolute pointer-events-none z-50 text-center w-full",style:{left:0,top:`${h.y}%`,transform:`translateX(${h.x-50}px)`},children:u.jsx("span",{className:"drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)] text-bb-gold",children:h.value})},h.id))}),u.jsx(ue,{children:r&&u.jsxs(j.div,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1.2,y:0},exit:{opacity:0,scale:1.5,y:-20},transition:{duration:.4,type:"spring",bounce:.5},className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[100]",children:[u.jsx("div",{className:"bg-black/40 backdrop-blur-sm px-6 py-3 rounded-2xl border border-white/20 shadow-2xl",children:u.jsx("span",{className:"font-game text-3xl sm:text-4xl text-transparent bg-clip-text bg-gradient-to-br from-yellow-300 via-orange-400 to-red-500 drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)] tracking-wide",children:r})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx(j.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0},className:"w-40 h-40 border-2 border-dashed border-white/10 rounded-full"})})]},r)})]})}):null});Po.propTypes={grid:O.array,selectedCell:O.object,explodingCells:O.instanceOf(Set).isRequired,floatingScores:O.array.isRequired,activePraise:O.string,onCellTap:O.func.isRequired};const kh=["GREEN","BLUE","YELLOW","RED"],Ao=p.memo(function({buckets:t}){return u.jsx("div",{className:"w-full shrink-0 px-4 py-3 pb-safe z-10",children:u.jsx("div",{className:"flex items-end justify-between gap-3 h-32 sm:h-36",children:kh.map(n=>{const s=xo[n],i=Math.min(t[n]||0,Te),r=Math.round(i/Te*100),o=r>=100,a=s.color;return u.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1 h-full relative group",children:[u.jsx("span",{className:`text-[0.6rem] font-bold uppercase tracking-wider text-center leading-tight transition-colors ${o?"text-bb-gold drop-shadow-md":"text-blue-200/60"}`,children:s.label.split(" ")[0]}),u.jsxs("div",{className:`bucket-capsule w-full flex-1 relative flex items-end justify-center ${o?"full":""}`,style:{boxShadow:o?`0 0 20px ${a}66`:void 0},children:[u.jsx("div",{className:"absolute inset-0 bg-white/5"}),u.jsxs(j.div,{className:"absolute bottom-0 left-0 right-0 z-0 overflow-hidden",initial:{height:"0%"},animate:{height:`${r}%`},transition:{type:"spring",stiffness:50,damping:15},children:[u.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:s.bucketBg}}),u.jsx("div",{className:"absolute top-[-10px] left-[-50%] w-[200%] h-6 opacity-40 animate-wave",style:{background:"linear-gradient(90deg, transparent, #fff, transparent)"}}),u.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-white/40"})]}),u.jsx("div",{className:"absolute bottom-2 inset-x-0 text-center z-10",children:u.jsxs("span",{className:"font-game text-sm sm:text-base drop-shadow-md text-white",children:[r,"%"]})}),u.jsx(ue,{children:o&&u.jsx(j.div,{initial:{opacity:0,scale:.5,y:10},animate:{opacity:1,scale:1,y:0},className:"absolute top-[-8px] inset-x-0 flex justify-center z-20",children:u.jsxs("div",{className:"bg-bb-gold text-bb-navy text-[0.5rem] font-black uppercase px-2 py-0.5 rounded-full shadow-lg flex items-center gap-1 border border-white/20",children:[u.jsx(Hd,{className:"w-2.5 h-2.5"}),"Secured"]})})}),o&&u.jsx(j.div,{className:"absolute inset-0 rounded-[inherit] border-2 border-bb-gold/50",animate:{opacity:[0,1,0],scale:[1,1.05,1]},transition:{duration:2,repeat:1/0}})]})]},n)})})})});Ao.propTypes={buckets:O.object.isRequired};const Ht=async e=>{const t="https://webpartner.bajajallianz.com/EurekaWSNew/service/pushData",n={name:e.name,age:e.age||25,mobile_no:e.mobile_no,email_id:e.email_id||"",goal_name:e.goal_name||"1",param1:null,param2:null,param3:null,param4:e.param4||null,param5:"",param13:"",param18:"",param19:e.param19||"",param20:"",param23:e.param23||"",param24:e.param24||"",param25:e.param25||"",param26:e.param26||"",param36:"manual",summary_dtls:e.summary_dtls||"Booking Request",p_user_eml:e.email_id||"",p_data_source:e.p_data_source||"WS_ETOUCH_BUY",p_curr_page_path:"https://www.bajajlifeinsurance.com/etouch/",p_ip_addsr:"",p_remark_url:"",prodId:e.prodId||"345",medium:"",contact_number:"",content:"",campaign:"",source:"",keyword:"",flag:"",parameter:"",name1:"",param28:"",param29:"",param30:""};try{const s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});let i={success:!0};try{const r=await s.json();r&&typeof r=="object"&&(i={success:!0,...r})}catch{}return i}catch{return{success:!0}}},Ph=({score:e})=>{const t=p.useRef(null),[n,s]=p.useState(0),i=isNaN(e)?0:e,r=Math.min(Math.max(Number(i),0),100),o=c=>c<40?"#FF3D00":c<75?"#FFD600":"#00E676";p.useEffect(()=>{const c=t.current;if(!c)return;const l=c.getContext("2d");let d;const h=.8*Math.PI,f=2.2*Math.PI,m=f-h,g=c.width,b=c.height,T=g/2,v=b/2,w=Math.min(g,b)/2-20,y=20;let S=0;const E=()=>{const A=r-S;Math.abs(A)>.5?S+=A*.08:S=r,s(Math.round(S)),l.clearRect(0,0,g,b),l.beginPath(),l.arc(T,v,w,h,f),l.lineWidth=y,l.strokeStyle="rgba(255, 255, 255, 0.1)",l.lineCap="round",l.stroke();const k=S/100,x=h+k*m,P=o(S);l.save(),l.beginPath(),l.arc(T,v,w,h,x),l.lineWidth=y,l.strokeStyle=P,l.lineCap="round",l.shadowBlur=20,l.shadowColor=P,l.stroke(),l.restore();const M=40;l.save(),l.shadowBlur=0;for(let K=0;K<=M;K++){const ae=K/M,de=h+ae*m,_=K%10===0,X=_?12:6,J=w-y/2-5,le=J-X,kt=T+Math.cos(de)*J,Mo=v+Math.sin(de)*J,Ro=T+Math.cos(de)*le,Do=v+Math.sin(de)*le;l.beginPath(),l.moveTo(kt,Mo),l.lineTo(Ro,Do),l.lineWidth=_?2:1,l.strokeStyle=ae<=k?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.2)",l.stroke()}l.restore();const V=w-10,B=T+Math.cos(x)*V,z=v+Math.sin(x)*V;l.save(),l.beginPath(),l.moveTo(T,v),l.lineTo(B,z),l.lineWidth=4,l.strokeStyle="#fff",l.lineCap="round",l.shadowBlur=15,l.shadowColor="#fff",l.stroke(),l.beginPath(),l.arc(T,v,8,0,Math.PI*2),l.fillStyle="#fff",l.fill(),l.restore(),Math.abs(A)>.5&&(d=requestAnimationFrame(E))};return E(),()=>{d&&cancelAnimationFrame(d)}},[r]);const a=o(n);return u.jsxs("div",{className:"relative flex flex-col items-center justify-center select-none w-full max-w-[350px] mx-auto",children:[u.jsx("canvas",{ref:t,width:350,height:300,className:"w-full h-auto drop-shadow-xl"}),u.jsx("div",{className:"text-center pointer-events-none z-10 -mt-12 mb-4",children:u.jsxs("div",{className:"text-5xl sm:text-6xl font-black text-white italic tracking-tighter",style:{textShadow:`0 0 20px ${a}, 0 0 40px ${a}`},children:[n,u.jsx("span",{className:"text-2xl sm:text-3xl font-bold not-italic ml-1 text-white/50",children:"/100"})]})})]})},Co=()=>{const e=p.useRef(null);return p.useEffect(()=>{const t=e.current;if(!t)return;const n=t.getContext("2d");let s=window.innerWidth,i=window.innerHeight;t.width=s,t.height=i;const r=[],o=150,a=["#0066B2","#FF8C00","#ffffff","#FFD700","#00A3E0"];class c{constructor(){this.init()}init(){this.x=Math.random()*s,this.y=Math.random()*i-i,this.rotation=Math.random()*360,this.size=Math.random()*8+4,this.color=a[Math.floor(Math.random()*a.length)],this.vx=Math.random()*2-1,this.vy=Math.random()*2+2}update(){this.x+=this.vx,this.y+=this.vy,this.rotation+=2,this.y>i&&(this.init(),this.y=-20)}draw(){n.save(),n.translate(this.x,this.y),n.rotate(this.rotation*Math.PI/180),n.fillStyle=this.color,n.fillRect(-this.size/2,-this.size/2,this.size,this.size),n.restore()}}for(let m=0;m<o;m++)r.push(new c);let l;const d=()=>{n.clearRect(0,0,s,i),r.forEach(m=>{m.update(),m.draw()}),l=requestAnimationFrame(d)};d();const h=setTimeout(()=>{cancelAnimationFrame(l),n.clearRect(0,0,s,i)},5e3),f=()=>{s=window.innerWidth,i=window.innerHeight,t.width=s,t.height=i};return window.addEventListener("resize",f),()=>{cancelAnimationFrame(l),clearTimeout(h),window.removeEventListener("resize",f)}},[]),u.jsx("canvas",{ref:e,className:"fixed inset-0 pointer-events-none z-[100]"})},Ah=["GREEN","BLUE","YELLOW","RED"],Ch=({finalScore:e,buckets:t,userName:n,userPhone:s,onRestart:i,onBookSlot:r})=>{const o=e||0,[a,c]=p.useState(!1),[l,d]=p.useState(!1),[h,f]=p.useState({name:n||"",mobile:s||"",date:"",time:""}),[m,g]=p.useState(!1),[b,T]=p.useState({}),v=new Date().toISOString().split("T")[0],w=new Date(new Date().getFullYear(),11,31).toISOString().split("T")[0],y=(x,P)=>{f(M=>({...M,[x]:P})),b[x]&&T(M=>({...M,[x]:null}))},S=()=>{const x={};return h.name.trim()?/^[A-Za-z\s]+$/.test(h.name.trim())||(x.name="Invalid name"):x.name="Name is required",h.mobile?/^\d{10}$/.test(h.mobile)||(x.mobile="Invalid Mobile Number"):x.mobile="Mobile is required",h.date||(x.date="Required"),h.time||(x.time="Required"),T(x),Object.keys(x).length===0},E=async x=>{if(x.preventDefault(),!!S()){g(!0);try{r&&await r(h),c(!1)}catch{}finally{g(!1)}}},A=async()=>{const x=`I scored ${o}/100 in Balance Builder! Check how prepared you are.`;if(navigator.share)try{await navigator.share({title:"Balance Builder Score",text:x,url:window.location.href})}catch{}else try{await navigator.clipboard.writeText(x+" "+window.location.href)}catch{}};return u.jsxs("div",{className:"w-full h-full overflow-y-auto overflow-x-hidden custom-scrollbar flex flex-col items-center pt-4 pb-8 px-4",style:{background:"linear-gradient(180deg, #00509E 0%, #003366 100%)"},children:[u.jsx(Co,{}),u.jsx("button",{onClick:A,className:"fixed top-4 right-4 z-50 text-white/90 hover:text-white transition-opacity p-2 bg-black/10 rounded-full backdrop-blur-sm",children:u.jsx(bi,{className:"w-6 h-6 sm:w-7 sm:h-7 drop-shadow-md",strokeWidth:2.5})}),u.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-cover bg-center opacity-60 mix-blend-overlay",style:{backgroundImage:"linear-gradient(radial-gradient, circle at center, rgba(255,255,255,0.2) 0%, transparent 70%)"}}),u.jsxs("div",{className:"relative z-10 w-full max-w-[500px] flex flex-col items-center shrink-0",children:[u.jsxs("div",{className:"text-center mb-2 w-full",children:[u.jsxs("h1",{className:"text-base sm:text-lg md:text-xl font-medium text-white uppercase tracking-wide italic mb-1",children:["Hi ",u.jsxs("span",{className:"ml-1 text-2xl sm:text-3xl md:text-4xl font-black",children:[n||"Player","!"]})]}),u.jsxs("h2",{className:"text-sm sm:text-base md:text-lg text-white uppercase tracking-wide italic mb-2 opacity-90",children:["Your ",u.jsx("span",{className:"font-black text-lg sm:text-xl text-[#FF8C00]",children:"Balance Builder"})," score is"]}),u.jsx("div",{className:"transform scale-90 sm:scale-100 mb-1 origin-top",children:u.jsx(Ph,{score:o})}),u.jsx("div",{className:"flex justify-center -mt-8 mb-4 relative z-20",children:u.jsxs("button",{onClick:()=>d(!0),className:"text-white/80 hover:text-white text-[10px] sm:text-xs font-bold uppercase tracking-[0.15em] flex items-center gap-1 bg-white/10 px-4 py-2 rounded-full backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-all shadow-lg",children:["View Breakdown ",u.jsx(zd,{size:12})]})}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("button",{onClick:A,className:"bg-gradient-to-r from-[#FF8C00] to-[#FF7000] hover:from-[#FF7000] hover:to-[#E65C00] text-white font-black py-3 px-10 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center gap-3 text-sm sm:text-base border-2 border-white/20 uppercase tracking-widest rounded-full",children:[u.jsx(bi,{className:"w-5 h-5"})," SHARE SCORE"]})})]}),u.jsxs("div",{className:"w-full bg-white p-5 sm:p-6 shadow-[0_20px_50px_rgba(0,0,0,0.5)] border-4 border-white/50 mb-6 shrink-0 rounded-xl relative z-20",children:[u.jsx("p",{className:"text-slate-600 text-[11px] sm:text-sm font-bold text-center mb-4 leading-relaxed uppercase tracking-wide",children:"To know more, connect with our Relationship Manager."}),u.jsx("a",{href:"tel:1800209999",className:"block w-full mb-4",children:u.jsxs("button",{className:"w-full bg-[#0066B2] hover:bg-[#004C85] text-white font-black py-4 shadow-[0_4px_0_#00335C] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-sm sm:text-lg uppercase tracking-widest border-2 border-white/10 rounded-lg",children:[u.jsx(eh,{className:"w-5 h-5"})," CALL NOW"]})}),u.jsxs("div",{className:"relative py-2 mb-4",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t-2 border-slate-100"})}),u.jsx("div",{className:"relative flex justify-center text-[10px] sm:text-xs uppercase",children:u.jsx("span",{className:"px-4 bg-white text-slate-400 font-black tracking-widest",children:"Or"})})]}),u.jsxs("button",{onClick:()=>c(!0),className:"w-full bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black py-4 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-sm sm:text-lg uppercase tracking-widest border-2 border-white/10 rounded-lg",children:[u.jsx(Wd,{className:"w-5 h-5"})," BOOK A SLOT"]})]}),u.jsx("div",{className:"shrink-0 text-center pb-8",children:u.jsxs("button",{onClick:i,className:"text-blue-100/60 hover:text-white text-[11px] sm:text-sm font-black uppercase tracking-[0.2em] transition-colors flex items-center justify-center gap-2 mx-auto drop-shadow-md hover:scale-105 active:scale-95",children:[u.jsx(ih,{className:"w-4 h-4"})," RETAKE QUIZ"]})})]}),u.jsx(ue,{children:l&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:u.jsxs(j.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white p-6 w-full max-w-sm shadow-2xl relative border-4 border-white/50 rounded-xl",children:[u.jsx("button",{onClick:()=>d(!1),className:"absolute right-4 top-4 text-slate-300 hover:text-slate-500 transition-colors bg-slate-100 p-1 rounded-full",children:u.jsx(Ge,{className:"w-5 h-5"})}),u.jsx("h3",{className:"text-[#0066B2] font-black text-center mb-6 uppercase tracking-wider text-sm",children:"Bucket Breakdown"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ah.map(x=>{const P=xo[x],M=t[x]||0,V=Math.min(Math.round(M/Te*100),100);return u.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg flex flex-col items-center border border-slate-100 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute top-0 left-0 w-1 h-full",style:{background:P.color}}),u.jsx("div",{className:"w-6 h-6 rounded mb-1 shadow-sm",style:{background:P.bg}}),u.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wide text-center leading-tight mb-0.5 whitespace-nowrap overflow-hidden text-ellipsis w-full px-1",children:P.label}),u.jsxs("span",{className:"text-lg font-black text-slate-700",children:[V,"%"]})]},x)})})]})})}),u.jsx(ue,{children:a&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:u.jsxs(j.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white p-6 w-full max-w-sm shadow-2xl relative border-4 border-white/50 rounded-xl",children:[u.jsx("button",{onClick:()=>c(!1),className:"absolute right-4 top-4 text-slate-300 hover:text-slate-500 transition-colors bg-slate-100 p-1 rounded-full",children:u.jsx(Ge,{className:"w-5 h-5"})}),u.jsx("h2",{className:"text-[#0066B2] font-black text-center mb-6 text-sm sm:text-base uppercase tracking-tight pt-2",children:"Book a convenient slot"}),u.jsxs("form",{onSubmit:E,className:"space-y-3 sm:space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Your Name"}),u.jsx("input",{value:h.name,onChange:x=>y("name",x.target.value),className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-xs font-bold px-3 rounded",placeholder:"Full Name"}),b.name&&u.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:b.name})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mobile Number"}),u.jsx("input",{value:h.mobile,onChange:x=>{const P=x.target.value.replace(/\D/g,"").slice(0,10);y("mobile",P)},type:"tel",className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-xs font-bold px-3 rounded",placeholder:"9876543210"}),b.mobile&&u.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:b.mobile})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Preferred Date"}),u.jsx("input",{type:"date",min:v,max:w,value:h.date,onChange:x=>y("date",x.target.value),className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-[10px] font-bold px-2 rounded"}),b.date&&u.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:b.date})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Preferred Time"}),u.jsxs("select",{value:h.time,onChange:x=>y("time",x.target.value),className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-100 text-[10px] font-bold px-2 appearance-none rounded",children:[u.jsx("option",{value:"",children:"Select"}),[...Array(12)].map((x,P)=>{const M=9+P,V=M+1,B=K=>{const ae=K>=12?"PM":"AM";return`${K>12?K-12:K}:00 ${ae}`},z=`${B(M)} - ${B(V)}`;return u.jsx("option",{value:z,children:z},M)})]}),b.time&&u.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:b.time})]})]}),u.jsx("button",{type:"submit",disabled:m,className:"w-full bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black py-4 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all uppercase tracking-widest text-xs mt-3 border-2 border-white/20 rounded-lg",children:m?"Confirming...":"Book a Slot"})]})]})})})]})},jh=({onRestart:e,userName:t})=>u.jsxs("div",{className:"relative w-full min-h-[100dvh] flex flex-col overflow-hidden max-w-[600px] mx-auto text-sans",style:{background:"linear-gradient(180deg, #00509E 0%, #003366 100%)"},children:[u.jsx(Co,{}),u.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none bg-cover bg-center opacity-60 mix-blend-overlay",style:{backgroundImage:"linear-gradient(radial-gradient, circle at center, rgba(255,255,255,0.2) 0%, transparent 70%)"}}),u.jsx("div",{className:"relative z-50 w-full h-full flex flex-col py-8 px-4 sm:px-8 overflow-y-auto custom-scrollbar justify-center items-center",children:u.jsxs(j.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:20},className:"flex flex-col items-center justify-center w-full text-center",children:[u.jsxs(j.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-4xl sm:text-6xl md:text-7xl font-black text-white italic tracking-tight drop-shadow-xl mb-6 leading-tight uppercase",children:["Thank You ",t]}),u.jsx(j.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-base sm:text-xl md:text-2xl text-blue-100 font-bold drop-shadow-md mb-2 uppercase tracking-wide",children:"For sharing your details"}),u.jsx(j.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-sm sm:text-lg md:text-xl text-white/90 font-medium drop-shadow-md mb-12 uppercase tracking-wide",children:"Our Relationship Manager will connect with you"}),u.jsx(j.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},onClick:e,className:"bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black text-sm py-3 px-8 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all uppercase tracking-widest border-2 border-white/20 rounded-full",children:"RETAKE"})]})})]}),Nh=p.memo(function(){return u.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none bg-cinematic",children:[u.jsx("div",{className:"absolute inset-0 grid-texture opacity-20"}),u.jsx(j.div,{animate:{scale:[1,1.2,1],opacity:[.15,.25,.15],rotate:[0,45,0]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-[-10%] left-[20%] w-[500px] h-[500px] bg-blue-600/10 blur-[120px] rounded-full"}),u.jsx(j.div,{animate:{scale:[1,1.3,1],opacity:[.1,.2,.1],rotate:[0,-30,0]},transition:{duration:20,repeat:1/0,ease:"linear",delay:2},className:"absolute bottom-[-10%] right-[10%] w-[400px] h-[400px] bg-teal-500/10 blur-[100px] rounded-full"}),[...Array(12)].map((t,n)=>u.jsx(j.div,{initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,opacity:0},animate:{y:[null,Math.random()*-100],opacity:[0,.3,0]},transition:{duration:5+Math.random()*5,repeat:1/0,delay:Math.random()*5},className:"absolute w-1 h-1 bg-white rounded-full blur-[1px]"},n))]})}),N={SET_ENTRY:"SET_ENTRY",SHOW_HOW_TO_PLAY:"SHOW_HOW_TO_PLAY",START_GAME:"START_GAME",TICK:"TICK",FINISH_GAME:"FINISH_GAME",SHOW_RESULT:"SHOW_RESULT",SHOW_THANK_YOU:"SHOW_THANK_YOU",EXIT_GAME:"EXIT_GAME",RESTART_GAME:"RESTART_GAME",SELECT_CELL:"SELECT_CELL",DESELECT:"DESELECT",SET_PROCESSING:"SET_PROCESSING",APPLY_MATCH:"APPLY_MATCH",APPLY_INVALID_SWAP:"APPLY_INVALID_SWAP",SET_GRID:"SET_GRID",CLEAR_EXPLOSIONS:"CLEAR_EXPLOSIONS",ADD_FLOAT:"ADD_FLOAT",REMOVE_FLOAT:"REMOVE_FLOAT",SHOW_PRAISE:"SHOW_PRAISE",HIDE_PRAISE:"HIDE_PRAISE"},jo={entryDetails:null,gameStatus:R.LANDING,timeLeft:120,grid:null,selectedCell:null,explodingCells:new Set,floatingScores:[],isProcessing:!1,buckets:{GREEN:0,BLUE:0,YELLOW:0,RED:0},totalMatches:0,maxCombo:0,activeCombo:0,activePraise:null};function Mh(e,t,n){const s={...e};return s[t]!==void 0&&(s[t]=yh(s[t]+n,0,Te)),s}function Rh(e,t){switch(t.type){case N.SET_ENTRY:return{...e,entryDetails:t.payload};case N.SHOW_HOW_TO_PLAY:return{...e,gameStatus:R.HOW_TO_PLAY};case N.START_GAME:{const n=Sh({tileTypes:Ke,maxMoves:999});return{...e,grid:n.initialGrid,buckets:{GREEN:0,BLUE:0,YELLOW:0,RED:0},timeLeft:120,totalMatches:0,maxCombo:0,activeCombo:0,selectedCell:null,explodingCells:new Set,floatingScores:[],activePraise:null,isProcessing:!1,gameStatus:R.PLAYING}}case N.TICK:{const n=Math.max(0,e.timeLeft-1);return n<=0?{...e,timeLeft:0,gameStatus:R.FINISHED,isProcessing:!1}:{...e,timeLeft:n}}case N.FINISH_GAME:return{...e,gameStatus:R.FINISHED,isProcessing:!1};case N.SHOW_RESULT:return{...e,gameStatus:R.RESULT};case N.SHOW_THANK_YOU:return{...e,gameStatus:R.THANK_YOU};case N.EXIT_GAME:return{...e,gameStatus:R.EXITED,isProcessing:!1};case N.RESTART_GAME:return{...jo,entryDetails:e.entryDetails,gameStatus:e.entryDetails?R.HOW_TO_PLAY:R.LANDING};case N.SELECT_CELL:return{...e,selectedCell:t.payload};case N.DESELECT:return{...e,selectedCell:null};case N.SET_PROCESSING:return{...e,isProcessing:t.payload};case N.APPLY_MATCH:{const{matchedTypes:n,matchLen:s,comboStep:i,explodingCells:r,newGrid:o}=t.payload;let a=ie.match3;s>=5?a=ie.match5:s>=4&&(a=ie.match4);const c=(i>1?ie.comboBonus:0)+(i>2?ie.cascadeBonus:0);let l={...e.buckets};for(const d of n)l=Mh(l,d,a+c);return{...e,grid:o,buckets:l,totalMatches:e.totalMatches+1,activeCombo:i,maxCombo:Math.max(e.maxCombo,i),explodingCells:new Set(r),selectedCell:null}}case N.APPLY_INVALID_SWAP:return{...e,selectedCell:null,isProcessing:!1};case N.SET_GRID:return{...e,grid:t.payload};case N.CLEAR_EXPLOSIONS:return{...e,explodingCells:new Set,isProcessing:!1};case N.ADD_FLOAT:return{...e,floatingScores:[...e.floatingScores,t.payload]};case N.REMOVE_FLOAT:return{...e,floatingScores:e.floatingScores.filter(n=>n.id!==t.payload)};case N.SHOW_PRAISE:return{...e,activePraise:t.payload};case N.HIDE_PRAISE:return{...e,activePraise:null};default:return e}}const Dh=""+new URL("swapping-DRinjgpx.wav",import.meta.url).href,Lh=""+new URL("burst_audio-BjgPWseQ.wav",import.meta.url).href;let Vh=0;function Ih(){return`f-${++Vh}`}const No={swap:new Audio(Dh),burst:new Audio(Lh)};Object.values(No).forEach(e=>{e.volume=.6,e.preload="auto"});const Pi=e=>{if(e==="swap"||e==="burst"){const t=No[e];if(t){const n=t.cloneNode();n.volume=.6,n.play().catch(()=>{})}}};function Bh(){const[e,t]=p.useReducer(Rh,jo),n=p.useRef(null),s=p.useRef(!1),i=p.useRef(null),r=p.useRef(null);p.useEffect(()=>{const w=()=>{const y=window.speechSynthesis.getVoices();if(y.length>0){const S=y.find(E=>E.name.includes("Zira")||E.name.includes("Samantha")||E.name.includes("Google US English")||E.name.includes("Female"));S&&(r.current=S)}};return w(),typeof window<"u"&&window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=w),()=>{typeof window<"u"&&window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=null)}},[]);const o=p.useCallback(w=>{if(!window.speechSynthesis)return;window.speechSynthesis.cancel();const y=new SpeechSynthesisUtterance(w);if(y.rate=1.1,y.pitch=1.2,y.volume=1,r.current)y.voice=r.current;else{const E=window.speechSynthesis.getVoices().find(A=>A.name.includes("Zira")||A.name.includes("Samantha")||A.name.includes("Google US English")||A.name.includes("Female"));E&&(y.voice=E)}window.speechSynthesis.speak(y)},[]);p.useEffect(()=>(e.gameStatus===R.PLAYING&&(n.current=setInterval(()=>{t({type:N.TICK})},1e3)),()=>{n.current&&clearInterval(n.current)}),[e.gameStatus]),p.useEffect(()=>{e.gameStatus===R.PLAYING&&gh(e.buckets)&&t({type:N.FINISH_GAME})},[e.gameStatus,e.buckets]),p.useEffect(()=>{const{gameStatus:w}=e;if(w===R.FINISHED){n.current&&clearInterval(n.current);const y=setTimeout(()=>{t({type:N.SHOW_RESULT})},1500);return()=>clearTimeout(y)}if(w===R.EXITED){if(n.current&&clearInterval(n.current),!s.current&&e.entryDetails){s.current=!0;const S=Ti(e.buckets);Ht({name:e.entryDetails.name,mobile_no:e.entryDetails.mobile,summary_dtls:`Balance Builder - Early Exit - Score: ${S}/100`,p_data_source:"BALANCE_BUILDER_LEAD"})}const y=setTimeout(()=>{t({type:N.SHOW_RESULT})},800);return()=>clearTimeout(y)}},[e.gameStatus]),p.useEffect(()=>()=>{n.current&&clearInterval(n.current),i.current&&clearTimeout(i.current)},[]);const a=p.useCallback(async(w,y)=>{t({type:N.SET_ENTRY,payload:{name:w,mobile:y}}),s.current=!1;const S=new Date;S.setDate(S.getDate()+1);const E=S.toISOString().split("T")[0];await Ht({name:w.trim(),mobile_no:y,param4:E,param19:"09:00 AM",summary_dtls:"Balance Builder Lead",p_data_source:"BALANCE_BUILDER_LEAD"}),t({type:N.SHOW_HOW_TO_PLAY})},[]),c=p.useCallback(()=>{t({type:N.START_GAME})},[]),l=p.useCallback((w,y)=>{if(e.isProcessing||e.gameStatus!==R.PLAYING)return;const{selectedCell:S,grid:E}=e;if(!S){t({type:N.SELECT_CELL,payload:{row:w,col:y}});return}if(S.row===w&&S.col===y){t({type:N.DESELECT});return}const{row:A,col:k}=S,x=w,P=y;if(!(Math.abs(A-x)===1&&k===P||Math.abs(k-P)===1&&A===x)){t({type:N.SELECT_CELL,payload:{row:w,col:y}});return}if(!bt(E,A,k,x,P)){t({type:N.APPLY_INVALID_SWAP});return}Pi("swap"),t({type:N.SET_PROCESSING,payload:!0});const B=E.map(ae=>ae.map(de=>({...de}))),z={...B[A][k]},K={...B[x][P]};B[A][k]={...K,row:A,col:k},B[x][P]={...z,row:x,col:P},d(B)},[e.isProcessing,e.gameStatus,e.selectedCell,e.grid]),d=p.useCallback(async w=>{let y=w,S=0,E=0;for(;;){const A=Et(y);if(A.size===0)break;S++;const k=A.size,x=[...Eo(y,A)];let P=ie.match3;k>=5?P=ie.match5:k>=4&&(P=ie.match4);const M=(S>1?ie.comboBonus:0)+(S>2?ie.cascadeBonus:0);E+=P+M,Pi("burst"),t({type:N.APPLY_MATCH,payload:{matchedTypes:x,matchLen:k,comboStep:S,explodingCells:[...A],newGrid:y}}),f(`+${P+M}`,x[0]);const V=To(y,A),B=vo(V);y=wo(B,Ke,0),await new Promise(z=>setTimeout(z,450))}t({type:N.SET_GRID,payload:y}),t({type:N.CLEAR_EXPLOSIONS}),(S>=2||E>=25)&&(await new Promise(A=>setTimeout(A,100)),h())},[]),h=p.useCallback(()=>{const w=wi[Math.floor(Math.random()*wi.length)];o(w),t({type:N.SHOW_PRAISE,payload:w}),i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{t({type:N.HIDE_PRAISE})},1500)},[]),f=p.useCallback((w,y)=>{const S=Ih();t({type:N.ADD_FLOAT,payload:{id:S,value:w,x:40+Math.random()*20,y:40+Math.random()*20}}),setTimeout(()=>{t({type:N.REMOVE_FLOAT,payload:S})},800)},[]),m=p.useCallback(()=>{t({type:N.EXIT_GAME})},[]),g=p.useCallback(()=>{s.current=!1,t({type:N.RESTART_GAME})},[]),b=p.useCallback(()=>{t({type:N.SHOW_THANK_YOU})},[]),T=p.useCallback(async w=>{try{await Ht({name:w.name,mobile_no:w.mobile,param4:w.date,param19:w.time,summary_dtls:"Balance Builder - Slot Booking",p_data_source:"BALANCE_BUILDER_BOOKING"})}catch(y){console.error("Booking failed",y)}finally{t({type:N.SHOW_THANK_YOU})}},[]),v=Ti(e.buckets);return{state:e,finalScore:v,handleEntrySubmit:a,startGame:c,handleCellTap:l,exitGame:m,restartGame:g,showThankYou:b,handleBookSlot:T}}const _h=""+new URL("BGAudio-DrFe27ij.mp3",import.meta.url).href,Fh=""+new URL("Completion_audio-DEG-zs0A.wav",import.meta.url).href,Ee={initial:{opacity:0,y:12},animate:{opacity:1,y:0,transition:{duration:.35}},exit:{opacity:0,y:-12,transition:{duration:.2}}},Gh=p.memo(function(){const{state:t,finalScore:n,handleEntrySubmit:s,startGame:i,handleCellTap:r,exitGame:o,restartGame:a,handleBookSlot:c}=Bh(),{gameStatus:l,timeLeft:d,grid:h,selectedCell:f,explodingCells:m,floatingScores:g,activePraise:b,buckets:T,entryDetails:v}=t,[w,y]=p.useState(!1),S=p.useRef(null),E=p.useRef(null),[A,k]=p.useState(!1);p.useEffect(()=>{(async()=>{if(S.current)try{S.current.volume=.4,await S.current.play(),k(!0)}catch{}})()},[]),p.useEffect(()=>{(l===R.RESULT||l===R.EXITED)&&(S.current&&(S.current.pause(),S.current.currentTime=0,k(!1)),E.current&&(E.current.volume=.8,E.current.currentTime=0,E.current.play().catch(()=>{}))),(l===R.LANDING||l===R.ENTRY||l===R.PLAYING)&&(E.current&&(E.current.pause(),E.current.currentTime=0),!A&&S.current&&S.current.play().then(()=>k(!0)).catch(()=>{}))},[l]);const x=p.useCallback(()=>{!A&&S.current&&l!==R.RESULT&&l!==R.EXITED&&S.current.play().then(()=>k(!0)).catch(()=>{})},[A,l]),P=p.useCallback(()=>{x(),y(!0)},[x]),M=p.useCallback(()=>{y(!1)},[]),V=p.useCallback(async(B,z)=>{x(),await s(B,z),y(!1)},[s,x]);return u.jsxs("div",{className:"min-h-[100dvh] w-full flex flex-col items-center relative overflow-hidden text-white font-sans",onClick:x,children:[u.jsx(Nh,{}),u.jsx("audio",{ref:S,src:_h,loop:!0}),u.jsx("audio",{ref:E,src:Fh}),u.jsxs(ue,{mode:"wait",children:[l===R.LANDING&&u.jsxs(j.div,{variants:Ee,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full relative z-10",children:[u.jsx(xn,{onStart:P}),u.jsx(ue,{children:w&&u.jsx(po,{onSubmit:V,onClose:M})})]},"landing"),l===R.ENTRY&&u.jsx(j.div,{variants:Ee,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full relative z-10",children:u.jsx(xn,{onStart:()=>{}})},"entry-transition"),l===R.HOW_TO_PLAY&&u.jsx(j.div,{variants:Ee,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full relative z-10",children:u.jsx(go,{onStart:i})},"htp"),l===R.PLAYING&&u.jsxs(j.div,{variants:Ee,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full flex flex-col items-center justify-between pb-4 relative z-10",children:[u.jsx(bo,{timeLeft:d,onExit:o}),u.jsx("div",{className:"flex-1 w-full flex flex-col items-center justify-center min-h-0",children:u.jsx(Po,{grid:h,selectedCell:f,explodingCells:m,floatingScores:g,activePraise:b,onCellTap:r})}),u.jsx(Ao,{buckets:T})]},"playing"),l===R.FINISHED&&u.jsx(j.div,{variants:Ee,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full flex items-center justify-center relative z-10",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-t-bb-gold border-white/10 rounded-full animate-spin"}),u.jsx(j.div,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-white/60 font-game text-xl tracking-wider uppercase",children:"Calculated..."})]})},"finished"),l===R.THANK_YOU&&u.jsx(j.div,{variants:Ee,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full relative z-10",children:u.jsx(jh,{userName:v==null?void 0:v.name,onRestart:a})},"thankyou")]}),(l===R.RESULT||l===R.EXITED)&&u.jsx("div",{className:"fixed inset-0 z-[1000] w-full h-full bg-[#003366]",children:u.jsx(Ch,{finalScore:n,buckets:T,userName:v==null?void 0:v.name,userPhone:v==null?void 0:v.mobile,onRestart:a,onBookSlot:c})})]})});export{Gh as default};
