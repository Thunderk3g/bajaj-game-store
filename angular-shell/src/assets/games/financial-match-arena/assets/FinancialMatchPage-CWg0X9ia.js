import{r as p,j as u}from"./index-f-O50vDL.js";function lo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const is=p.createContext({});function rs(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const pt=p.createContext(null),os=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class co extends p.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function uo({children:e,isPresent:t}){const s=p.useId(),n=p.useRef(null),i=p.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=p.useContext(os);return p.useInsertionEffect(()=>{const{width:o,height:a,top:c,left:l}=i.current;if(t||!n.current||!o||!a)return;n.current.dataset.motionPopId=s;const d=document.createElement("style");return r&&(d.nonce=r),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${c}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),u.jsx(co,{isPresent:t,childRef:n,sizeRef:i,children:p.cloneElement(e,{ref:n})})}const ho=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:r,mode:o})=>{const a=rs(fo),c=p.useId(),l=p.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;n&&n()},[a,n]),d=p.useMemo(()=>({id:c,initial:t,isPresent:s,custom:i,onExitComplete:l,register:h=>(a.set(h,!1),()=>a.delete(h))}),r?[Math.random(),l]:[s,l]);return p.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[s]),p.useEffect(()=>{!s&&!a.size&&n&&n()},[s]),o==="popLayout"&&(e=u.jsx(uo,{isPresent:s,children:e})),u.jsx(pt.Provider,{value:d,children:e})};function fo(){return new Map}function hi(e=!0){const t=p.useContext(pt);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=t,r=p.useId();p.useEffect(()=>{e&&i(r)},[e]);const o=p.useCallback(()=>e&&n&&n(r),[r,n,e]);return!s&&n?[!1,o]:[!0]}const Je=e=>e.key||"";function Is(e){const t=[];return p.Children.forEach(e,s=>{p.isValidElement(s)&&t.push(s)}),t}const as=typeof window<"u",fi=as?p.useLayoutEffect:p.useEffect,ie=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:r="sync",propagate:o=!1})=>{const[a,c]=hi(o),l=p.useMemo(()=>Is(e),[e]),d=o&&!a?[]:l.map(Je),h=p.useRef(!0),f=p.useRef(l),m=rs(()=>new Map),[y,g]=p.useState(l),[T,w]=p.useState(l);fi(()=>{h.current=!1,f.current=l;for(let P=0;P<T.length;P++){const S=Je(T[P]);d.includes(S)?m.delete(S):m.get(S)!==!0&&m.set(S,!1)}},[T,d.length,d.join("-")]);const v=[];if(l!==y){let P=[...l];for(let S=0;S<T.length;S++){const j=T[S],A=Je(j);d.includes(A)||(P.splice(S,0,j),v.push(j))}r==="wait"&&v.length&&(P=v),w(Is(P)),g(l);return}const{forceRender:b}=p.useContext(is);return u.jsx(u.Fragment,{children:T.map(P=>{const S=Je(P),j=o&&!a?!1:l===T||d.includes(S),A=()=>{if(m.has(S))m.set(S,!0);else return;let x=!0;m.forEach(E=>{E||(x=!1)}),x&&(b==null||b(),w(f.current),o&&(c==null||c()),n&&n())};return u.jsx(ho,{isPresent:j,initial:!h.current||s?void 0:!1,custom:j?void 0:t,presenceAffectsLayout:i,mode:r,onExitComplete:j?void 0:A,children:P},S)})})},K=e=>e;let mi=K;function ls(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ce=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},se=e=>e*1e3,ne=e=>e/1e3,mo={useManualTiming:!1};function po(e){let t=new Set,s=new Set,n=!1,i=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(l){r.has(l)&&(c.schedule(l),e()),l(o)}const c={schedule:(l,d=!1,h=!1)=>{const m=h&&n?t:s;return d&&r.add(l),m.has(l)||m.add(l),l},cancel:l=>{s.delete(l),r.delete(l)},process:l=>{if(o=l,n){i=!0;return}n=!0,[t,s]=[s,t],t.forEach(a),t.clear(),n=!1,i&&(i=!1,c.process(l))}};return c}const Qe=["read","resolveKeyframes","update","preRender","render","postRender"],go=40;function pi(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>s=!0,o=Qe.reduce((w,v)=>(w[v]=po(r),w),{}),{read:a,resolveKeyframes:c,update:l,preRender:d,render:h,postRender:f}=o,m=()=>{const w=performance.now();s=!1,i.delta=n?1e3/60:Math.max(Math.min(w-i.timestamp,go),1),i.timestamp=w,i.isProcessing=!0,a.process(i),c.process(i),l.process(i),d.process(i),h.process(i),f.process(i),i.isProcessing=!1,s&&t&&(n=!1,e(m))},y=()=>{s=!0,n=!0,i.isProcessing||e(m)};return{schedule:Qe.reduce((w,v)=>{const b=o[v];return w[v]=(P,S=!1,j=!1)=>(s||y(),b.schedule(P,S,j)),w},{}),cancel:w=>{for(let v=0;v<Qe.length;v++)o[Qe[v]].cancel(w)},state:i,steps:o}}const{schedule:D,cancel:le,state:U,steps:Tt}=pi(typeof requestAnimationFrame<"u"?requestAnimationFrame:K,!0),gi=p.createContext({strict:!1}),Fs={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ke={};for(const e in Fs)ke[e]={isEnabled:t=>Fs[e].some(s=>!!t[s])};function xo(e){for(const t in e)ke[t]={...ke[t],...e[t]}}const yo=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function at(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||yo.has(e)}let xi=e=>!at(e);function vo(e){e&&(xi=t=>t.startsWith("on")?!at(t):e(t))}try{vo(require("@emotion/is-prop-valid").default)}catch{}function bo(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(xi(i)||s===!0&&at(i)||!t&&!at(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function wo(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...n)=>e(...n);return new Proxy(s,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const gt=p.createContext({});function Ge(e){return typeof e=="string"||Array.isArray(e)}function xt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const cs=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],us=["initial",...cs];function yt(e){return xt(e.animate)||us.some(t=>Ge(e[t]))}function yi(e){return!!(yt(e)||e.variants)}function To(e,t){if(yt(e)){const{initial:s,animate:n}=e;return{initial:s===!1||Ge(s)?s:void 0,animate:Ge(n)?n:void 0}}return e.inherit!==!1?t:{}}function So(e){const{initial:t,animate:s}=To(e,p.useContext(gt));return p.useMemo(()=>({initial:t,animate:s}),[Os(t),Os(s)])}function Os(e){return Array.isArray(e)?e.join(" "):e}const Po=Symbol.for("motionComponentSymbol");function Se(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ao(e,t,s){return p.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Se(s)&&(s.current=n))},[t])}const ds=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jo="framerAppearId",vi="data-"+ds(jo),{schedule:hs}=pi(queueMicrotask,!1),bi=p.createContext({});function Eo(e,t,s,n,i){var r,o;const{visualElement:a}=p.useContext(gt),c=p.useContext(gi),l=p.useContext(pt),d=p.useContext(os).reducedMotion,h=p.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:a,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=p.useContext(bi);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Co(h.current,s,i,m);const y=p.useRef(!1);p.useInsertionEffect(()=>{f&&y.current&&f.update(s,l)});const g=s[vi],T=p.useRef(!!g&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return fi(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),hs.render(f.render),T.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!T.current&&f.animationState&&f.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,g)}),T.current=!1))}),f}function Co(e,t,s,n){const{layoutId:i,layout:r,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:l}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:wi(e.parent)),e.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!o||a&&Se(a),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:l})}function wi(e){if(e)return e.options.allowProjection!==!1?e.projection:wi(e.parent)}function ko({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:i}){var r,o;e&&xo(e);function a(l,d){let h;const f={...p.useContext(os),...l,layoutId:No(l)},{isStatic:m}=f,y=So(l),g=n(l,m);if(!m&&as){Ro();const T=Mo(f);h=T.MeasureLayout,y.visualElement=Eo(i,g,f,t,T.ProjectionNode)}return u.jsxs(gt.Provider,{value:y,children:[h&&y.visualElement?u.jsx(h,{visualElement:y.visualElement,...f}):null,s(i,l,Ao(g,y.visualElement,d),g,m,y.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(r=i.displayName)!==null&&r!==void 0?r:i.name)!==null&&o!==void 0?o:""})`}`;const c=p.forwardRef(a);return c[Po]=i,c}function No({layoutId:e}){const t=p.useContext(is).id;return t&&e!==void 0?t+"-"+e:e}function Ro(e,t){p.useContext(gi).strict}function Mo(e){const{drag:t,layout:s}=ke;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Do=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fs(e){return typeof e!="string"||e.includes("-")?!1:!!(Do.indexOf(e)>-1||/[A-Z]/u.test(e))}function Us(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function ms(e,t,s,n){if(typeof t=="function"){const[i,r]=Us(n);t=t(s!==void 0?s:e.custom,i,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,r]=Us(n);t=t(s!==void 0?s:e.custom,i,r)}return t}const Ft=e=>Array.isArray(e),Lo=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Vo=e=>Ft(e)?e[e.length-1]||0:e,W=e=>!!(e&&e.getVelocity);function st(e){const t=W(e)?e.get():e;return Lo(t)?t.toValue():t}function _o({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},n,i,r){const o={latestValues:Bo(n,i,r,e),renderState:t()};return s&&(o.onMount=a=>s({props:n,current:a,...o}),o.onUpdate=a=>s(a)),o}const Ti=e=>(t,s)=>{const n=p.useContext(gt),i=p.useContext(pt),r=()=>_o(e,t,n,i);return s?r():rs(r)};function Bo(e,t,s,n){const i={},r=n(e,{});for(const f in r)i[f]=st(r[f]);let{initial:o,animate:a}=e;const c=yt(e),l=yi(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=s?s.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!xt(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const y=ms(e,f[m]);if(y){const{transitionEnd:g,transition:T,...w}=y;for(const v in w){let b=w[v];if(Array.isArray(b)){const P=d?b.length-1:0;b=b[P]}b!==null&&(i[v]=b)}for(const v in g)i[v]=g[v]}}}return i}const Re=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ve=new Set(Re),Si=e=>t=>typeof t=="string"&&t.startsWith(e),Pi=Si("--"),Io=Si("var(--"),ps=e=>Io(e)?Fo.test(e.split("/*")[0].trim()):!1,Fo=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ai=(e,t)=>t&&typeof e=="number"?t.transform(e):e,re=(e,t,s)=>s>t?t:s<e?e:s,Me={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},We={...Me,transform:e=>re(0,1,e)},et={...Me,default:1},Ye=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ae=Ye("deg"),ee=Ye("%"),C=Ye("px"),Oo=Ye("vh"),Uo=Ye("vw"),Gs={...ee,parse:e=>ee.parse(e)/100,transform:e=>ee.transform(e*100)},Go={borderWidth:C,borderTopWidth:C,borderRightWidth:C,borderBottomWidth:C,borderLeftWidth:C,borderRadius:C,radius:C,borderTopLeftRadius:C,borderTopRightRadius:C,borderBottomRightRadius:C,borderBottomLeftRadius:C,width:C,maxWidth:C,height:C,maxHeight:C,top:C,right:C,bottom:C,left:C,padding:C,paddingTop:C,paddingRight:C,paddingBottom:C,paddingLeft:C,margin:C,marginTop:C,marginRight:C,marginBottom:C,marginLeft:C,backgroundPositionX:C,backgroundPositionY:C},Wo={rotate:ae,rotateX:ae,rotateY:ae,rotateZ:ae,scale:et,scaleX:et,scaleY:et,scaleZ:et,skew:ae,skewX:ae,skewY:ae,distance:C,translateX:C,translateY:C,translateZ:C,x:C,y:C,z:C,perspective:C,transformPerspective:C,opacity:We,originX:Gs,originY:Gs,originZ:C},Ws={...Me,transform:Math.round},gs={...Go,...Wo,zIndex:Ws,size:C,fillOpacity:We,strokeOpacity:We,numOctaves:Ws},zo={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$o=Re.length;function Ho(e,t,s){let n="",i=!0;for(let r=0;r<$o;r++){const o=Re[r],a=e[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||s){const l=Ai(a,gs[o]);if(!c){i=!1;const d=zo[o]||o;n+=`${d}(${l}) `}s&&(t[o]=l)}}return n=n.trim(),s?n=s(t,i?"":n):i&&(n="none"),n}function xs(e,t,s){const{style:n,vars:i,transformOrigin:r}=e;let o=!1,a=!1;for(const c in t){const l=t[c];if(ve.has(c)){o=!0;continue}else if(Pi(c)){i[c]=l;continue}else{const d=Ai(l,gs[c]);c.startsWith("origin")?(a=!0,r[c]=d):n[c]=d}}if(t.transform||(o||s?n.transform=Ho(t,e.transform,s):n.transform&&(n.transform="none")),a){const{originX:c="50%",originY:l="50%",originZ:d=0}=r;n.transformOrigin=`${c} ${l} ${d}`}}const Ko={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yo={offset:"strokeDashoffset",array:"strokeDasharray"};function qo(e,t,s=1,n=0,i=!0){e.pathLength=1;const r=i?Ko:Yo;e[r.offset]=C.transform(-n);const o=C.transform(t),a=C.transform(s);e[r.array]=`${o} ${a}`}function zs(e,t,s){return typeof e=="string"?e:C.transform(t+s*e)}function Xo(e,t,s){const n=zs(t,e.x,e.width),i=zs(s,e.y,e.height);return`${n} ${i}`}function ys(e,{attrX:t,attrY:s,attrScale:n,originX:i,originY:r,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...l},d,h){if(xs(e,l,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:y}=e;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(i!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=Xo(y,i!==void 0?i:.5,r!==void 0?r:.5)),t!==void 0&&(f.x=t),s!==void 0&&(f.y=s),n!==void 0&&(f.scale=n),o!==void 0&&qo(f,o,a,c,!1)}const vs=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ji=()=>({...vs(),attrs:{}}),bs=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ei(e,{style:t,vars:s},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const r in s)e.style.setProperty(r,s[r])}const Ci=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ki(e,t,s,n){Ei(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(Ci.has(i)?i:ds(i),t.attrs[i])}const lt={};function Zo(e){Object.assign(lt,e)}function Ni(e,{layout:t,layoutId:s}){return ve.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!lt[e]||e==="opacity")}function ws(e,t,s){var n;const{style:i}=e,r={};for(const o in i)(W(i[o])||t.style&&W(t.style[o])||Ni(o,e)||((n=s==null?void 0:s.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(r[o]=i[o]);return r}function Ri(e,t,s){const n=ws(e,t,s);for(const i in e)if(W(e[i])||W(t[i])){const r=Re.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[r]=e[i]}return n}function Jo(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const $s=["x","y","width","height","cx","cy","r"],Qo={useVisualState:Ti({scrapeMotionValuesFromProps:Ri,createRenderState:ji,onUpdate:({props:e,prevProps:t,current:s,renderState:n,latestValues:i})=>{if(!s)return;let r=!!e.drag;if(!r){for(const a in i)if(ve.has(a)){r=!0;break}}if(!r)return;let o=!t;if(t)for(let a=0;a<$s.length;a++){const c=$s[a];e[c]!==t[c]&&(o=!0)}o&&D.read(()=>{Jo(s,n),D.render(()=>{ys(n,i,bs(s.tagName),e.transformTemplate),ki(s,n)})})}})},ea={useVisualState:Ti({scrapeMotionValuesFromProps:ws,createRenderState:vs})};function Mi(e,t,s){for(const n in t)!W(t[n])&&!Ni(n,s)&&(e[n]=t[n])}function ta({transformTemplate:e},t){return p.useMemo(()=>{const s=vs();return xs(s,t,e),Object.assign({},s.vars,s.style)},[t])}function sa(e,t){const s=e.style||{},n={};return Mi(n,s,e),Object.assign(n,ta(e,t)),n}function na(e,t){const s={},n=sa(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}function ia(e,t,s,n){const i=p.useMemo(()=>{const r=ji();return ys(r,t,bs(n),e.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};Mi(r,e.style,e),i.style={...r,...i.style}}return i}function ra(e=!1){return(s,n,i,{latestValues:r},o)=>{const c=(fs(s)?ia:na)(n,r,o,s),l=bo(n,typeof s=="string",e),d=s!==p.Fragment?{...l,...c,ref:i}:{},{children:h}=n,f=p.useMemo(()=>W(h)?h.get():h,[h]);return p.createElement(s,{...d,children:f})}}function oa(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...fs(n)?Qo:ea,preloadedFeatures:e,useRender:ra(i),createVisualElement:t,Component:n};return ko(o)}}function Di(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function vt(e,t,s){const n=e.getProps();return ms(n,t,s!==void 0?s:n.custom,e)}const aa=ls(()=>window.ScrollTimeline!==void 0);class la{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=s}attachTimeline(t,s){const n=this.animations.map(i=>{if(aa()&&i.attachTimeline)return i.attachTimeline(t);if(typeof s=="function")return s(i)});return()=>{n.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ca extends la{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function Ts(e,t){return e?e[t]||e.default||e:void 0}const Ot=2e4;function Li(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<Ot;)t+=s,n=e.next(t);return t>=Ot?1/0:t}function Ss(e){return typeof e=="function"}function Hs(e,t){e.timeline=t,e.onfinish=null}const Ps=e=>Array.isArray(e)&&typeof e[0]=="number",ua={linearEasing:void 0};function da(e,t){const s=ls(e);return()=>{var n;return(n=ua[t])!==null&&n!==void 0?n:s()}}const ct=da(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vi=(e,t,s=10)=>{let n="";const i=Math.max(Math.round(t/s),2);for(let r=0;r<i;r++)n+=e(Ce(0,i-1,r))+", ";return`linear(${n.substring(0,n.length-2)})`};function _i(e){return!!(typeof e=="function"&&ct()||!e||typeof e=="string"&&(e in Ut||ct())||Ps(e)||Array.isArray(e)&&e.every(_i))}const Le=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Ut={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Le([0,.65,.55,1]),circOut:Le([.55,0,1,.45]),backIn:Le([.31,.01,.66,-.59]),backOut:Le([.33,1.53,.69,.99])};function Bi(e,t){if(e)return typeof e=="function"&&ct()?Vi(e,t):Ps(e)?Le(e):Array.isArray(e)?e.map(s=>Bi(s,t)||Ut.easeOut):Ut[e]}const J={x:!1,y:!1};function Ii(){return J.x||J.y}function ha(e,t,s){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const r=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}function Fi(e,t){const s=ha(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[s,i,()=>n.abort()]}function Ks(e){return t=>{t.pointerType==="touch"||Ii()||e(t)}}function fa(e,t,s={}){const[n,i,r]=Fi(e,s),o=Ks(a=>{const{target:c}=a,l=t(a);if(typeof l!="function"||!c)return;const d=Ks(h=>{l(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return n.forEach(a=>{a.addEventListener("pointerenter",o,i)}),r}const Oi=(e,t)=>t?e===t?!0:Oi(e,t.parentElement):!1,As=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ma=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pa(e){return ma.has(e.tagName)||e.tabIndex!==-1}const Ve=new WeakSet;function Ys(e){return t=>{t.key==="Enter"&&e(t)}}function St(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ga=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=Ys(()=>{if(Ve.has(s))return;St(s,"down");const i=Ys(()=>{St(s,"up")}),r=()=>St(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",r,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function qs(e){return As(e)&&!Ii()}function xa(e,t,s={}){const[n,i,r]=Fi(e,s),o=a=>{const c=a.currentTarget;if(!qs(a)||Ve.has(c))return;Ve.add(c);const l=t(a),d=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!qs(m)||!Ve.has(c))&&(Ve.delete(c),typeof l=="function"&&l(m,{success:y}))},h=m=>{d(m,s.useGlobalTarget||Oi(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return n.forEach(a=>{!pa(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(s.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",l=>ga(l,i),i)}),r}function ya(e){return e==="x"||e==="y"?J[e]?null:(J[e]=!0,()=>{J[e]=!1}):J.x||J.y?null:(J.x=J.y=!0,()=>{J.x=J.y=!1})}const Ui=new Set(["width","height","top","left","right","bottom",...Re]);let nt;function va(){nt=void 0}const te={now:()=>(nt===void 0&&te.set(U.isProcessing||mo.useManualTiming?U.timestamp:performance.now()),nt),set:e=>{nt=e,queueMicrotask(va)}};function js(e,t){e.indexOf(t)===-1&&e.push(t)}function Es(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Cs{constructor(){this.subscriptions=[]}add(t){return js(this.subscriptions,t),()=>Es(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Gi(e,t){return t?e*(1e3/t):0}const Xs=30,ba=e=>!isNaN(parseFloat(e));class wa{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const r=te.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=te.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ba(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Cs);const n=this.events[t].add(s);return t==="change"?()=>{n(),D.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=te.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Xs)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Xs);return Gi(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ze(e,t){return new wa(e,t)}function Ta(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,ze(s))}function Sa(e,t){const s=vt(e,t);let{transitionEnd:n={},transition:i={},...r}=s||{};r={...r,...n};for(const o in r){const a=Vo(r[o]);Ta(e,o,a)}}function Pa(e){return!!(W(e)&&e.add)}function Gt(e,t){const s=e.getValue("willChange");if(Pa(s))return s.add(t)}function Wi(e){return e.props[vi]}const zi=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Aa=1e-7,ja=12;function Ea(e,t,s,n,i){let r,o,a=0;do o=t+(s-t)/2,r=zi(o,n,i)-e,r>0?s=o:t=o;while(Math.abs(r)>Aa&&++a<ja);return o}function qe(e,t,s,n){if(e===t&&s===n)return K;const i=r=>Ea(r,0,1,e,s);return r=>r===0||r===1?r:zi(i(r),t,n)}const $i=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Hi=e=>t=>1-e(1-t),Ki=qe(.33,1.53,.69,.99),ks=Hi(Ki),Yi=$i(ks),qi=e=>(e*=2)<1?.5*ks(e):.5*(2-Math.pow(2,-10*(e-1))),Ns=e=>1-Math.sin(Math.acos(e)),Xi=Hi(Ns),Zi=$i(Ns),Ji=e=>/^0[^.\s]+$/u.test(e);function Ca(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ji(e):!0}const Be=e=>Math.round(e*1e5)/1e5,Rs=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ka(e){return e==null}const Na=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ms=(e,t)=>s=>!!(typeof s=="string"&&Na.test(s)&&s.startsWith(e)||t&&!ka(s)&&Object.prototype.hasOwnProperty.call(s,t)),Qi=(e,t,s)=>n=>{if(typeof n!="string")return n;const[i,r,o,a]=n.match(Rs);return{[e]:parseFloat(i),[t]:parseFloat(r),[s]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Ra=e=>re(0,255,e),Pt={...Me,transform:e=>Math.round(Ra(e))},ge={test:Ms("rgb","red"),parse:Qi("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Pt.transform(e)+", "+Pt.transform(t)+", "+Pt.transform(s)+", "+Be(We.transform(n))+")"};function Ma(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Wt={test:Ms("#"),parse:Ma,transform:ge.transform},Pe={test:Ms("hsl","hue"),parse:Qi("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+ee.transform(Be(t))+", "+ee.transform(Be(s))+", "+Be(We.transform(n))+")"},G={test:e=>ge.test(e)||Wt.test(e)||Pe.test(e),parse:e=>ge.test(e)?ge.parse(e):Pe.test(e)?Pe.parse(e):Wt.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ge.transform(e):Pe.transform(e)},Da=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function La(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Rs))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(Da))===null||s===void 0?void 0:s.length)||0)>0}const er="number",tr="color",Va="var",_a="var(",Zs="${}",Ba=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $e(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},i=[];let r=0;const a=t.replace(Ba,c=>(G.test(c)?(n.color.push(r),i.push(tr),s.push(G.parse(c))):c.startsWith(_a)?(n.var.push(r),i.push(Va),s.push(c)):(n.number.push(r),i.push(er),s.push(parseFloat(c))),++r,Zs)).split(Zs);return{values:s,split:a,indexes:n,types:i}}function sr(e){return $e(e).values}function nr(e){const{split:t,types:s}=$e(e),n=t.length;return i=>{let r="";for(let o=0;o<n;o++)if(r+=t[o],i[o]!==void 0){const a=s[o];a===er?r+=Be(i[o]):a===tr?r+=G.transform(i[o]):r+=i[o]}return r}}const Ia=e=>typeof e=="number"?0:e;function Fa(e){const t=sr(e);return nr(e)(t.map(Ia))}const ce={test:La,parse:sr,createTransformer:nr,getAnimatableNone:Fa},Oa=new Set(["brightness","contrast","saturate","opacity"]);function Ua(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Rs)||[];if(!n)return e;const i=s.replace(n,"");let r=Oa.has(t)?1:0;return n!==s&&(r*=100),t+"("+r+i+")"}const Ga=/\b([a-z-]*)\(.*?\)/gu,zt={...ce,getAnimatableNone:e=>{const t=e.match(Ga);return t?t.map(Ua).join(" "):e}},Wa={...gs,color:G,backgroundColor:G,outlineColor:G,fill:G,stroke:G,borderColor:G,borderTopColor:G,borderRightColor:G,borderBottomColor:G,borderLeftColor:G,filter:zt,WebkitFilter:zt},Ds=e=>Wa[e];function ir(e,t){let s=Ds(e);return s!==zt&&(s=ce),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const za=new Set(["auto","none","0"]);function $a(e,t,s){let n=0,i;for(;n<e.length&&!i;){const r=e[n];typeof r=="string"&&!za.has(r)&&$e(r).values.length&&(i=e[n]),n++}if(i&&s)for(const r of t)e[r]=ir(s,i)}const Js=e=>e===Me||e===C,Qs=(e,t)=>parseFloat(e.split(", ")[t]),en=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return Qs(i[1],t);{const r=n.match(/^matrix\((.+)\)$/u);return r?Qs(r[1],e):0}},Ha=new Set(["x","y","z"]),Ka=Re.filter(e=>!Ha.has(e));function Ya(e){const t=[];return Ka.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const Ne={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:en(4,13),y:en(5,14)};Ne.translateX=Ne.x;Ne.translateY=Ne.y;const xe=new Set;let $t=!1,Ht=!1;function rr(){if(Ht){const e=Array.from(xe).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const i=Ya(n);i.length&&(s.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([r,o])=>{var a;(a=n.getValue(r))===null||a===void 0||a.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Ht=!1,$t=!1,xe.forEach(e=>e.complete()),xe.clear()}function or(){xe.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ht=!0)})}function qa(){or(),rr()}class Ls{constructor(t,s,n,i,r,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xe.add(this),$t||($t=!0,D.read(or),D.resolveKeyframes(rr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:i}=this;for(let r=0;r<t.length;r++)if(t[r]===null)if(r===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&s){const c=n.readValue(s,a);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[r]=t[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xe.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xe.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ar=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Xa=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Za(e){const t=Xa.exec(e);if(!t)return[,];const[,s,n,i]=t;return[`--${s??n}`,i]}function lr(e,t,s=1){const[n,i]=Za(e);if(!n)return;const r=window.getComputedStyle(t).getPropertyValue(n);if(r){const o=r.trim();return ar(o)?parseFloat(o):o}return ps(i)?lr(i,t,s+1):i}const cr=e=>t=>t.test(e),Ja={test:e=>e==="auto",parse:e=>e},ur=[Me,C,ee,ae,Uo,Oo,Ja],tn=e=>ur.find(cr(e));class dr extends Ls{constructor(t,s,n,i,r){super(t,s,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let l=t[c];if(typeof l=="string"&&(l=l.trim(),ps(l))){const d=lr(l,s.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!Ui.has(n)||t.length!==2)return;const[i,r]=t,o=tn(i),a=tn(r);if(o!==a)if(Js(o)&&Js(a))for(let c=0;c<t.length;c++){const l=t[c];typeof l=="string"&&(t[c]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let i=0;i<t.length;i++)Ca(t[i])&&n.push(i);n.length&&$a(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ne[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:s,name:n,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const r=s.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Ne[n](s.measureViewportBox(),window.getComputedStyle(s.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,l])=>{s.getValue(c).set(l)}),this.resolveNoneKeyframes()}}const sn=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ce.test(e)||e==="0")&&!e.startsWith("url("));function Qa(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function el(e,t,s,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],o=sn(i,t),a=sn(r,t);return!o||!a?!1:Qa(e)||(s==="spring"||Ss(s))&&n}const tl=e=>e!==null;function bt(e,{repeat:t,repeatType:s="loop"},n){const i=e.filter(tl),r=t&&s!=="loop"&&t%2===1?0:i.length-1;return!r||n===void 0?i[r]:n}const sl=40;class hr{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=te.now(),this.options={autoplay:t,delay:s,type:n,repeat:i,repeatDelay:r,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>sl?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&qa(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=te.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:r,delay:o,onComplete:a,onUpdate:c,isGenerator:l}=this.options;if(!l&&!el(t,n,i,r))if(o)this.options.duration=0;else{c&&c(bt(t,this.options,s)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,s);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...d},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const L=(e,t,s)=>e+(t-e)*s;function At(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function nl({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,r=0,o=0;if(!t)i=r=o=s;else{const a=s<.5?s*(1+t):s+t-s*t,c=2*s-a;i=At(c,a,e+1/3),r=At(c,a,e),o=At(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:n}}function ut(e,t){return s=>s>0?t:e}const jt=(e,t,s)=>{const n=e*e,i=s*(t*t-n)+n;return i<0?0:Math.sqrt(i)},il=[Wt,ge,Pe],rl=e=>il.find(t=>t.test(e));function nn(e){const t=rl(e);if(!t)return!1;let s=t.parse(e);return t===Pe&&(s=nl(s)),s}const rn=(e,t)=>{const s=nn(e),n=nn(t);if(!s||!n)return ut(e,t);const i={...s};return r=>(i.red=jt(s.red,n.red,r),i.green=jt(s.green,n.green,r),i.blue=jt(s.blue,n.blue,r),i.alpha=L(s.alpha,n.alpha,r),ge.transform(i))},ol=(e,t)=>s=>t(e(s)),Xe=(...e)=>e.reduce(ol),Kt=new Set(["none","hidden"]);function al(e,t){return Kt.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function ll(e,t){return s=>L(e,t,s)}function Vs(e){return typeof e=="number"?ll:typeof e=="string"?ps(e)?ut:G.test(e)?rn:dl:Array.isArray(e)?fr:typeof e=="object"?G.test(e)?rn:cl:ut}function fr(e,t){const s=[...e],n=s.length,i=e.map((r,o)=>Vs(r)(r,t[o]));return r=>{for(let o=0;o<n;o++)s[o]=i[o](r);return s}}function cl(e,t){const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=Vs(e[i])(e[i],t[i]));return i=>{for(const r in n)s[r]=n[r](i);return s}}function ul(e,t){var s;const n=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],a=e.indexes[o][i[o]],c=(s=e.values[a])!==null&&s!==void 0?s:0;n[r]=c,i[o]++}return n}const dl=(e,t)=>{const s=ce.createTransformer(t),n=$e(e),i=$e(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Kt.has(e)&&!i.values.length||Kt.has(t)&&!n.values.length?al(e,t):Xe(fr(ul(n,i),i.values),s):ut(e,t)};function mr(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?L(e,t,s):Vs(e)(e,t)}const hl=5;function pr(e,t,s){const n=Math.max(t-hl,0);return Gi(s-e(n),t-n)}const V={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Et=.001;function fl({duration:e=V.duration,bounce:t=V.bounce,velocity:s=V.velocity,mass:n=V.mass}){let i,r,o=1-t;o=re(V.minDamping,V.maxDamping,o),e=re(V.minDuration,V.maxDuration,ne(e)),o<1?(i=l=>{const d=l*o,h=d*e,f=d-s,m=Yt(l,o),y=Math.exp(-h);return Et-f/m*y},r=l=>{const h=l*o*e,f=h*s+s,m=Math.pow(o,2)*Math.pow(l,2)*e,y=Math.exp(-h),g=Yt(Math.pow(l,2),o);return(-i(l)+Et>0?-1:1)*((f-m)*y)/g}):(i=l=>{const d=Math.exp(-l*e),h=(l-s)*e+1;return-Et+d*h},r=l=>{const d=Math.exp(-l*e),h=(s-l)*(e*e);return d*h});const a=5/e,c=pl(i,r,a);if(e=se(e),isNaN(c))return{stiffness:V.stiffness,damping:V.damping,duration:e};{const l=Math.pow(c,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:e}}}const ml=12;function pl(e,t,s){let n=s;for(let i=1;i<ml;i++)n=n-e(n)/t(n);return n}function Yt(e,t){return e*Math.sqrt(1-t*t)}const gl=["duration","bounce"],xl=["stiffness","damping","mass"];function on(e,t){return t.some(s=>e[s]!==void 0)}function yl(e){let t={velocity:V.velocity,stiffness:V.stiffness,damping:V.damping,mass:V.mass,isResolvedFromDuration:!1,...e};if(!on(e,xl)&&on(e,gl))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,r=2*re(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:V.mass,stiffness:i,damping:r}}else{const s=fl(e);t={...t,...s,mass:V.mass},t.isResolvedFromDuration=!0}return t}function gr(e=V.visualDuration,t=V.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=s;const r=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],a={done:!1,value:r},{stiffness:c,damping:l,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=yl({...s,velocity:-ne(s.velocity||0)}),y=f||0,g=l/(2*Math.sqrt(c*d)),T=o-r,w=ne(Math.sqrt(c/d)),v=Math.abs(T)<5;n||(n=v?V.restSpeed.granular:V.restSpeed.default),i||(i=v?V.restDelta.granular:V.restDelta.default);let b;if(g<1){const S=Yt(w,g);b=j=>{const A=Math.exp(-g*w*j);return o-A*((y+g*w*T)/S*Math.sin(S*j)+T*Math.cos(S*j))}}else if(g===1)b=S=>o-Math.exp(-w*S)*(T+(y+w*T)*S);else{const S=w*Math.sqrt(g*g-1);b=j=>{const A=Math.exp(-g*w*j),x=Math.min(S*j,300);return o-A*((y+g*w*T)*Math.sinh(x)+S*T*Math.cosh(x))/S}}const P={calculatedDuration:m&&h||null,next:S=>{const j=b(S);if(m)a.done=S>=h;else{let A=0;g<1&&(A=S===0?se(y):pr(b,S,j));const x=Math.abs(A)<=n,E=Math.abs(o-j)<=i;a.done=x&&E}return a.value=a.done?o:j,a},toString:()=>{const S=Math.min(Li(P),Ot),j=Vi(A=>P.next(S*A).value,S,30);return S+"ms "+j}};return P}function an({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:c,restDelta:l=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=x=>a!==void 0&&x<a||c!==void 0&&x>c,y=x=>a===void 0?c:c===void 0||Math.abs(a-x)<Math.abs(c-x)?a:c;let g=s*t;const T=h+g,w=o===void 0?T:o(T);w!==T&&(g=w-h);const v=x=>-g*Math.exp(-x/n),b=x=>w+v(x),P=x=>{const E=v(x),R=b(x);f.done=Math.abs(E)<=l,f.value=f.done?w:R};let S,j;const A=x=>{m(f.value)&&(S=x,j=gr({keyframes:[f.value,y(f.value)],velocity:pr(b,x,f.value),damping:i,stiffness:r,restDelta:l,restSpeed:d}))};return A(0),{calculatedDuration:null,next:x=>{let E=!1;return!j&&S===void 0&&(E=!0,P(x),A(x)),S!==void 0&&x>=S?j.next(x-S):(!E&&P(x),f)}}}const vl=qe(.42,0,1,1),bl=qe(0,0,.58,1),xr=qe(.42,0,.58,1),wl=e=>Array.isArray(e)&&typeof e[0]!="number",Tl={linear:K,easeIn:vl,easeInOut:xr,easeOut:bl,circIn:Ns,circInOut:Zi,circOut:Xi,backIn:ks,backInOut:Yi,backOut:Ki,anticipate:qi},ln=e=>{if(Ps(e)){mi(e.length===4);const[t,s,n,i]=e;return qe(t,s,n,i)}else if(typeof e=="string")return Tl[e];return e};function Sl(e,t,s){const n=[],i=s||mr,r=e.length-1;for(let o=0;o<r;o++){let a=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||K:t;a=Xe(c,a)}n.push(a)}return n}function Pl(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const r=e.length;if(mi(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Sl(t,n,i),c=a.length,l=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Ce(e[h],e[h+1],d);return a[h](f)};return s?d=>l(re(e[0],e[r-1],d)):l}function Al(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=Ce(0,t,n);e.push(L(s,1,i))}}function jl(e){const t=[0];return Al(t,e.length-1),t}function El(e,t){return e.map(s=>s*t)}function Cl(e,t){return e.map(()=>t||xr).splice(0,e.length-1)}function dt({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=wl(n)?n.map(ln):ln(n),r={done:!1,value:t[0]},o=El(s&&s.length===t.length?s:jl(t),e),a=Pl(o,t,{ease:Array.isArray(i)?i:Cl(t,i)});return{calculatedDuration:e,next:c=>(r.value=a(c),r.done=c>=e,r)}}const kl=e=>{const t=({timestamp:s})=>e(s);return{start:()=>D.update(t,!0),stop:()=>le(t),now:()=>U.isProcessing?U.timestamp:te.now()}},Nl={decay:an,inertia:an,tween:dt,keyframes:dt,spring:gr},Rl=e=>e/100;class _s extends hr{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:n,element:i,keyframes:r}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Ls,a=(c,l)=>this.onKeyframesResolved(c,l);this.resolver=new o(r,a,s,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=this.options,a=Ss(s)?s:Nl[s]||dt;let c,l;a!==dt&&typeof t[0]!="number"&&(c=Xe(Rl,mr(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});r==="mirror"&&(l=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Li(d));const{calculatedDuration:h}=d,f=h+i,m=f*(n+1)-i;return{generator:d,mirroredGenerator:l,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:n}=this;if(!n){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:i,generator:r,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:l,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return r.next(0);const{delay:f,repeat:m,repeatType:y,repeatDelay:g,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,P=r;if(m){const x=Math.min(this.currentTime,d)/h;let E=Math.floor(x),R=x%1;!R&&x>=1&&(R=1),R===1&&E--,E=Math.min(E,m+1),!!(E%2)&&(y==="reverse"?(R=1-R,g&&(R-=g/h)):y==="mirror"&&(P=o)),b=re(0,1,R)*h}const S=v?{done:!1,value:c[0]}:P.next(b);a&&(S.value=a(S.value));let{done:j}=S;!v&&l!==null&&(j=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return A&&i!==void 0&&(S.value=bt(c,this.options,i)),T&&T(S.value),A&&this.finish(),S}get duration(){const{resolved:t}=this;return t?ne(t.calculatedDuration):0}get time(){return ne(this.currentTime)}set time(t){t=se(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=ne(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=kl,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Ml=new Set(["opacity","clipPath","filter","transform"]);function Dl(e,t,s,{delay:n=0,duration:i=300,repeat:r=0,repeatType:o="loop",ease:a="easeInOut",times:c}={}){const l={[t]:s};c&&(l.offset=c);const d=Bi(a,i);return Array.isArray(d)&&(l.easing=d),e.animate(l,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}const Ll=ls(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ht=10,Vl=2e4;function _l(e){return Ss(e.type)||e.type==="spring"||!_i(e.ease)}function Bl(e,t){const s=new _s({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let r=0;for(;!n.done&&r<Vl;)n=s.sample(r),i.push(n.value),r+=ht;return{times:void 0,keyframes:i,duration:r-ht,ease:"linear"}}const yr={anticipate:qi,backInOut:Yi,circInOut:Zi};function Il(e){return e in yr}class cn extends hr{constructor(t){super(t);const{name:s,motionValue:n,element:i,keyframes:r}=this.options;this.resolver=new dr(r,(o,a)=>this.onKeyframesResolved(o,a),s,n,i),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:n=300,times:i,ease:r,type:o,motionValue:a,name:c,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof r=="string"&&ct()&&Il(r)&&(r=yr[r]),_l(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:y,...g}=this.options,T=Bl(t,g);t=T.keyframes,t.length===1&&(t[1]=t[0]),n=T.duration,i=T.times,r=T.ease,o="keyframes"}const d=Dl(a.owner.current,c,t,{...this.options,duration:n,times:i,ease:r});return d.startTime=l??this.calcStartTime(),this.pendingTimeline?(Hs(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(bt(t,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:i,type:o,ease:r,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return ne(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return ne(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=se(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return K;const{animation:n}=s;Hs(n,t)}return K}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:n,duration:i,type:r,ease:o,times:a}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:d,onComplete:h,element:f,...m}=this.options,y=new _s({...m,keyframes:n,duration:i,type:r,ease:o,times:a,isGenerator:!0}),g=se(this.time);l.setWithVelocity(y.sample(g-ht).value,y.sample(g).value,ht)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:n,repeatDelay:i,repeatType:r,damping:o,type:a}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:l}=s.owner.getProps();return Ll()&&n&&Ml.has(n)&&!c&&!l&&!i&&r!=="mirror"&&o!==0&&a!=="inertia"}}const Fl={type:"spring",stiffness:500,damping:25,restSpeed:10},Ol=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ul={type:"keyframes",duration:.8},Gl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wl=(e,{keyframes:t})=>t.length>2?Ul:ve.has(e)?e.startsWith("scale")?Ol(t[1]):Fl:Gl;function zl({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:a,from:c,elapsed:l,...d}){return!!Object.keys(d).length}const Bs=(e,t,s,n={},i,r)=>o=>{const a=Ts(n,e)||{},c=a.delay||n.delay||0;let{elapsed:l=0}=n;l=l-se(c);let d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-l,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:r?void 0:i};zl(a)||(d={...d,...Wl(e,d)}),d.duration&&(d.duration=se(d.duration)),d.repeatDelay&&(d.repeatDelay=se(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!r&&t.get()!==void 0){const f=bt(d.keyframes,a);if(f!==void 0)return D.update(()=>{d.onUpdate(f),d.onComplete()}),new ca([])}return!r&&cn.supports(d)?new cn(d):new _s(d)};function $l({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function vr(e,t,{delay:s=0,transitionOverride:n,type:i}={}){var r;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...c}=t;n&&(o=n);const l=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in c){const f=e.getValue(h,(r=e.latestValues[h])!==null&&r!==void 0?r:null),m=c[h];if(m===void 0||d&&$l(d,h))continue;const y={delay:s,...Ts(o||{},h)};let g=!1;if(window.MotionHandoffAnimation){const w=Wi(e);if(w){const v=window.MotionHandoffAnimation(w,h,D);v!==null&&(y.startTime=v,g=!0)}}Gt(e,h),f.start(Bs(h,f,m,e.shouldReduceMotion&&Ui.has(h)?{type:!1}:y,e,g));const T=f.animation;T&&l.push(T)}return a&&Promise.all(l).then(()=>{D.update(()=>{a&&Sa(e,a)})}),l}function qt(e,t,s={}){var n;const i=vt(e,t,s.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(r=s.transitionOverride);const o=i?()=>Promise.all(vr(e,i,s)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=r;return Hl(e,t,d+l,h,f,s)}:()=>Promise.resolve(),{when:c}=r;if(c){const[l,d]=c==="beforeChildren"?[o,a]:[a,o];return l().then(()=>d())}else return Promise.all([o(),a(s.delay)])}function Hl(e,t,s=0,n=0,i=1,r){const o=[],a=(e.variantChildren.size-1)*n,c=i===1?(l=0)=>l*n:(l=0)=>a-l*n;return Array.from(e.variantChildren).sort(Kl).forEach((l,d)=>{l.notify("AnimationStart",t),o.push(qt(l,t,{...r,delay:s+c(d)}).then(()=>l.notify("AnimationComplete",t)))}),Promise.all(o)}function Kl(e,t){return e.sortNodePosition(t)}function Yl(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(r=>qt(e,r,s));n=Promise.all(i)}else if(typeof t=="string")n=qt(e,t,s);else{const i=typeof t=="function"?vt(e,t,s.custom):t;n=Promise.all(vr(e,i,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const ql=us.length;function br(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?br(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<ql;s++){const n=us[s],i=e.props[n];(Ge(i)||i===!1)&&(t[n]=i)}return t}const Xl=[...cs].reverse(),Zl=cs.length;function Jl(e){return t=>Promise.all(t.map(({animation:s,options:n})=>Yl(e,s,n)))}function Ql(e){let t=Jl(e),s=un(),n=!0;const i=c=>(l,d)=>{var h;const f=vt(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:y,...g}=f;l={...l,...g,...y}}return l};function r(c){t=c(e)}function o(c){const{props:l}=e,d=br(e.parent)||{},h=[],f=new Set;let m={},y=1/0;for(let T=0;T<Zl;T++){const w=Xl[T],v=s[w],b=l[w]!==void 0?l[w]:d[w],P=Ge(b),S=w===c?v.isActive:null;S===!1&&(y=T);let j=b===d[w]&&b!==l[w]&&P;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),v.protectedKeys={...m},!v.isActive&&S===null||!b&&!v.prevProp||xt(b)||typeof b=="boolean")continue;const A=ec(v.prevProp,b);let x=A||w===c&&v.isActive&&!j&&P||T>y&&P,E=!1;const R=Array.isArray(b)?b:[b];let I=R.reduce(i(w),{});S===!1&&(I={});const{prevResolvedValues:F={}}=v,H={...F,...I},$=O=>{x=!0,f.has(O)&&(E=!0,f.delete(O)),v.needsAnimating[O]=!0;const Z=e.getValue(O);Z&&(Z.liveStyle=!1)};for(const O in H){const Z=I[O],he=F[O];if(m.hasOwnProperty(O))continue;let be=!1;Ft(Z)&&Ft(he)?be=!Di(Z,he):be=Z!==he,be?Z!=null?$(O):f.add(O):Z!==void 0&&f.has(O)?$(O):v.protectedKeys[O]=!0}v.prevProp=b,v.prevResolvedValues=I,v.isActive&&(m={...m,...I}),n&&e.blockInitialAnimation&&(x=!1),x&&(!(j&&A)||E)&&h.push(...R.map(O=>({animation:O,options:{type:w}})))}if(f.size){const T={};f.forEach(w=>{const v=e.getBaseTarget(w),b=e.getValue(w);b&&(b.liveStyle=!0),T[w]=v??null}),h.push({animation:T})}let g=!!h.length;return n&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(h):Promise.resolve()}function a(c,l){var d;if(s[c].isActive===l)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,l)}),s[c].isActive=l;const h=o(c);for(const f in s)s[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>s,reset:()=>{s=un(),n=!0}}}function ec(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Di(t,e):!1}function fe(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function un(){return{animate:fe(!0),whileInView:fe(),whileHover:fe(),whileTap:fe(),whileDrag:fe(),whileFocus:fe(),exit:fe()}}class ue{constructor(t){this.isMounted=!1,this.node=t}update(){}}class tc extends ue{constructor(t){super(t),t.animationState||(t.animationState=Ql(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let sc=0;class nc extends ue{constructor(){super(...arguments),this.id=sc++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ic={animation:{Feature:tc},exit:{Feature:nc}};function He(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function Ze(e){return{point:{x:e.pageX,y:e.pageY}}}const rc=e=>t=>As(t)&&e(t,Ze(t));function Ie(e,t,s,n){return He(e,t,rc(s),n)}const dn=(e,t)=>Math.abs(e-t);function oc(e,t){const s=dn(e.x,t.x),n=dn(e.y,t.y);return Math.sqrt(s**2+n**2)}class wr{constructor(t,s,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=kt(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=oc(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=h,{timestamp:g}=U;this.history.push({...y,timestamp:g});const{onStart:T,onMove:w}=this.handlers;f||(T&&T(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Ct(f,this.transformPagePoint),D.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=kt(h.type==="pointercancel"?this.lastMoveEventInfo:Ct(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,T),y&&y(h,T)},!As(t))return;this.dragSnapToOrigin=r,this.handlers=s,this.transformPagePoint=n,this.contextWindow=i||window;const o=Ze(t),a=Ct(o,this.transformPagePoint),{point:c}=a,{timestamp:l}=U;this.history=[{...c,timestamp:l}];const{onSessionStart:d}=s;d&&d(t,kt(a,this.history)),this.removeListeners=Xe(Ie(this.contextWindow,"pointermove",this.handlePointerMove),Ie(this.contextWindow,"pointerup",this.handlePointerUp),Ie(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),le(this.updatePoint)}}function Ct(e,t){return t?{point:t(e.point)}:e}function hn(e,t){return{x:e.x-t.x,y:e.y-t.y}}function kt({point:e},t){return{point:e,delta:hn(e,Tr(t)),offset:hn(e,ac(t)),velocity:lc(t,.1)}}function ac(e){return e[0]}function Tr(e){return e[e.length-1]}function lc(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=Tr(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>se(t)));)s--;if(!n)return{x:0,y:0};const r=ne(i.timestamp-n.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-n.x)/r,y:(i.y-n.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Sr=1e-4,cc=1-Sr,uc=1+Sr,Pr=.01,dc=0-Pr,hc=0+Pr;function Y(e){return e.max-e.min}function fc(e,t,s){return Math.abs(e-t)<=s}function fn(e,t,s,n=.5){e.origin=n,e.originPoint=L(t.min,t.max,e.origin),e.scale=Y(s)/Y(t),e.translate=L(s.min,s.max,e.origin)-e.originPoint,(e.scale>=cc&&e.scale<=uc||isNaN(e.scale))&&(e.scale=1),(e.translate>=dc&&e.translate<=hc||isNaN(e.translate))&&(e.translate=0)}function Fe(e,t,s,n){fn(e.x,t.x,s.x,n?n.originX:void 0),fn(e.y,t.y,s.y,n?n.originY:void 0)}function mn(e,t,s){e.min=s.min+t.min,e.max=e.min+Y(t)}function mc(e,t,s){mn(e.x,t.x,s.x),mn(e.y,t.y,s.y)}function pn(e,t,s){e.min=t.min-s.min,e.max=e.min+Y(t)}function Oe(e,t,s){pn(e.x,t.x,s.x),pn(e.y,t.y,s.y)}function pc(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?L(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?L(s,e,n.max):Math.min(e,s)),e}function gn(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function gc(e,{top:t,left:s,bottom:n,right:i}){return{x:gn(e.x,s,i),y:gn(e.y,t,n)}}function xn(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function xc(e,t){return{x:xn(e.x,t.x),y:xn(e.y,t.y)}}function yc(e,t){let s=.5;const n=Y(e),i=Y(t);return i>n?s=Ce(t.min,t.max-n,e.min):n>i&&(s=Ce(e.min,e.max-i,t.min)),re(0,1,s)}function vc(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Xt=.35;function bc(e=Xt){return e===!1?e=0:e===!0&&(e=Xt),{x:yn(e,"left","right"),y:yn(e,"top","bottom")}}function yn(e,t,s){return{min:vn(e,t),max:vn(e,s)}}function vn(e,t){return typeof e=="number"?e:e[t]||0}const bn=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ae=()=>({x:bn(),y:bn()}),wn=()=>({min:0,max:0}),_=()=>({x:wn(),y:wn()});function X(e){return[e("x"),e("y")]}function Ar({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function wc({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Tc(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Nt(e){return e===void 0||e===1}function Zt({scale:e,scaleX:t,scaleY:s}){return!Nt(e)||!Nt(t)||!Nt(s)}function me(e){return Zt(e)||jr(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function jr(e){return Tn(e.x)||Tn(e.y)}function Tn(e){return e&&e!=="0%"}function ft(e,t,s){const n=e-s,i=t*n;return s+i}function Sn(e,t,s,n,i){return i!==void 0&&(e=ft(e,i,n)),ft(e,s,n)+t}function Jt(e,t=0,s=1,n,i){e.min=Sn(e.min,t,s,n,i),e.max=Sn(e.max,t,s,n,i)}function Er(e,{x:t,y:s}){Jt(e.x,t.translate,t.scale,t.originPoint),Jt(e.y,s.translate,s.scale,s.originPoint)}const Pn=.999999999999,An=1.0000000000001;function Sc(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let r,o;for(let a=0;a<i;a++){r=s[a],o=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Ee(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Er(e,o)),n&&me(r.latestValues)&&Ee(e,r.latestValues))}t.x<An&&t.x>Pn&&(t.x=1),t.y<An&&t.y>Pn&&(t.y=1)}function je(e,t){e.min=e.min+t,e.max=e.max+t}function jn(e,t,s,n,i=.5){const r=L(e.min,e.max,i);Jt(e,t,s,r,n)}function Ee(e,t){jn(e.x,t.x,t.scaleX,t.scale,t.originX),jn(e.y,t.y,t.scaleY,t.scale,t.originY)}function Cr(e,t){return Ar(Tc(e.getBoundingClientRect(),t))}function Pc(e,t,s){const n=Cr(e,s),{scroll:i}=t;return i&&(je(n.x,i.offset.x),je(n.y,i.offset.y)),n}const kr=({current:e})=>e?e.ownerDocument.defaultView:null,Ac=new WeakMap;class jc{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ze(d).point)},r=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ya(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),X(T=>{let w=this.getAxisMotionValue(T).get()||0;if(ee.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[T];b&&(w=Y(b)*(parseFloat(w)/100))}}this.originPoint[T]=w}),y&&D.postRender(()=>y(d,h)),Gt(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:T}=h;if(m&&this.currentDirection===null){this.currentDirection=Ec(T),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,T),this.updateAxis("y",h.point,T),this.visualElement.render(),g&&g(d,h)},a=(d,h)=>this.stop(d,h),c=()=>X(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new wr(t,{onSessionStart:i,onStart:r,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:kr(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&D.postRender(()=>r(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!tt(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=pc(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,r=this.constraints;s&&Se(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=gc(i.layoutBox,s):this.constraints=!1,this.elastic=bc(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&X(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=vc(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Se(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=Pc(n,i.root,this.visualElement.getTransformPagePoint());let o=xc(i.layout.layoutBox,r);if(s){const a=s(wc(o));this.hasMutatedConstraints=!!a,a&&(o=Ar(a))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=X(d=>{if(!tt(d,s,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(l).then(a)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return Gt(this.visualElement,t),n.start(Bs(t,n,0,s,this.visualElement,!1))}stopAnimation(){X(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){X(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){X(s=>{const{drag:n}=this.getProps();if(!tt(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[s];r.set(t[s]-L(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Se(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};X(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=yc({min:c,max:c},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),X(o=>{if(!tt(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];a.set(L(c,l,i[o]))})}addListeners(){if(!this.visualElement.current)return;Ac.set(this.visualElement,this);const t=this.visualElement.current,s=Ie(t,"pointerdown",c=>{const{drag:l,dragListener:d=!0}=this.getProps();l&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Se(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),D.read(n);const o=He(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(X(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),s(),r(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=Xt,dragMomentum:a=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function tt(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Ec(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Cc extends ue{constructor(t){super(t),this.removeGroupControls=K,this.removeListeners=K,this.controls=new jc(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||K}unmount(){this.removeGroupControls(),this.removeListeners()}}const En=e=>(t,s)=>{e&&D.postRender(()=>e(t,s))};class kc extends ue{constructor(){super(...arguments),this.removePointerDownListener=K}onPointerDown(t){this.session=new wr(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kr(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:En(t),onStart:En(s),onMove:n,onEnd:(r,o)=>{delete this.session,i&&D.postRender(()=>i(r,o))}}}mount(){this.removePointerDownListener=Ie(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const it={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cn(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const De={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(C.test(e))e=parseFloat(e);else return e;const s=Cn(e,t.target.x),n=Cn(e,t.target.y);return`${s}% ${n}%`}},Nc={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=ce.parse(e);if(i.length>5)return n;const r=ce.createTransformer(e),o=typeof i[0]!="number"?1:0,a=s.x.scale*t.x,c=s.y.scale*t.y;i[0+o]/=a,i[1+o]/=c;const l=L(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=l),typeof i[3+o]=="number"&&(i[3+o]/=l),r(i)}};class Rc extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=t;Zo(Mc),r&&(s.group&&s.group.add(r),n&&n.register&&i&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),it.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:r}=this.props,o=n.projection;return o&&(o.isPresent=r,i||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||D.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hs.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Nr(e){const[t,s]=hi(),n=p.useContext(is);return u.jsx(Rc,{...e,layoutGroup:n,switchLayoutGroup:p.useContext(bi),isPresent:t,safeToRemove:s})}const Mc={borderRadius:{...De,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomLeftRadius:De,borderBottomRightRadius:De,boxShadow:Nc};function Dc(e,t,s){const n=W(e)?e:ze(e);return n.start(Bs("",n,t,s)),n.animation}function Lc(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Vc=(e,t)=>e.depth-t.depth;class _c{constructor(){this.children=[],this.isDirty=!1}add(t){js(this.children,t),this.isDirty=!0}remove(t){Es(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Vc),this.isDirty=!1,this.children.forEach(t)}}function Bc(e,t){const s=te.now(),n=({timestamp:i})=>{const r=i-s;r>=t&&(le(n),e(r-t))};return D.read(n,!0),()=>le(n)}const Rr=["TopLeft","TopRight","BottomLeft","BottomRight"],Ic=Rr.length,kn=e=>typeof e=="string"?parseFloat(e):e,Nn=e=>typeof e=="number"||C.test(e);function Fc(e,t,s,n,i,r){i?(e.opacity=L(0,s.opacity!==void 0?s.opacity:1,Oc(n)),e.opacityExit=L(t.opacity!==void 0?t.opacity:1,0,Uc(n))):r&&(e.opacity=L(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let o=0;o<Ic;o++){const a=`border${Rr[o]}Radius`;let c=Rn(t,a),l=Rn(s,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||Nn(c)===Nn(l)?(e[a]=Math.max(L(kn(c),kn(l),n),0),(ee.test(l)||ee.test(c))&&(e[a]+="%")):e[a]=l}(t.rotate||s.rotate)&&(e.rotate=L(t.rotate||0,s.rotate||0,n))}function Rn(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Oc=Mr(0,.5,Xi),Uc=Mr(.5,.95,K);function Mr(e,t,s){return n=>n<e?0:n>t?1:s(Ce(e,t,n))}function Mn(e,t){e.min=t.min,e.max=t.max}function q(e,t){Mn(e.x,t.x),Mn(e.y,t.y)}function Dn(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ln(e,t,s,n,i){return e-=t,e=ft(e,1/s,n),i!==void 0&&(e=ft(e,1/i,n)),e}function Gc(e,t=0,s=1,n=.5,i,r=e,o=e){if(ee.test(t)&&(t=parseFloat(t),t=L(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=L(r.min,r.max,n);e===r&&(a-=t),e.min=Ln(e.min,t,s,a,i),e.max=Ln(e.max,t,s,a,i)}function Vn(e,t,[s,n,i],r,o){Gc(e,t[s],t[n],t[i],t.scale,r,o)}const Wc=["x","scaleX","originX"],zc=["y","scaleY","originY"];function _n(e,t,s,n){Vn(e.x,t,Wc,s?s.x:void 0,n?n.x:void 0),Vn(e.y,t,zc,s?s.y:void 0,n?n.y:void 0)}function Bn(e){return e.translate===0&&e.scale===1}function Dr(e){return Bn(e.x)&&Bn(e.y)}function In(e,t){return e.min===t.min&&e.max===t.max}function $c(e,t){return In(e.x,t.x)&&In(e.y,t.y)}function Fn(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Lr(e,t){return Fn(e.x,t.x)&&Fn(e.y,t.y)}function On(e){return Y(e.x)/Y(e.y)}function Un(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Hc{constructor(){this.members=[]}add(t){js(this.members,t),t.scheduleRender()}remove(t){if(Es(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){n=r;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kc(e,t,s){let n="";const i=e.x.translate/t.x,r=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((i||r||o)&&(n=`translate3d(${i}px, ${r}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:l,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:y}=s;l&&(n=`perspective(${l}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),y&&(n+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(n+=`scale(${a}, ${c})`),n||"none"}const pe={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},_e=typeof window<"u"&&window.MotionDebug!==void 0,Rt=["","X","Y","Z"],Yc={visibility:"hidden"},Gn=1e3;let qc=0;function Mt(e,t,s,n){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Vr(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Wi(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",D,!(i||r))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Vr(n)}function _r({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=qc++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_e&&(pe.totalNodes=pe.resolvedTargetDeltas=pe.recalculatedProjection=0),this.nodes.forEach(Jc),this.nodes.forEach(nu),this.nodes.forEach(iu),this.nodes.forEach(Qc),_e&&window.MotionDebug.record(pe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new _c)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Cs),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Lc(o),this.instance=o;const{layoutId:c,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Bc(f,250),it.hasAnimatedSinceResize&&(it.hasAnimatedSinceResize=!1,this.nodes.forEach(zn))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||cu,{onLayoutAnimationStart:T,onLayoutAnimationComplete:w}=d.getProps(),v=!this.targetLayout||!Lr(this.targetLayout,y)||m,b=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const P={...Ts(g,"layout"),onPlay:T,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else f||zn(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,le(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ru),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Vr(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wn);return}this.isUpdating||this.nodes.forEach(tu),this.isUpdating=!1,this.nodes.forEach(su),this.nodes.forEach(Xc),this.nodes.forEach(Zc),this.clearAllSnapshots();const a=te.now();U.delta=re(0,1e3/60,a-U.timestamp),U.timestamp=a,U.isProcessing=!0,Tt.update.process(U),Tt.preRender.process(U),Tt.render.process(U),U.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eu),this.sharedNodes.forEach(ou)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,D.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){D.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Dr(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,d=l!==this.prevTransformTemplateValue;o&&(a||me(this.latestValues)||d)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),uu(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return _();const c=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(du))){const{scroll:d}=this.root;d&&(je(c.x,d.offset.x),je(c.y,d.offset.y))}return c}removeElementScroll(o){var a;const c=_();if(q(c,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&q(c,o),je(c.x,h.offset.x),je(c.y,h.offset.y))}return c}applyTransform(o,a=!1){const c=_();q(c,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ee(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),me(d.latestValues)&&Ee(c,d.latestValues)}return me(this.latestValues)&&Ee(c,this.latestValues),c}removeTransform(o){const a=_();q(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!me(l.latestValues))continue;Zt(l.latestValues)&&l.updateSnapshot();const d=_(),h=l.measurePageBox();q(d,h),_n(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,d)}return me(this.latestValues)&&_n(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==U.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=U.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_(),this.relativeTargetOrigin=_(),Oe(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),q(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_(),this.targetWithTransforms=_()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mc(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):q(this.target,this.layout.layoutBox),Er(this.target,this.targetDelta)):q(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_(),this.relativeTargetOrigin=_(),Oe(this.relativeTargetOrigin,this.target,m.target),q(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_e&&pe.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zt(this.parent.latestValues)||jr(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===U.timestamp&&(l=!1),l)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;q(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Sc(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=_());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dn(this.prevProjectionDelta.x,this.projectionDelta.x),Dn(this.prevProjectionDelta.y,this.projectionDelta.y)),Fe(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Un(this.projectionDelta.x,this.prevProjectionDelta.x)||!Un(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),_e&&pe.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ae(),this.projectionDelta=Ae(),this.projectionDeltaWithTransform=Ae()}setAnimationOrigin(o,a=!1){const c=this.snapshot,l=c?c.latestValues:{},d={...this.latestValues},h=Ae();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=_(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,T=this.getStack(),w=!T||T.members.length<=1,v=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(lu));this.animationProgress=0;let b;this.mixTargetDelta=P=>{const S=P/1e3;$n(h.x,o.x,S),$n(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oe(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),au(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&$c(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=_()),q(b,this.relativeTarget)),g&&(this.animationValues=d,Fc(d,l,this.latestValues,S,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(le(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=D.update(()=>{it.hasAnimatedSinceResize=!0,this.currentAnimation=Dc(0,Gn,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gn),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:d}=o;if(!(!a||!c||!l)){if(this!==o&&this.layout&&l&&Br(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||_();const h=Y(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Y(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}q(a,c),Ee(a,d),Fe(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Hc),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const l={};c.z&&Mt("z",o,l,this.animationValues);for(let d=0;d<Rt.length;d++)Mt(`rotate${Rt[d]}`,o,l,this.animationValues),Mt(`skew${Rt[d]}`,o,l,this.animationValues);o.render();for(const d in l)o.setStaticValue(d,l[d]),this.animationValues&&(this.animationValues[d]=l[d]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Yc;const l={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=st(o==null?void 0:o.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=st(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!me(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=Kc(this.projectionDeltaWithTransform,this.treeScale,f),d&&(l.transform=d(f,l.transform));const{x:m,y}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?l.opacity=h===this?(c=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in lt){if(f[g]===void 0)continue;const{correct:T,applyTo:w}=lt[g],v=l.transform==="none"?f[g]:T(f[g],h);if(w){const b=w.length;for(let P=0;P<b;P++)l[w[P]]=v}else l[g]=v}return this.options.layoutId&&(l.pointerEvents=h===this?st(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Wn),this.root.sharedNodes.clear()}}}function Xc(e){e.updateLayout()}function Zc(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:r}=e.options,o=s.source!==e.layout.source;r==="size"?X(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],m=Y(f);f.min=n[h].min,f.max=f.min+m}):Br(r,s.layoutBox,n)&&X(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],m=Y(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=Ae();Fe(a,n,s.layoutBox);const c=Ae();o?Fe(c,e.applyTransform(i,!0),s.measuredBox):Fe(c,n,s.layoutBox);const l=!Dr(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const y=_();Oe(y,s.layoutBox,f.layoutBox);const g=_();Oe(g,n,m.layoutBox),Lr(y,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Jc(e){_e&&pe.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Qc(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eu(e){e.clearSnapshot()}function Wn(e){e.clearMeasurements()}function tu(e){e.isLayoutDirty=!1}function su(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zn(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nu(e){e.resolveTargetDelta()}function iu(e){e.calcProjection()}function ru(e){e.resetSkewAndRotation()}function ou(e){e.removeLeadSnapshot()}function $n(e,t,s){e.translate=L(t.translate,0,s),e.scale=L(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Hn(e,t,s,n){e.min=L(t.min,s.min,n),e.max=L(t.max,s.max,n)}function au(e,t,s,n){Hn(e.x,t.x,s.x,n),Hn(e.y,t.y,s.y,n)}function lu(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cu={duration:.45,ease:[.4,0,.1,1]},Kn=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Yn=Kn("applewebkit/")&&!Kn("chrome/")?Math.round:K;function qn(e){e.min=Yn(e.min),e.max=Yn(e.max)}function uu(e){qn(e.x),qn(e.y)}function Br(e,t,s){return e==="position"||e==="preserve-aspect"&&!fc(On(t),On(s),.2)}function du(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const hu=_r({attachResizeListener:(e,t)=>He(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dt={current:void 0},Ir=_r({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Dt.current){const e=new hu({});e.mount(window),e.setOptions({layoutScroll:!0}),Dt.current=e}return Dt.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),fu={pan:{Feature:kc},drag:{Feature:Cc,ProjectionNode:Ir,MeasureLayout:Nr}};function Xn(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,r=n[i];r&&D.postRender(()=>r(t,Ze(t)))}class mu extends ue{mount(){const{current:t}=this.node;t&&(this.unmount=fa(t,s=>(Xn(this.node,s,"Start"),n=>Xn(this.node,n,"End"))))}unmount(){}}class pu extends ue{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xe(He(this.node.current,"focus",()=>this.onFocus()),He(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zn(e,t,s){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),r=n[i];r&&D.postRender(()=>r(t,Ze(t)))}class gu extends ue{mount(){const{current:t}=this.node;t&&(this.unmount=xa(t,s=>(Zn(this.node,s,"Start"),(n,{success:i})=>Zn(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qt=new WeakMap,Lt=new WeakMap,xu=e=>{const t=Qt.get(e.target);t&&t(e)},yu=e=>{e.forEach(xu)};function vu({root:e,...t}){const s=e||document;Lt.has(s)||Lt.set(s,{});const n=Lt.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(yu,{root:e,...t})),n[i]}function bu(e,t,s){const n=vu(t);return Qt.set(e,s),n.observe(e),()=>{Qt.delete(e),n.unobserve(e)}}const wu={some:0,all:1};class Tu extends ue{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:r}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:wu[i]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,r&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=l?d:h;f&&f(c)};return bu(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(Su(t,s))&&this.startObserver()}unmount(){}}function Su({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Pu={inView:{Feature:Tu},tap:{Feature:gu},focus:{Feature:pu},hover:{Feature:mu}},Au={layout:{ProjectionNode:Ir,MeasureLayout:Nr}},es={current:null},Fr={current:!1};function ju(){if(Fr.current=!0,!!as)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>es.current=e.matches;e.addListener(t),t()}else es.current=!1}const Eu=[...ur,G,ce],Cu=e=>Eu.find(cr(e)),Jn=new WeakMap;function ku(e,t,s){for(const n in t){const i=t[n],r=s[n];if(W(i))e.addValue(n,i);else if(W(r))e.addValue(n,ze(i,{owner:e}));else if(r!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,ze(o!==void 0?o:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const Qn=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Nu{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ls,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=te.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,D.render(this.render,!1,!0))};const{latestValues:c,renderState:l,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=l,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=yt(s),this.isVariantNode=yi(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in f){const y=f[m];c[m]!==void 0&&W(y)&&y.set(c[m],!1)}}mount(t){this.current=t,Jn.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),Fr.current||ju(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:es.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Jn.delete(this.current),this.projection&&this.projection.unmount(),le(this.notifyUpdate),le(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ve.has(t),i=s.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&D.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),r=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),r(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ke){const s=ke[t];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Qn.length;n++){const i=Qn[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,o=t[r];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=ku(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=ze(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(ar(i)||Ji(i))?i=parseFloat(i):!Cu(i)&&ce.test(s)&&(i=ir(t,s)),this.setBaseTarget(t,W(i)?i.get():i)),W(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=ms(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!W(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Cs),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Or extends Nu{constructor(){super(...arguments),this.KeyframeResolver=dr}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;W(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Ru(e){return window.getComputedStyle(e)}class Mu extends Or{constructor(){super(...arguments),this.type="html",this.renderInstance=Ei}readValueFromInstance(t,s){if(ve.has(s)){const n=Ds(s);return n&&n.default||0}else{const n=Ru(t),i=(Pi(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Cr(t,s)}build(t,s,n){xs(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return ws(t,s,n)}}class Du extends Or{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ve.has(s)){const n=Ds(s);return n&&n.default||0}return s=Ci.has(s)?s:ds(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return Ri(t,s,n)}build(t,s,n){ys(t,s,this.isSVGTag,n.transformTemplate)}renderInstance(t,s,n,i){ki(t,s,n,i)}mount(t){this.isSVGTag=bs(t.tagName),super.mount(t)}}const Lu=(e,t)=>fs(e)?new Du(t):new Mu(t,{allowProjection:e!==p.Fragment}),Vu=oa({...ic,...Pu,...fu,...Au},Lu),k=wo(Vu);var Vt={exports:{}},_t,ei;function _u(){if(ei)return _t;ei=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _t=e,_t}var Bt,ti;function Bu(){if(ti)return Bt;ti=1;var e=_u();function t(){}function s(){}return s.resetWarningCache=t,Bt=function(){function n(o,a,c,l,d,h){if(h!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function i(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:t};return r.PropTypes=r,r},Bt}var si;function Iu(){return si||(si=1,Vt.exports=Bu()()),Vt.exports}var Fu=Iu();const B=lo(Fu),Ou={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.3}}},we={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},ts=p.memo(function({onStart:t}){return u.jsxs(k.div,{className:"w-full min-h-[100dvh] flex flex-col items-center justify-center px-5 relative overflow-hidden",variants:Ou,initial:"hidden",animate:"visible",style:{background:"linear-gradient(180deg, #0D1B3E 0%, #060E24 50%, #0A1628 100%)"},children:[u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute top-[15%] left-[10%] w-80 h-80 rounded-full bg-blue-600/8 blur-[100px]"}),u.jsx("div",{className:"absolute bottom-[20%] right-[5%] w-72 h-72 rounded-full bg-emerald-500/6 blur-[80px]"}),u.jsx("div",{className:"absolute top-[60%] left-[50%] w-64 h-64 rounded-full bg-amber-500/5 blur-[90px]"})]}),u.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[{color:"#10B981",x:"12%",y:"18%",delay:0,size:32},{color:"#3B82F6",x:"78%",y:"22%",delay:.5,size:28},{color:"#F59E0B",x:"20%",y:"70%",delay:1,size:24},{color:"#EF4444",x:"82%",y:"65%",delay:1.5,size:30},{color:"#3B82F6",x:"45%",y:"85%",delay:2,size:20},{color:"#10B981",x:"68%",y:"12%",delay:.8,size:22}].map((s,n)=>u.jsx(k.div,{initial:{opacity:0,scale:0},animate:{opacity:[0,.3,.15,.3],scale:[0,1,.9,1],y:[0,-10,0,-10]},transition:{delay:s.delay,duration:4,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},className:"absolute rounded-lg",style:{left:s.x,top:s.y,width:s.size,height:s.size,background:s.color,boxShadow:`0 0 1.5rem ${s.color}55`}},n))}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center max-w-sm",children:[u.jsx(k.div,{variants:we,className:"mb-6",children:u.jsx("div",{className:"px-4 py-1.5 rounded-full text-[0.6rem] font-black uppercase tracking-[0.25em]",style:{background:"rgba(0, 102, 178, 0.15)",border:"1.5px solid rgba(0, 102, 178, 0.35)",color:"#60A5FA"},children:"Bajaj Life Insurance"})}),u.jsxs(k.h1,{variants:we,className:"font-game text-[2.2rem] leading-[1.1] text-white mb-2",style:{textShadow:"0 0 2rem rgba(59,130,246,0.3)"},children:["Balance",u.jsx("br",{}),"Builder"]}),u.jsx(k.p,{variants:we,className:"text-white/40 text-[0.75rem] font-bold uppercase tracking-[0.2em] mb-6",children:"Secure Your Financial Future"}),u.jsx(k.div,{variants:we,className:"flex items-center gap-3 mb-8",children:[{color:"#10B981",label:"Family"},{color:"#3B82F6",label:"Education"},{color:"#F59E0B",label:"Retirement"},{color:"#EF4444",label:"Emergency"}].map((s,n)=>u.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8+n*.1},className:"flex flex-col items-center gap-1",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg",style:{background:s.color,boxShadow:`0 0 1rem ${s.color}44`}}),u.jsx("span",{className:"text-[0.45rem] font-bold text-white/30 uppercase tracking-wider",children:s.label})]},s.label))}),u.jsx(k.div,{variants:we,className:"w-full max-w-[16rem]",children:u.jsx("button",{onClick:t,id:"btn-start-balance",className:"w-full py-3.5 rounded-xl font-game text-[0.95rem] tracking-widest text-white uppercase transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",style:{background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",boxShadow:"0 4px 20px rgba(0, 102, 178, 0.3)"},children:"Start Game"})}),u.jsx(k.p,{variants:we,className:"text-white/15 text-[0.55rem] font-medium mt-6 max-w-[16rem] leading-relaxed",children:"Match blocks to fill your financial goal buckets in 2 minutes"})]})]})});ts.propTypes={onStart:B.func.isRequired};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ur=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:i="",children:r,iconNode:o,...a},c)=>p.createElement("svg",{ref:c,...Gu,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:Ur("lucide",i),...a},[...o.map(([l,d])=>p.createElement(l,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=(e,t)=>{const s=p.forwardRef(({className:n,...i},r)=>p.createElement(Wu,{ref:r,iconNode:t,className:Ur(`lucide-${Uu(e)}`,n),...i}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=z("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=z("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=z("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=z("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=z("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=z("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Gr=p.memo(function({onSubmit:t,onClose:s}){const[n,i]=p.useState(""),[r,o]=p.useState(""),[a,c]=p.useState(!0),[l,d]=p.useState(!1),[h,f]=p.useState({}),[m,y]=p.useState(!1),[g,T]=p.useState(null),w=p.useRef(null),[v,b]=p.useState(()=>sessionStorage.getItem("bb_lastPhone")||null);p.useEffect(()=>{v&&sessionStorage.setItem("bb_lastPhone",v)},[v]),p.useEffect(()=>{if(g){const A=setTimeout(()=>T(null),3e3);return()=>clearTimeout(A)}},[g]);const P=(A,x)=>{let E="";return A==="name"?x.trim()?/^[A-Za-z\s]+$/.test(x.trim())||(E="Name must contain only letters."):E="Please enter your name":A==="phone"&&(x?/^\d{10}$/.test(x)||(E="Enter a valid 10-digit mobile number"):E="Please enter mobile number"),E?(f(R=>({...R,[A]:E})),!1):(f(R=>({...R,[A]:""})),!0)},S=()=>P("name",n)&P("phone",r),j=async A=>{if(A.preventDefault(),!!S()&&a){if(v===r){T({message:"You have already registered.",type:"info"}),setTimeout(()=>t(n.trim(),r),1e3);return}y(!0);try{b(r),await t(n.trim(),r)}catch{T({message:"Something went wrong.",type:"error"})}finally{y(!1)}}};return u.jsxs(u.Fragment,{children:[u.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-md",onClick:s,children:u.jsxs(k.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:A=>A.stopPropagation(),className:"relative bg-white shadow-2xl w-full max-w-[320px] min-[375px]:max-w-[340px] p-5 min-[375px]:p-6 border-[4px] sm:border-[6px] border-[#0066B2] rounded-2xl",children:[u.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:u.jsx(Ue,{className:"w-5 h-5 min-[375px]:w-6 min-[375px]:h-6"})}),u.jsxs("div",{className:"text-center mb-4 min-[375px]:mb-6",children:[u.jsx("div",{className:"w-14 h-14 min-[375px]:w-16 min-[375px]:h-16 sm:w-20 sm:h-20 bg-[#0066B2] flex items-center justify-center mx-auto mb-3 min-[375px]:mb-4 shadow-xl border-4 border-white rounded-full",children:u.jsx("span",{className:"text-2xl min-[375px]:text-3xl sm:text-4xl",children:""})}),u.jsx("h2",{className:"text-[#0066B2] text-lg min-[375px]:text-xl sm:text-2xl font-black mb-1",children:"Welcome!"}),u.jsx("p",{className:"text-slate-500 font-bold text-xs min-[375px]:text-sm sm:text-base",children:"Enter your details to start."})]}),u.jsxs("form",{onSubmit:j,className:"space-y-3 min-[375px]:space-y-4",children:[u.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[u.jsx("label",{className:"block text-slate-700 text-[9px] min-[375px]:text-[10px] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"bb-userName",children:"Your Name"}),u.jsx("input",{id:"bb-userName",type:"text",value:n,onChange:A=>{i(A.target.value),/^[A-Za-z\s]*$/.test(A.target.value)&&f(x=>({...x,name:""}))},onBlur:A=>P("name",A.target.value),onKeyDown:A=>{var x;A.key==="Enter"&&(A.preventDefault(),P("name",n)&&((x=w.current)==null||x.focus()))},placeholder:"Full Name",autoFocus:!0,className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${h.name?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`}),h.name&&u.jsx("p",{className:"text-red-500 text-[9px] min-[375px]:text-[10px] font-black uppercase tracking-wider ml-1",children:h.name})]}),u.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[u.jsx("label",{className:"block text-slate-700 text-[9px] min-[375px]:text-[10px] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"bb-phone",children:"Mobile Number"}),u.jsx("input",{ref:w,id:"bb-phone",type:"tel",maxLength:10,value:r,onChange:A=>{const x=A.target.value.replace(/\D/g,"").slice(0,10);o(x),f(E=>({...E,phone:""}))},onBlur:A=>P("phone",A.target.value),placeholder:"9876543210",className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${h.phone?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`}),h.phone&&u.jsx("p",{className:"text-red-500 text-[9px] min-[375px]:text-[10px] font-black uppercase tracking-wider ml-1",children:h.phone})]}),u.jsxs("div",{className:"flex items-start space-x-3 pt-1 text-left",children:[u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{id:"bb-terms",type:"checkbox",checked:a,onChange:A=>c(A.target.checked),className:"peer h-5 w-5 cursor-pointer appearance-none rounded border-2 border-slate-300 bg-slate-50 transition-all checked:border-[#0066B2] checked:bg-[#0066B2] hover:border-[#0066B2]"}),u.jsx(ni,{className:"pointer-events-none absolute left-1/2 top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100",strokeWidth:4})]}),u.jsxs("label",{htmlFor:"bb-terms",className:"text-[10px] sm:text-xs font-semibold text-slate-500 leading-tight select-none",children:["I agree to the"," ",u.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-[#0066B2] hover:underline font-bold inline",children:"Terms & Conditions"})," ","and Acknowledge the Privacy Policy."]})]}),u.jsx("button",{type:"submit",disabled:!n.trim()||r.length!==10||!a||m,className:"w-full py-2.5 min-[375px]:py-3 sm:py-4 rounded-xl font-game text-sm sm:text-lg tracking-widest disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2 text-white uppercase font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",style:{background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",boxShadow:"0 4px 15px rgba(0, 102, 178, 0.3)"},children:m?u.jsxs(u.Fragment,{children:[u.jsx(Xu,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:"Starting..."})]}):"Let's Go!"})]})]})}),u.jsx(ie,{children:l&&u.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-md",onClick:()=>d(!1),children:u.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:A=>A.stopPropagation(),className:"bg-white p-6 rounded-2xl max-w-md w-full shadow-2xl border-4 border-[#0066B2] relative text-left",children:[u.jsx("button",{onClick:()=>d(!1),className:"absolute top-3 right-3 p-1 text-slate-400 hover:text-slate-600 transition-colors",children:u.jsx(Ue,{className:"w-5 h-5"})}),u.jsx("h3",{className:"text-[#0066B2] font-black text-lg uppercase mb-4 tracking-tight",children:"Terms & Conditions"}),u.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 space-y-3 font-medium leading-relaxed max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[u.jsx("p",{children:"I hereby authorize Bajaj Life Insurance Limited to call me on the contact number made available by me on the website with a specific request to call back. I further declare that, irrespective of my contact number being registered on National Customer Preference Register (NCPR) or on National Do Not Call Registry (NDNC), any call made, SMS or WhatsApp sent in response to my request shall not be construed as an Unsolicited Commercial Communication even though the content of the call may be for the purposes of explaining various insurance products and services or solicitation and procurement of insurance business."}),u.jsx("p",{children:"Please refer to BALIC Privacy Policy."})]}),u.jsx("button",{onClick:()=>{d(!1),c(!0)},className:"w-full mt-6 py-3 bg-[#0066B2] text-white font-bold rounded-lg hover:bg-blue-700 transition-colors text-sm uppercase tracking-wider",children:"I Agree"})]})})}),u.jsx(ie,{children:g&&u.jsxs(k.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[120] px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 ${g.type==="error"?"bg-red-500 text-white":"bg-blue-600 text-white"}`,children:[g.type==="error"?u.jsx(Ue,{size:20,className:"stroke-[3]"}):u.jsx(ni,{size:20,className:"stroke-[3]"}),u.jsx("span",{className:"font-bold text-sm",children:g.message})]})})]})});Gr.propTypes={onSubmit:B.func.isRequired,onClose:B.func.isRequired};const sd=()=>u.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-400 to-blue-600 shadow-[0_4px_0_#1e40af] flex items-center justify-center border border-blue-300",children:u.jsx(zu,{className:"text-white w-7 h-7 stroke-[3]"})}),nd=()=>u.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-pink-500 to-rose-600 shadow-[0_4px_0_#be123c] flex items-center justify-center border border-rose-300",children:u.jsx(ed,{className:"text-white w-7 h-7 stroke-[3]"})}),id=()=>u.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-400 to-cyan-600 shadow-[0_4px_0_#0e7490] flex items-center justify-center border border-cyan-300",children:u.jsx(td,{className:"text-white w-7 h-7 stroke-[3]"})}),rd=()=>u.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-400 to-orange-500 shadow-[0_4px_0_#c2410c] flex items-center justify-center border border-orange-300",children:u.jsx(qu,{className:"text-white w-7 h-7 stroke-[3]"})}),Wr=p.memo(function({onStart:t}){const s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},n={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},i=[{label:"Family Plan",color:"#10B981",bg:"linear-gradient(145deg, #059669 0%, #10B981 100%)",border:"#047857"},{label:"Child Education",color:"#3B82F6",bg:"linear-gradient(145deg, #1D4ED8 0%, #3B82F6 100%)",border:"#1e40af"},{label:"Retirement Plan",color:"#F59E0B",bg:"linear-gradient(145deg, #D97706 0%, #F59E0B 100%)",border:"#b45309"},{label:"Emergency Fund",color:"#EF4444",bg:"linear-gradient(145deg, #B91C1C 0%, #EF4444 100%)",border:"#b91c1c"}];return u.jsxs(k.div,{variants:s,initial:"hidden",animate:"visible",className:"fixed inset-0 z-50 flex flex-col items-center w-full h-full overflow-hidden bg-[#050B14]",style:{backgroundImage:`
          radial-gradient(circle at 50% 0%, #1e3a8a 0%, #050B14 60%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.03) 0px, rgba(255,255,255,0.03) 1px, transparent 1px, transparent 40px),
          repeating-linear-gradient(-45deg, rgba(255,255,255,0.03) 0px, rgba(255,255,255,0.03) 1px, transparent 1px, transparent 40px)
        `},children:[u.jsxs("div",{className:"flex-1 w-full max-w-md px-6 pt-10 pb-32 overflow-y-auto custom-scrollbar flex flex-col items-center gap-6",children:[u.jsxs(k.div,{variants:n,className:"text-center shrink-0",children:[u.jsx("h1",{className:"font-game text-5xl text-transparent bg-clip-text bg-gradient-to-b from-blue-200 via-blue-400 to-blue-600 drop-shadow-[0_4px_0_rgba(0,0,0,0.5)] stroke-text-blue",children:"HOW TO PLAY"}),u.jsx("p",{className:"text-blue-200/80 text-xs font-semibold tracking-wide mt-2 uppercase",children:"Match blocks. Fill buckets. Secure your future."})]}),u.jsxs("div",{className:"w-full space-y-4 shrink-0",children:[u.jsxs(k.div,{variants:n,className:"relative group",children:[u.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl opacity-40 blur"}),u.jsxs("div",{className:"relative bg-[#0a1529] border border-blue-500/50 rounded-2xl p-4 flex items-center gap-5 shadow-[inset_0_0_20px_rgba(59,130,246,0.2)]",children:[u.jsx(sd,{}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-wide mb-1",children:"Swap Adjacent Tiles"}),u.jsx("p",{className:"text-blue-200/60 text-xs leading-tight font-medium",children:"Tap two neighboring tiles to swap them matches of 3 or more."})]})]})]}),u.jsxs(k.div,{variants:n,className:"relative group",children:[u.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-pink-500 to-rose-500 rounded-2xl opacity-40 blur"}),u.jsxs("div",{className:"relative bg-[#0a1529] border border-blue-500/50 rounded-2xl p-4 flex items-center gap-5 shadow-[inset_0_0_20px_rgba(59,130,246,0.2)]",children:[u.jsx(nd,{}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-wide mb-1",children:"Fill Buckets"}),u.jsx("p",{className:"text-blue-200/60 text-xs leading-tight font-medium",children:"Each color fills its matching financial goal bucket."})]})]})]}),u.jsxs(k.div,{variants:n,className:"relative group",children:[u.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-2xl opacity-40 blur"}),u.jsxs("div",{className:"relative bg-[#0a1529] border border-blue-500/50 rounded-2xl p-4 flex items-center gap-5 shadow-[inset_0_0_20px_rgba(59,130,246,0.2)]",children:[u.jsx(id,{}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-wide mb-1",children:"2 Minutes"}),u.jsx("p",{className:"text-blue-200/60 text-xs leading-tight font-medium",children:"You have 120 seconds to maximize your score."})]})]})]}),u.jsxs(k.div,{variants:n,className:"relative group",children:[u.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl opacity-40 blur"}),u.jsxs("div",{className:"relative bg-[#0a1529] border border-blue-500/50 rounded-2xl p-4 flex items-center gap-5 shadow-[inset_0_0_20px_rgba(59,130,246,0.2)]",children:[u.jsx(rd,{}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-wide mb-1",children:"Chain Combos"}),u.jsx("p",{className:"text-blue-200/60 text-xs leading-tight font-medium",children:"Cascading matches give big point bonuses!"})]})]})]})]}),u.jsxs(k.div,{variants:n,className:"w-full relative group",children:[u.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl opacity-60 blur"}),u.jsxs("div",{className:"relative bg-gradient-to-b from-[#1e3a8a] to-[#0f172a] border border-indigo-400/50 rounded-2xl p-4 shadow-xl",children:[u.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-[#0f172a] px-3 py-0.5 rounded-full border border-indigo-400/50",children:u.jsx("span",{className:"text-[0.6rem] font-black text-indigo-300 tracking-widest uppercase",children:"Scoring"})}),u.jsx("div",{className:"flex justify-between items-center gap-2 pt-2",children:[{matches:"3",points:"+10",color:"from-blue-400 to-blue-600",shadow:"#1e40af"},{matches:"4",points:"+18",color:"from-purple-400 to-purple-600",shadow:"#6b21a8"},{matches:"5",points:"+30",color:"from-amber-400 to-orange-500",shadow:"#c2410c"}].map(r=>u.jsxs("div",{className:"flex-1 flex items-center justify-center gap-2",children:[u.jsx("div",{className:"relative",children:u.jsx("span",{className:`font-game text-4xl text-transparent bg-clip-text bg-gradient-to-b ${r.color} drop-shadow break-words`,style:{filter:`drop-shadow(0 4px 0 ${r.shadow})`},children:r.matches})}),u.jsxs("div",{className:"flex flex-col leading-none",children:[u.jsxs("span",{className:"text-[0.5rem] text-white/60 font-bold uppercase mb-0.5",children:[r.matches," Match"]}),u.jsx("span",{className:`font-game text-sm text-transparent bg-clip-text bg-gradient-to-b ${r.color} drop-shadow-sm`,children:r.points})]})]},r.matches))})]})]}),u.jsxs(k.div,{variants:n,className:"w-full mt-2",children:[u.jsx("h3",{className:"text-center text-blue-200/80 text-[10px] font-bold uppercase tracking-[0.2em] mb-4",children:"Goal Buckets"}),u.jsx("div",{className:"grid grid-cols-1 gap-3 bg-[#0a1529]/50 p-4 rounded-2xl border border-white/5",children:i.map((r,o)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg shadow-sm shrink-0 border border-white/10",style:{background:r.bg,boxShadow:`0 2px 0 ${r.border}`}}),u.jsxs("div",{className:"flex-1 border-b border-white/5 pb-2",children:[u.jsx("span",{className:"text-white text-sm font-bold uppercase tracking-wide block",children:r.label}),u.jsx("span",{className:"text-white/40 text-[10px] font-medium uppercase tracking-wider",children:"Match tiles to fill"})]})]},o))})]})]}),u.jsx(k.div,{variants:n,className:"absolute bottom-0 left-0 w-full p-6 bg-[#050B14]/95 backdrop-blur-xl border-t border-white/10 z-20",children:u.jsx("div",{className:"w-full max-w-md mx-auto",children:u.jsxs("button",{onClick:t,className:"w-full py-4 rounded-2xl font-game text-xl tracking-wider text-white uppercase relative overflow-hidden group transition-transform active:scale-[0.98] shadow-[0_6px_0_#b45309,0_15px_20px_rgba(0,0,0,0.4)] hover:shadow-[0_8px_0_#b45309,0_20px_25px_rgba(0,0,0,0.4)] active:shadow-[0_2px_0_#b45309] active:translate-y-1",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#fcd34d] via-[#f59e0b] to-[#d97706]"}),u.jsx("div",{className:"absolute inset-x-0 top-0 h-[2px] bg-white/60"}),u.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/2 bg-gradient-to-t from-black/10 to-transparent"}),u.jsxs("div",{className:"relative flex items-center justify-center gap-3 drop-shadow-md",children:[u.jsx("span",{className:"text-[#78350f] text-stroke-white",children:"START PLAYING"}),u.jsx(Ju,{className:"w-6 h-6 fill-[#78350f] text-[#78350f]",strokeWidth:3})]})]})})}),u.jsx("style",{children:`
        .text-stroke-white {
          -webkit-text-stroke: 1px rgba(255,255,255,0.4);
        }
        .stroke-text-blue {
          -webkit-text-stroke: 2px #1e3a8a;
        }
      `})]})});Wr.propTypes={onStart:B.func.isRequired};const ss=24,ri=2*Math.PI*ss,zr=p.memo(function({timeLeft:t,totalTime:s}){const n=t/s,i=ri*(1-n),r=t<=30,o=Math.floor(t/60),a=t%60,c=`${o}:${a.toString().padStart(2,"0")}`,l=r?"#EF4444":"#3B82F6";return u.jsxs("div",{className:`relative flex items-center justify-center w-16 h-16 ${r?"animate-pulse":""}`,children:[r&&u.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500/20 blur-xl animate-pulse"}),u.jsxs("svg",{width:60,height:60,viewBox:"0 0 60 60",className:"transform -rotate-90 drop-shadow-lg",children:[u.jsx("circle",{cx:"30",cy:"30",r:ss,fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"3"}),u.jsx(k.circle,{cx:"30",cy:"30",r:ss,fill:"none",stroke:l,strokeWidth:"3",strokeLinecap:"round",strokeDasharray:ri,initial:{strokeDashoffset:0},animate:{strokeDashoffset:i},transition:{duration:1,ease:"linear"},style:{filter:`drop-shadow(0 0 4px ${l})`}})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("span",{className:"font-game text-sm text-white drop-shadow-md tracking-wider leading-none",children:c})})]})});zr.propTypes={timeLeft:B.number.isRequired,totalTime:B.number.isRequired};const Ke=["GREEN","BLUE","YELLOW","RED"],$r={GREEN:{label:"Family Plan",color:"#10B981",bg:"linear-gradient(145deg, #059669 0%, #10B981 50%, #34D399 100%)",glow:"rgba(16, 185, 129, 0.45)",bucketBg:"linear-gradient(180deg, #064E3B 0%, #059669 100%)",bucketBorder:"rgba(16, 185, 129, 0.5)"},BLUE:{label:"Child Education Plan",color:"#3B82F6",bg:"linear-gradient(145deg, #1D4ED8 0%, #3B82F6 50%, #60A5FA 100%)",glow:"rgba(59, 130, 246, 0.45)",bucketBg:"linear-gradient(180deg, #1E3A5F 0%, #1D4ED8 100%)",bucketBorder:"rgba(59, 130, 246, 0.5)"},YELLOW:{label:"Retirement Plan",color:"#F59E0B",bg:"linear-gradient(145deg, #D97706 0%, #F59E0B 50%, #FBBF24 100%)",glow:"rgba(245, 158, 11, 0.45)",bucketBg:"linear-gradient(180deg, #78350F 0%, #D97706 100%)",bucketBorder:"rgba(245, 158, 11, 0.5)"},RED:{label:"Emergency Fund",color:"#EF4444",bg:"linear-gradient(145deg, #B91C1C 0%, #EF4444 50%, #F87171 100%)",glow:"rgba(239, 68, 68, 0.45)",bucketBg:"linear-gradient(180deg, #7F1D1D 0%, #DC2626 100%)",bucketBorder:"rgba(239, 68, 68, 0.5)"}},ye=400,Q={match3:10,match4:18,match5:30,comboBonus:5,cascadeBonus:7},od=120,oi=["Good Job!","Excellent!","Amazing!","Outstanding!","Perfect!","Well Done!","Brilliant!","Keep Going!"],M={LANDING:"landing",ENTRY:"entry",HOW_TO_PLAY:"how_to_play",PLAYING:"playing",FINISHED:"finished",RESULT:"result",THANK_YOU:"thank_you",EXITED:"exited"};function ai(e){if(!e)return 0;const t=Ke.reduce((i,r)=>{const o=e[r]||0;return i+Math.min(o,ye)},0),s=Ke.length*ye,n=t/s*100;return Math.round(Math.min(n,100))}function ad(e){return e?Ke.every(t=>(e[t]||0)>=ye):!1}function ld(e,t,s){return Math.min(s,Math.max(t,e))}const Hr=p.memo(function({timeLeft:t,onExit:s}){return u.jsx("div",{className:"w-full shrink-0 flex items-center justify-between px-4 py-3 pb-2 z-20",children:u.jsxs("div",{className:"glass-header w-full flex items-center justify-between px-4 py-2 rounded-2xl border border-white/10 relative h-14",children:[u.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 top-[-6px] transition-all duration-500 ease-in-out z-30 ${t<=10?"scale-125 top-2 drop-shadow-[0_0_15px_rgba(255,0,0,0.6)]":"scale-100"}`,children:u.jsx("div",{className:`bg-bb-navy p-1 rounded-full border border-bb-accent/20 shadow-xl transition-colors ${t<=10?"border-red-500/50 bg-red-900/40":""}`,children:u.jsx(zr,{timeLeft:t,totalTime:od})})}),u.jsx("button",{onClick:s,className:"group flex flex-col items-center gap-0.5 opacity-60 hover:opacity-100 transition-opacity ml-auto","aria-label":"Exit Game",children:u.jsx(Yu,{className:"w-6 h-6 text-white drop-shadow-md group-hover:text-red-400 transition-colors"})})]})})});Hr.propTypes={timeLeft:B.number.isRequired,onExit:B.func.isRequired};const rt=6,li=3;function cd(){return Math.random().toString(36).slice(2,9)}function ns(e,t=[]){const s=e.filter(n=>!t.includes(n));return s.length?s[Math.floor(Math.random()*s.length)]:e[Math.floor(Math.random()*e.length)]}function ot(e,t,s){return{id:cd(),type:e,row:t,col:s}}function wt(e){const t=new Set,s=e.length;for(let n=0;n<s;n++){let i=1;for(let r=1;r<s;r++){const o=e[n][r],a=e[n][r-1];if(o&&a&&o.type===a.type){if(i++,i>=li)for(let c=r-i+1;c<=r;c++)t.add(`${n}-${c}`)}else i=1}}for(let n=0;n<s;n++){let i=1;for(let r=1;r<s;r++){const o=e[r][n],a=e[r-1][n];if(o&&a&&o.type===a.type){if(i++,i>=li)for(let c=r-i+1;c<=r;c++)t.add(`${c}-${n}`)}else i=1}}return t}function mt(e,t,s,n,i){const r=e.length;if(!(Math.abs(t-n)===1&&s===i||Math.abs(s-i)===1&&t===n)||t<0||t>=r||s<0||s>=r||n<0||n>=r||i<0||i>=r||!e[t][s]||!e[n][i])return!1;const a=e.map(d=>d.map(h=>h?{...h}:null)),c=a[t][s],l=a[n][i];return a[t][s]={...l,row:t,col:s},a[n][i]={...c,row:n,col:i},wt(a).size>0}function Kr(e){const t=e.length,s=Array.from({length:t},()=>Array(t).fill(null));for(let n=0;n<t;n++){let i=t-1;for(let r=t-1;r>=0;r--)e[r][n]!==null&&(s[i][n]={...e[r][n],row:i,col:n},i--)}return s}function Yr(e,t,s=0){e.length;const n=t.includes("RISK")?"RISK":null;return e.map((r,o)=>r.map((a,c)=>{if(a!==null)return a;let l;return n&&Math.random()<s?l=n:l=ns(t),ot(l,o,c)}))}function qr(e,t){return e.map((s,n)=>s.map((i,r)=>t.has(`${n}-${r}`)?null:i))}function Xr(e){const t=e.length;for(let s=0;s<t;s++)for(let n=0;n<t;n++)if(n+1<t&&mt(e,s,n,s,n+1)||s+1<t&&mt(e,s,n,s+1,n))return!0;return!1}function ci(e,t=100){const s=rt;for(let i=0;i<t;i++){const r=Array.from({length:s},(o,a)=>Array.from({length:s},(c,l)=>ot(ns(e),a,l)));if(wt(r).size===0&&Xr(r))return r}const n=Array.from({length:s},(i,r)=>Array.from({length:s},(o,a)=>ot(e[0],r,a)));for(let i=0;i<s;i++)for(let r=0;r<s;r++){const o=[];r>=2&&n[i][r-1].type===n[i][r-2].type&&o.push(n[i][r-1].type),i>=2&&n[i-1][r].type===n[i-2][r].type&&o.push(n[i-1][r].type),n[i][r]=ot(ns(e,o),i,r)}return n}function ud(e,t){let s=0;for(const n of e)for(const i of n)i&&i.type===t&&s++;return s}function Zr(e,t){var n;const s=new Set;for(const i of t){const[r,o]=i.split("-").map(Number);(n=e[r])!=null&&n[o]&&s.add(e[r][o].type)}return s}function dd(e,t){return t.size}function hd(e,t){var n,i,r,o;const s=e.length;for(const a of t){const[c,l]=a.split("-").map(Number);if(((i=(n=e[c])==null?void 0:n[l])==null?void 0:i.type)!=="SHIELD")continue;const d=[[c-1,l],[c+1,l],[c,l-1],[c,l+1]];for(const[h,f]of d)if(h>=0&&h<s&&f>=0&&f<s&&((o=(r=e[h])==null?void 0:r[f])==null?void 0:o.type)==="RISK")return!0}return!1}function fd(e,t){return e.map(s=>s.map(n=>n&&n.type===t?null:n))}function md(e){const{tileTypes:t,scoringRules:s={},riskSpawnRate:n=0,specialRules:i={},stageGoal:r={},maxMoves:o=20}=e,a=ci(t);return{config:e,tileTypes:t,scoringRules:s,riskSpawnRate:n,specialRules:i,stageGoal:r,maxMoves:o,initialGrid:a,findMatches:wt,wouldCreateMatch:mt,generateInitialGrid:()=>ci(t),hasValidMoves:Xr,applyGravity:Kr,removeMatches:qr,refillGrid:(c,l)=>Yr(c,t,l),countTilesByType:ud,getMatchedTypes:Zr,getMatchLength:dd,checkShieldRiskAdjacency:hd,clearAllOfType:fd}}const ui={GREEN:{bg:"bg-tile-green",shadow:"shadow-green-900/40",icon:"Family"},BLUE:{bg:"bg-tile-blue",shadow:"shadow-blue-900/40",icon:"Edu"},YELLOW:{bg:"bg-tile-yellow",shadow:"shadow-amber-900/40",icon:"Retire"},RED:{bg:"bg-tile-red",shadow:"shadow-red-900/40",icon:"Emerg"}},pd=({type:e})=>{const t="rgba(255,255,255,0.9)",s="rgba(255,255,255,0.15)";return e==="GREEN"?u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-[55%] h-[55%] drop-shadow-md",children:[u.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2",fill:s}),u.jsx("circle",{cx:"9",cy:"7",r:"4",fill:s}),u.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),u.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}):e==="BLUE"?u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-[50%] h-[50%] drop-shadow-md",children:[u.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",fill:s}),u.jsx("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})]}):e==="YELLOW"?u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-[55%] h-[55%] drop-shadow-md",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",fill:s}),u.jsx("path",{d:"M12 6v6l4 2"})]}):e==="RED"?u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-[50%] h-[50%] drop-shadow-md",children:[u.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2",fill:s}),u.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}):null},Jr=p.memo(function({tile:t,isSelected:s,isExploding:n,onTap:i,cellSize:r}){if(!t||!t.type)return u.jsx("div",{style:{width:r,height:r}});const o=ui[t.type]||ui.GREEN,a=s?"scale-95 ring-[3px] ring-white/80 ring-offset-2 ring-offset-bb-navy z-20 brightness-110":"",c=n?"animate-tile-pop opacity-0":"";return u.jsxs(k.div,{layoutId:t.id,className:`relative flex items-center justify-center 
        ${o.bg} ${o.shadow} ${a} ${c} 
        tile-premium select-none active:scale-[0.85]`,style:{width:r,height:r},onClick:()=>i(t.row,t.col),initial:!1,animate:{scale:n?1.5:1,opacity:n?0:1},transition:{type:"spring",stiffness:400,damping:25},children:[u.jsx(pd,{type:t.type}),s&&u.jsx(k.div,{layoutId:"select-glow",className:"absolute inset-0 rounded-[14px] bg-white/20 animate-pulse"})]})});Jr.propTypes={tile:B.object,isSelected:B.bool,isExploding:B.bool,onTap:B.func.isRequired,cellSize:B.number.isRequired};const Qr=p.memo(function({grid:t,selectedCell:s,explodingCells:n,floatingScores:i,activePraise:r,onCellTap:o}){const a=p.useRef(null),[c,l]=p.useState(48);p.useEffect(()=>{if(!a.current)return;const h=new ResizeObserver(f=>{const y=f[0].contentRect.width-24,g=Math.floor(y/rt);l(Math.max(42,Math.min(64,g)))});return h.observe(a.current),()=>h.disconnect()},[]);const d=p.useCallback((h,f)=>o(h,f),[o]);return t?u.jsx("div",{ref:a,className:"relative flex-1 w-full max-w-[600px] flex items-center justify-center p-4 z-10",children:u.jsxs("div",{className:"glass-panel relative p-3 rounded-[1rem] shadow-glass border border-bb-glass-border",style:{background:"linear-gradient(145deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%)",boxShadow:"0 20px 50px -12px rgba(0,0,0,0.5)"},children:[u.jsx("div",{className:"absolute inset-0 rounded-[1rem] pointer-events-none shadow-[inset_0_0_20px_rgba(59,130,246,0.1)]"}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${rt}, ${c}px)`,gridTemplateRows:`repeat(${rt}, ${c}px)`,gap:"4px",position:"relative",zIndex:1,padding:"2px"},children:t.map(h=>h.map(f=>{if(!f)return u.jsx("div",{style:{width:c,height:c}},Math.random());const m=(s==null?void 0:s.row)===f.row&&(s==null?void 0:s.col)===f.col,y=n.has(`${f.row}-${f.col}`);return u.jsx(Jr,{tile:f,isSelected:m,isExploding:y,onTap:d,cellSize:c},f.id)}))}),u.jsx(ie,{children:i.map(h=>u.jsx(k.div,{initial:{opacity:0,y:0,scale:.5},animate:{opacity:1,y:-40,scale:1.2},exit:{opacity:0},transition:{duration:.8,ease:"easeOut"},className:"float-point absolute pointer-events-none z-50 text-center w-full",style:{left:0,top:`${h.y}%`,transform:`translateX(${h.x-50}px)`},children:u.jsx("span",{className:"drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)] text-bb-gold",children:h.value})},h.id))}),u.jsx(ie,{children:r&&u.jsxs(k.div,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1.2,y:0},exit:{opacity:0,scale:1.5,y:-20},transition:{duration:.4,type:"spring",bounce:.5},className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[100]",children:[u.jsx("div",{className:"bg-black/40 backdrop-blur-sm px-6 py-3 rounded-2xl border border-white/20 shadow-2xl",children:u.jsx("span",{className:"font-game text-3xl sm:text-4xl text-transparent bg-clip-text bg-gradient-to-br from-yellow-300 via-orange-400 to-red-500 drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)] tracking-wide",children:r})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx(k.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0},className:"w-40 h-40 border-2 border-dashed border-white/10 rounded-full"})})]},r)})]})}):null});Qr.propTypes={grid:B.array,selectedCell:B.object,explodingCells:B.instanceOf(Set).isRequired,floatingScores:B.array.isRequired,activePraise:B.string,onCellTap:B.func.isRequired};const gd=["GREEN","BLUE","YELLOW","RED"],eo=p.memo(function({buckets:t}){return u.jsx("div",{className:"w-full shrink-0 px-4 py-3 pb-safe z-10",children:u.jsx("div",{className:"flex items-end justify-between gap-3 h-32 sm:h-36",children:gd.map(s=>{const n=$r[s],i=Math.min(t[s]||0,ye),r=Math.round(i/ye*100),o=r>=100,a=n.color;return u.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1 h-full relative group",children:[u.jsx("span",{className:`text-[0.6rem] font-bold uppercase tracking-wider text-center leading-tight transition-colors ${o?"text-bb-gold drop-shadow-md":"text-blue-200/60"}`,children:n.label.split(" ")[0]}),u.jsxs("div",{className:`bucket-capsule w-full flex-1 relative flex items-end justify-center ${o?"full":""}`,style:{boxShadow:o?`0 0 20px ${a}66`:void 0},children:[u.jsx("div",{className:"absolute inset-0 bg-white/5"}),u.jsxs(k.div,{className:"absolute bottom-0 left-0 right-0 z-0 overflow-hidden",initial:{height:"0%"},animate:{height:`${r}%`},transition:{type:"spring",stiffness:50,damping:15},children:[u.jsx("div",{className:"absolute inset-0 opacity-80",style:{background:n.bucketBg}}),u.jsx("div",{className:"absolute top-[-10px] left-[-50%] w-[200%] h-6 opacity-40 animate-wave",style:{background:"linear-gradient(90deg, transparent, #fff, transparent)"}}),u.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-white/40"})]}),u.jsx("div",{className:"absolute bottom-2 inset-x-0 text-center z-10",children:u.jsxs("span",{className:"font-game text-sm sm:text-base drop-shadow-md text-white",children:[r,"%"]})}),u.jsx(ie,{children:o&&u.jsx(k.div,{initial:{opacity:0,scale:.5,y:10},animate:{opacity:1,scale:1,y:0},className:"absolute top-[-8px] inset-x-0 flex justify-center z-20",children:u.jsxs("div",{className:"bg-bb-gold text-bb-navy text-[0.5rem] font-black uppercase px-2 py-0.5 rounded-full shadow-lg flex items-center gap-1 border border-white/20",children:[u.jsx(Ku,{className:"w-2.5 h-2.5"}),"Secured"]})})}),o&&u.jsx(k.div,{className:"absolute inset-0 rounded-[inherit] border-2 border-bb-gold/50",animate:{opacity:[0,1,0],scale:[1,1.05,1]},transition:{duration:2,repeat:1/0}})]})]},s)})})})});eo.propTypes={buckets:B.object.isRequired};const It=async e=>{const t="https://webpartner.bajajallianz.com/EurekaWSNew/service/pushData",s={name:e.name,age:e.age||25,mobile_no:e.mobile_no,email_id:e.email_id||"",goal_name:e.goal_name||"1",param1:null,param2:null,param3:null,param4:e.param4||null,param5:"",param13:"",param18:"",param19:e.param19||"",param20:"",param23:e.param23||"",param24:e.param24||"",param25:e.param25||"",param26:e.param26||"",param36:"manual",summary_dtls:e.summary_dtls||"Booking Request",p_user_eml:e.email_id||"",p_data_source:e.p_data_source||"WS_ETOUCH_BUY",p_curr_page_path:"https://www.bajajlifeinsurance.com/etouch/",p_ip_addsr:"",p_remark_url:"",prodId:e.prodId||"345",medium:"",contact_number:"",content:"",campaign:"",source:"",keyword:"",flag:"",parameter:"",name1:"",param28:"",param29:"",param30:""};try{const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});let i={success:!0};try{const r=await n.json();r&&typeof r=="object"&&(i={success:!0,...r})}catch{}return i}catch{return{success:!0}}},xd=({score:e})=>{const t=p.useRef(null),[s,n]=p.useState(0),i=isNaN(e)?0:e,r=Math.min(Math.max(Number(i),0),100),o=c=>c<40?"#FF3D00":c<75?"#FFD600":"#00E676";p.useEffect(()=>{const c=t.current;if(!c)return;const l=c.getContext("2d");let d;const h=.8*Math.PI,f=2.2*Math.PI,m=f-h,y=c.width,g=c.height,T=y/2,w=g/2,v=Math.min(y,g)/2-20,b=20;let P=0;const S=()=>{const j=r-P;Math.abs(j)>.5?P+=j*.08:P=r,n(Math.round(P)),l.clearRect(0,0,y,g),l.beginPath(),l.arc(T,w,v,h,f),l.lineWidth=b,l.strokeStyle="rgba(255, 255, 255, 0.1)",l.lineCap="round",l.stroke();const A=P/100,x=h+A*m,E=o(P);l.save(),l.beginPath(),l.arc(T,w,v,h,x),l.lineWidth=b,l.strokeStyle=E,l.lineCap="round",l.shadowBlur=20,l.shadowColor=E,l.stroke(),l.restore();const R=40;l.save(),l.shadowBlur=0;for(let $=0;$<=R;$++){const de=$/R,oe=h+de*m,O=$%10===0,Z=O?12:6,he=v-b/2-5,be=he-Z,io=T+Math.cos(oe)*he,ro=w+Math.sin(oe)*he,oo=T+Math.cos(oe)*be,ao=w+Math.sin(oe)*be;l.beginPath(),l.moveTo(io,ro),l.lineTo(oo,ao),l.lineWidth=O?2:1,l.strokeStyle=de<=A?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.2)",l.stroke()}l.restore();const I=v-10,F=T+Math.cos(x)*I,H=w+Math.sin(x)*I;l.save(),l.beginPath(),l.moveTo(T,w),l.lineTo(F,H),l.lineWidth=4,l.strokeStyle="#fff",l.lineCap="round",l.shadowBlur=15,l.shadowColor="#fff",l.stroke(),l.beginPath(),l.arc(T,w,8,0,Math.PI*2),l.fillStyle="#fff",l.fill(),l.restore(),Math.abs(j)>.5&&(d=requestAnimationFrame(S))};return S(),()=>{d&&cancelAnimationFrame(d)}},[r]);const a=o(s);return u.jsxs("div",{className:"relative flex flex-col items-center justify-center select-none w-full max-w-[350px] mx-auto",children:[u.jsx("canvas",{ref:t,width:350,height:300,className:"w-full h-auto drop-shadow-xl"}),u.jsx("div",{className:"text-center pointer-events-none z-10 -mt-12 mb-4",children:u.jsxs("div",{className:"text-5xl sm:text-6xl font-black text-white italic tracking-tighter",style:{textShadow:`0 0 20px ${a}, 0 0 40px ${a}`},children:[s,u.jsx("span",{className:"text-2xl sm:text-3xl font-bold not-italic ml-1 text-white/50",children:"/100"})]})})]})},to=()=>{const e=p.useRef(null);return p.useEffect(()=>{const t=e.current;if(!t)return;const s=t.getContext("2d");let n=window.innerWidth,i=window.innerHeight;t.width=n,t.height=i;const r=[],o=150,a=["#0066B2","#FF8C00","#ffffff","#FFD700","#00A3E0"];class c{constructor(){this.init()}init(){this.x=Math.random()*n,this.y=Math.random()*i-i,this.rotation=Math.random()*360,this.size=Math.random()*8+4,this.color=a[Math.floor(Math.random()*a.length)],this.vx=Math.random()*2-1,this.vy=Math.random()*2+2}update(){this.x+=this.vx,this.y+=this.vy,this.rotation+=2,this.y>i&&(this.init(),this.y=-20)}draw(){s.save(),s.translate(this.x,this.y),s.rotate(this.rotation*Math.PI/180),s.fillStyle=this.color,s.fillRect(-this.size/2,-this.size/2,this.size,this.size),s.restore()}}for(let m=0;m<o;m++)r.push(new c);let l;const d=()=>{s.clearRect(0,0,n,i),r.forEach(m=>{m.update(),m.draw()}),l=requestAnimationFrame(d)};d();const h=setTimeout(()=>{cancelAnimationFrame(l),s.clearRect(0,0,n,i)},5e3),f=()=>{n=window.innerWidth,i=window.innerHeight,t.width=n,t.height=i};return window.addEventListener("resize",f),()=>{cancelAnimationFrame(l),clearTimeout(h),window.removeEventListener("resize",f)}},[]),u.jsx("canvas",{ref:e,className:"fixed inset-0 pointer-events-none z-[100]"})},yd=["GREEN","BLUE","YELLOW","RED"],vd=({finalScore:e,buckets:t,userName:s,userPhone:n,onRestart:i,onBookSlot:r})=>{const o=e||0,[a,c]=p.useState(!1),[l,d]=p.useState(!1),[h,f]=p.useState({name:s||"",mobile:n||"",date:"",time:""}),[m,y]=p.useState(!1),[g,T]=p.useState({}),w=new Date().toISOString().split("T")[0],v=new Date(new Date().getFullYear(),11,31).toISOString().split("T")[0],b=(x,E)=>{f(R=>({...R,[x]:E})),g[x]&&T(R=>({...R,[x]:null}))},P=()=>{const x={};return h.name.trim()?/^[A-Za-z\s]+$/.test(h.name.trim())||(x.name="Invalid name"):x.name="Name is required",h.mobile?/^\d{10}$/.test(h.mobile)||(x.mobile="Invalid Mobile Number"):x.mobile="Mobile is required",h.date||(x.date="Required"),h.time||(x.time="Required"),T(x),Object.keys(x).length===0},S=async x=>{if(x.preventDefault(),!!P()){y(!0);try{r&&await r(h),c(!1)}catch{}finally{y(!1)}}},j=async()=>{const x=`I scored ${o}/100 in Balance Builder! Check how prepared you are.`;if(navigator.share)try{await navigator.share({title:"Balance Builder Score",text:x,url:window.location.href})}catch{}else try{await navigator.clipboard.writeText(x+" "+window.location.href)}catch{}};return u.jsxs("div",{className:"w-full h-full overflow-y-auto overflow-x-hidden custom-scrollbar flex flex-col items-center pt-4 pb-8 px-4",style:{background:"linear-gradient(180deg, #00509E 0%, #003366 100%)"},children:[u.jsx(to,{}),u.jsx("button",{onClick:j,className:"fixed top-4 right-4 z-50 text-white/90 hover:text-white transition-opacity p-2 bg-black/10 rounded-full backdrop-blur-sm",children:u.jsx(ii,{className:"w-6 h-6 sm:w-7 sm:h-7 drop-shadow-md",strokeWidth:2.5})}),u.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-cover bg-center opacity-60 mix-blend-overlay",style:{backgroundImage:"linear-gradient(radial-gradient, circle at center, rgba(255,255,255,0.2) 0%, transparent 70%)"}}),u.jsxs("div",{className:"relative z-10 w-full max-w-[500px] flex flex-col items-center shrink-0",children:[u.jsxs("div",{className:"text-center mb-2 w-full",children:[u.jsxs("h1",{className:"text-base sm:text-lg md:text-xl font-medium text-white uppercase tracking-wide italic mb-1",children:["Hi ",u.jsxs("span",{className:"ml-1 text-2xl sm:text-3xl md:text-4xl font-black",children:[s||"Player","!"]})]}),u.jsxs("h2",{className:"text-sm sm:text-base md:text-lg text-white uppercase tracking-wide italic mb-2 opacity-90",children:["Your ",u.jsx("span",{className:"font-black text-lg sm:text-xl text-[#FF8C00]",children:"Balance Builder"})," score is"]}),u.jsx("div",{className:"transform scale-90 sm:scale-100 mb-1 origin-top",children:u.jsx(xd,{score:o})}),u.jsx("div",{className:"flex justify-center -mt-8 mb-4 relative z-20",children:u.jsxs("button",{onClick:()=>d(!0),className:"text-white/80 hover:text-white text-[10px] sm:text-xs font-bold uppercase tracking-[0.15em] flex items-center gap-1 bg-white/10 px-4 py-2 rounded-full backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-all shadow-lg",children:["View Breakdown ",u.jsx(Hu,{size:12})]})}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("button",{onClick:j,className:"bg-gradient-to-r from-[#FF8C00] to-[#FF7000] hover:from-[#FF7000] hover:to-[#E65C00] text-white font-black py-3 px-10 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center gap-3 text-sm sm:text-base border-2 border-white/20 uppercase tracking-widest rounded-full",children:[u.jsx(ii,{className:"w-5 h-5"})," SHARE SCORE"]})})]}),u.jsxs("div",{className:"w-full bg-white p-5 sm:p-6 shadow-[0_20px_50px_rgba(0,0,0,0.5)] border-4 border-white/50 mb-6 shrink-0 rounded-xl relative z-20",children:[u.jsx("p",{className:"text-slate-600 text-[11px] sm:text-sm font-bold text-center mb-4 leading-relaxed uppercase tracking-wide",children:"To know more, connect with our Relationship Manager."}),u.jsx("a",{href:"tel:1800209999",className:"block w-full mb-4",children:u.jsxs("button",{className:"w-full bg-[#0066B2] hover:bg-[#004C85] text-white font-black py-4 shadow-[0_4px_0_#00335C] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-sm sm:text-lg uppercase tracking-widest border-2 border-white/10 rounded-lg",children:[u.jsx(Zu,{className:"w-5 h-5"})," CALL NOW"]})}),u.jsxs("div",{className:"relative py-2 mb-4",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t-2 border-slate-100"})}),u.jsx("div",{className:"relative flex justify-center text-[10px] sm:text-xs uppercase",children:u.jsx("span",{className:"px-4 bg-white text-slate-400 font-black tracking-widest",children:"Or"})})]}),u.jsxs("button",{onClick:()=>c(!0),className:"w-full bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black py-4 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-sm sm:text-lg uppercase tracking-widest border-2 border-white/10 rounded-lg",children:[u.jsx($u,{className:"w-5 h-5"})," BOOK A SLOT"]})]}),u.jsx("div",{className:"shrink-0 text-center pb-8",children:u.jsxs("button",{onClick:i,className:"text-blue-100/60 hover:text-white text-[11px] sm:text-sm font-black uppercase tracking-[0.2em] transition-colors flex items-center justify-center gap-2 mx-auto drop-shadow-md hover:scale-105 active:scale-95",children:[u.jsx(Qu,{className:"w-4 h-4"})," RETAKE QUIZ"]})})]}),u.jsx(ie,{children:l&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:u.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white p-6 w-full max-w-sm shadow-2xl relative border-4 border-white/50 rounded-xl",children:[u.jsx("button",{onClick:()=>d(!1),className:"absolute right-4 top-4 text-slate-300 hover:text-slate-500 transition-colors bg-slate-100 p-1 rounded-full",children:u.jsx(Ue,{className:"w-5 h-5"})}),u.jsx("h3",{className:"text-[#0066B2] font-black text-center mb-6 uppercase tracking-wider text-sm",children:"Bucket Breakdown"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:yd.map(x=>{const E=$r[x],R=t[x]||0,I=Math.min(Math.round(R/ye*100),100);return u.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg flex flex-col items-center border border-slate-100 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute top-0 left-0 w-1 h-full",style:{background:E.color}}),u.jsx("div",{className:"w-6 h-6 rounded mb-1 shadow-sm",style:{background:E.bg}}),u.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wide text-center leading-tight mb-0.5 whitespace-nowrap overflow-hidden text-ellipsis w-full px-1",children:E.label}),u.jsxs("span",{className:"text-lg font-black text-slate-700",children:[I,"%"]})]},x)})})]})})}),u.jsx(ie,{children:a&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:u.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white p-6 w-full max-w-sm shadow-2xl relative border-4 border-white/50 rounded-xl",children:[u.jsx("button",{onClick:()=>c(!1),className:"absolute right-4 top-4 text-slate-300 hover:text-slate-500 transition-colors bg-slate-100 p-1 rounded-full",children:u.jsx(Ue,{className:"w-5 h-5"})}),u.jsx("h2",{className:"text-[#0066B2] font-black text-center mb-6 text-sm sm:text-base uppercase tracking-tight pt-2",children:"Book a convenient slot"}),u.jsxs("form",{onSubmit:S,className:"space-y-3 sm:space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Your Name"}),u.jsx("input",{value:h.name,onChange:x=>b("name",x.target.value),className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-xs font-bold px-3 rounded",placeholder:"Full Name"}),g.name&&u.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:g.name})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mobile Number"}),u.jsx("input",{value:h.mobile,onChange:x=>{const E=x.target.value.replace(/\D/g,"").slice(0,10);b("mobile",E)},type:"tel",className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-xs font-bold px-3 rounded",placeholder:"9876543210"}),g.mobile&&u.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:g.mobile})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Preferred Date"}),u.jsx("input",{type:"date",min:w,max:v,value:h.date,onChange:x=>b("date",x.target.value),className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-[10px] font-bold px-2 rounded"}),g.date&&u.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:g.date})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Preferred Time"}),u.jsxs("select",{value:h.time,onChange:x=>b("time",x.target.value),className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-100 text-[10px] font-bold px-2 appearance-none rounded",children:[u.jsx("option",{value:"",children:"Select"}),[...Array(12)].map((x,E)=>{const R=9+E,I=R+1,F=$=>{const de=$>=12?"PM":"AM";return`${$>12?$-12:$}:00 ${de}`},H=`${F(R)} - ${F(I)}`;return u.jsx("option",{value:H,children:H},R)})]}),g.time&&u.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:g.time})]})]}),u.jsx("button",{type:"submit",disabled:m,className:"w-full bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black py-4 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all uppercase tracking-widest text-xs mt-3 border-2 border-white/20 rounded-lg",children:m?"Confirming...":"Book a Slot"})]})]})})})]})},bd=({onRestart:e,userName:t})=>u.jsxs("div",{className:"relative w-full min-h-[100dvh] flex flex-col overflow-hidden max-w-[600px] mx-auto text-sans",style:{background:"linear-gradient(180deg, #00509E 0%, #003366 100%)"},children:[u.jsx(to,{}),u.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none bg-cover bg-center opacity-60 mix-blend-overlay",style:{backgroundImage:"linear-gradient(radial-gradient, circle at center, rgba(255,255,255,0.2) 0%, transparent 70%)"}}),u.jsx("div",{className:"relative z-50 w-full h-full flex flex-col py-8 px-4 sm:px-8 overflow-y-auto custom-scrollbar justify-center items-center",children:u.jsxs(k.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:20},className:"flex flex-col items-center justify-center w-full text-center",children:[u.jsxs(k.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-4xl sm:text-6xl md:text-7xl font-black text-white italic tracking-tight drop-shadow-xl mb-6 leading-tight uppercase",children:["Thank You ",t]}),u.jsx(k.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-base sm:text-xl md:text-2xl text-blue-100 font-bold drop-shadow-md mb-2 uppercase tracking-wide",children:"For sharing your details"}),u.jsx(k.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-sm sm:text-lg md:text-xl text-white/90 font-medium drop-shadow-md mb-12 uppercase tracking-wide",children:"Our Relationship Manager will connect with you"}),u.jsx(k.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},onClick:e,className:"bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black text-sm py-3 px-8 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all uppercase tracking-widest border-2 border-white/20 rounded-full",children:"RETAKE"})]})})]}),wd=p.memo(function(){return u.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none bg-cinematic",children:[u.jsx("div",{className:"absolute inset-0 grid-texture opacity-20"}),u.jsx(k.div,{animate:{scale:[1,1.2,1],opacity:[.15,.25,.15],rotate:[0,45,0]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-[-10%] left-[20%] w-[500px] h-[500px] bg-blue-600/10 blur-[120px] rounded-full"}),u.jsx(k.div,{animate:{scale:[1,1.3,1],opacity:[.1,.2,.1],rotate:[0,-30,0]},transition:{duration:20,repeat:1/0,ease:"linear",delay:2},className:"absolute bottom-[-10%] right-[10%] w-[400px] h-[400px] bg-teal-500/10 blur-[100px] rounded-full"}),[...Array(12)].map((t,s)=>u.jsx(k.div,{initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,opacity:0},animate:{y:[null,Math.random()*-100],opacity:[0,.3,0]},transition:{duration:5+Math.random()*5,repeat:1/0,delay:Math.random()*5},className:"absolute w-1 h-1 bg-white rounded-full blur-[1px]"},s))]})}),N={SET_ENTRY:"SET_ENTRY",SHOW_HOW_TO_PLAY:"SHOW_HOW_TO_PLAY",START_GAME:"START_GAME",TICK:"TICK",FINISH_GAME:"FINISH_GAME",SHOW_RESULT:"SHOW_RESULT",SHOW_THANK_YOU:"SHOW_THANK_YOU",EXIT_GAME:"EXIT_GAME",RESTART_GAME:"RESTART_GAME",SELECT_CELL:"SELECT_CELL",DESELECT:"DESELECT",SET_PROCESSING:"SET_PROCESSING",APPLY_MATCH:"APPLY_MATCH",APPLY_INVALID_SWAP:"APPLY_INVALID_SWAP",SET_GRID:"SET_GRID",CLEAR_EXPLOSIONS:"CLEAR_EXPLOSIONS",ADD_FLOAT:"ADD_FLOAT",REMOVE_FLOAT:"REMOVE_FLOAT",SHOW_PRAISE:"SHOW_PRAISE",HIDE_PRAISE:"HIDE_PRAISE"},so={entryDetails:null,gameStatus:M.LANDING,timeLeft:120,grid:null,selectedCell:null,explodingCells:new Set,floatingScores:[],isProcessing:!1,buckets:{GREEN:0,BLUE:0,YELLOW:0,RED:0},totalMatches:0,maxCombo:0,activeCombo:0,activePraise:null};function Td(e,t,s){const n={...e};return n[t]!==void 0&&(n[t]=ld(n[t]+s,0,ye)),n}function Sd(e,t){switch(t.type){case N.SET_ENTRY:return{...e,entryDetails:t.payload};case N.SHOW_HOW_TO_PLAY:return{...e,gameStatus:M.HOW_TO_PLAY};case N.START_GAME:{const s=md({tileTypes:Ke,maxMoves:999});return{...e,grid:s.initialGrid,buckets:{GREEN:0,BLUE:0,YELLOW:0,RED:0},timeLeft:120,totalMatches:0,maxCombo:0,activeCombo:0,selectedCell:null,explodingCells:new Set,floatingScores:[],activePraise:null,isProcessing:!1,gameStatus:M.PLAYING}}case N.TICK:{const s=Math.max(0,e.timeLeft-1);return s<=0?{...e,timeLeft:0,gameStatus:M.FINISHED,isProcessing:!1}:{...e,timeLeft:s}}case N.FINISH_GAME:return{...e,gameStatus:M.FINISHED,isProcessing:!1};case N.SHOW_RESULT:return{...e,gameStatus:M.RESULT};case N.SHOW_THANK_YOU:return{...e,gameStatus:M.THANK_YOU};case N.EXIT_GAME:return{...e,gameStatus:M.EXITED,isProcessing:!1};case N.RESTART_GAME:return{...so,entryDetails:e.entryDetails,gameStatus:e.entryDetails?M.HOW_TO_PLAY:M.LANDING};case N.SELECT_CELL:return{...e,selectedCell:t.payload};case N.DESELECT:return{...e,selectedCell:null};case N.SET_PROCESSING:return{...e,isProcessing:t.payload};case N.APPLY_MATCH:{const{matchedTypes:s,matchLen:n,comboStep:i,explodingCells:r,newGrid:o}=t.payload;let a=Q.match3;n>=5?a=Q.match5:n>=4&&(a=Q.match4);const c=(i>1?Q.comboBonus:0)+(i>2?Q.cascadeBonus:0);let l={...e.buckets};for(const d of s)l=Td(l,d,a+c);return{...e,grid:o,buckets:l,totalMatches:e.totalMatches+1,activeCombo:i,maxCombo:Math.max(e.maxCombo,i),explodingCells:new Set(r),selectedCell:null}}case N.APPLY_INVALID_SWAP:return{...e,selectedCell:null,isProcessing:!1};case N.SET_GRID:return{...e,grid:t.payload};case N.CLEAR_EXPLOSIONS:return{...e,explodingCells:new Set,isProcessing:!1};case N.ADD_FLOAT:return{...e,floatingScores:[...e.floatingScores,t.payload]};case N.REMOVE_FLOAT:return{...e,floatingScores:e.floatingScores.filter(s=>s.id!==t.payload)};case N.SHOW_PRAISE:return{...e,activePraise:t.payload};case N.HIDE_PRAISE:return{...e,activePraise:null};default:return e}}const Pd=""+new URL("swapping-DRinjgpx.wav",import.meta.url).href,Ad=""+new URL("burst_audio-BjgPWseQ.wav",import.meta.url).href;let jd=0;function Ed(){return`f-${++jd}`}const no={swap:new Audio(Pd),burst:new Audio(Ad)};Object.values(no).forEach(e=>{e.volume=.6,e.preload="auto"});const di=e=>{if(e==="swap"||e==="burst"){const t=no[e];if(t){const s=t.cloneNode();s.volume=.6,s.play().catch(()=>{})}}};function Cd(){const[e,t]=p.useReducer(Sd,so),s=p.useRef(null),n=p.useRef(!1),i=p.useRef(null),r=p.useRef(null);p.useEffect(()=>{const v=()=>{const b=window.speechSynthesis.getVoices();if(b.length>0){const P=b.find(S=>S.name.includes("Zira")||S.name.includes("Samantha")||S.name.includes("Google US English")||S.name.includes("Female"));P&&(r.current=P)}};return v(),typeof window<"u"&&window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=v),()=>{typeof window<"u"&&window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=null)}},[]);const o=p.useCallback(v=>{if(!window.speechSynthesis)return;window.speechSynthesis.cancel();const b=new SpeechSynthesisUtterance(v);if(b.rate=1.1,b.pitch=1.2,b.volume=1,r.current)b.voice=r.current;else{const S=window.speechSynthesis.getVoices().find(j=>j.name.includes("Zira")||j.name.includes("Samantha")||j.name.includes("Google US English")||j.name.includes("Female"));S&&(b.voice=S)}window.speechSynthesis.speak(b)},[]);p.useEffect(()=>(e.gameStatus===M.PLAYING&&(s.current=setInterval(()=>{t({type:N.TICK})},1e3)),()=>{s.current&&clearInterval(s.current)}),[e.gameStatus]),p.useEffect(()=>{e.gameStatus===M.PLAYING&&ad(e.buckets)&&t({type:N.FINISH_GAME})},[e.gameStatus,e.buckets]),p.useEffect(()=>{const{gameStatus:v}=e;if(v===M.FINISHED){s.current&&clearInterval(s.current);const b=setTimeout(()=>{t({type:N.SHOW_RESULT})},1500);return()=>clearTimeout(b)}if(v===M.EXITED){if(s.current&&clearInterval(s.current),!n.current&&e.entryDetails){n.current=!0;const P=ai(e.buckets);It({name:e.entryDetails.name,mobile_no:e.entryDetails.mobile,summary_dtls:`Balance Builder - Early Exit - Score: ${P}/100`,p_data_source:"BALANCE_BUILDER_LEAD"})}const b=setTimeout(()=>{t({type:N.SHOW_RESULT})},800);return()=>clearTimeout(b)}},[e.gameStatus]),p.useEffect(()=>()=>{s.current&&clearInterval(s.current),i.current&&clearTimeout(i.current)},[]);const a=p.useCallback(async(v,b)=>{t({type:N.SET_ENTRY,payload:{name:v,mobile:b}}),n.current=!1;const P=new Date;P.setDate(P.getDate()+1);const S=P.toISOString().split("T")[0];await It({name:v.trim(),mobile_no:b,param4:S,param19:"09:00 AM",summary_dtls:"Balance Builder Lead",p_data_source:"BALANCE_BUILDER_LEAD"}),t({type:N.SHOW_HOW_TO_PLAY})},[]),c=p.useCallback(()=>{t({type:N.START_GAME})},[]),l=p.useCallback((v,b)=>{if(e.isProcessing||e.gameStatus!==M.PLAYING)return;const{selectedCell:P,grid:S}=e;if(!P){t({type:N.SELECT_CELL,payload:{row:v,col:b}});return}if(P.row===v&&P.col===b){t({type:N.DESELECT});return}const{row:j,col:A}=P,x=v,E=b;if(!(Math.abs(j-x)===1&&A===E||Math.abs(A-E)===1&&j===x)){t({type:N.SELECT_CELL,payload:{row:v,col:b}});return}if(!mt(S,j,A,x,E)){t({type:N.APPLY_INVALID_SWAP});return}di("swap"),t({type:N.SET_PROCESSING,payload:!0});const F=S.map(de=>de.map(oe=>({...oe}))),H={...F[j][A]},$={...F[x][E]};F[j][A]={...$,row:j,col:A},F[x][E]={...H,row:x,col:E},d(F)},[e.isProcessing,e.gameStatus,e.selectedCell,e.grid]),d=p.useCallback(async v=>{let b=v,P=0,S=0;for(;;){const j=wt(b);if(j.size===0)break;P++;const A=j.size,x=[...Zr(b,j)];let E=Q.match3;A>=5?E=Q.match5:A>=4&&(E=Q.match4);const R=(P>1?Q.comboBonus:0)+(P>2?Q.cascadeBonus:0);S+=E+R,di("burst"),t({type:N.APPLY_MATCH,payload:{matchedTypes:x,matchLen:A,comboStep:P,explodingCells:[...j],newGrid:b}}),f(`+${E+R}`,x[0]);const I=qr(b,j),F=Kr(I);b=Yr(F,Ke,0),await new Promise(H=>setTimeout(H,450))}t({type:N.SET_GRID,payload:b}),t({type:N.CLEAR_EXPLOSIONS}),(P>=2||S>=25)&&(await new Promise(j=>setTimeout(j,100)),h())},[]),h=p.useCallback(()=>{const v=oi[Math.floor(Math.random()*oi.length)];o(v),t({type:N.SHOW_PRAISE,payload:v}),i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{t({type:N.HIDE_PRAISE})},1500)},[]),f=p.useCallback((v,b)=>{const P=Ed();t({type:N.ADD_FLOAT,payload:{id:P,value:v,x:40+Math.random()*20,y:40+Math.random()*20}}),setTimeout(()=>{t({type:N.REMOVE_FLOAT,payload:P})},800)},[]),m=p.useCallback(()=>{t({type:N.EXIT_GAME})},[]),y=p.useCallback(()=>{n.current=!1,t({type:N.RESTART_GAME})},[]),g=p.useCallback(()=>{t({type:N.SHOW_THANK_YOU})},[]),T=p.useCallback(async v=>{try{await It({name:v.name,mobile_no:v.mobile,param4:v.date,param19:v.time,summary_dtls:"Balance Builder - Slot Booking",p_data_source:"BALANCE_BUILDER_BOOKING"})}catch(b){console.error("Booking failed",b)}finally{t({type:N.SHOW_THANK_YOU})}},[]),w=ai(e.buckets);return{state:e,finalScore:w,handleEntrySubmit:a,startGame:c,handleCellTap:l,exitGame:m,restartGame:y,showThankYou:g,handleBookSlot:T}}const kd=""+new URL("BGAudio-DrFe27ij.mp3",import.meta.url).href,Nd=""+new URL("Completion_audio-DEG-zs0A.wav",import.meta.url).href,Te={initial:{opacity:0,y:12},animate:{opacity:1,y:0,transition:{duration:.35}},exit:{opacity:0,y:-12,transition:{duration:.2}}},Dd=p.memo(function(){const{state:t,finalScore:s,handleEntrySubmit:n,startGame:i,handleCellTap:r,exitGame:o,restartGame:a,handleBookSlot:c}=Cd(),{gameStatus:l,timeLeft:d,grid:h,selectedCell:f,explodingCells:m,floatingScores:y,activePraise:g,buckets:T,entryDetails:w}=t,[v,b]=p.useState(!1),P=p.useRef(null),S=p.useRef(null),[j,A]=p.useState(!1);p.useEffect(()=>{(async()=>{if(P.current)try{P.current.volume=.4,await P.current.play(),A(!0)}catch{}})()},[]),p.useEffect(()=>{(l===M.RESULT||l===M.EXITED)&&(P.current&&(P.current.pause(),P.current.currentTime=0,A(!1)),S.current&&(S.current.volume=.8,S.current.currentTime=0,S.current.play().catch(()=>{}))),(l===M.LANDING||l===M.ENTRY||l===M.PLAYING)&&(S.current&&(S.current.pause(),S.current.currentTime=0),!j&&P.current&&P.current.play().then(()=>A(!0)).catch(()=>{}))},[l]);const x=p.useCallback(()=>{!j&&P.current&&l!==M.RESULT&&l!==M.EXITED&&P.current.play().then(()=>A(!0)).catch(()=>{})},[j,l]),E=p.useCallback(()=>{x(),b(!0)},[x]),R=p.useCallback(()=>{b(!1)},[]),I=p.useCallback(async(F,H)=>{x(),await n(F,H),b(!1)},[n,x]);return u.jsxs("div",{className:"min-h-[100dvh] w-full flex flex-col items-center relative overflow-hidden text-white font-sans",onClick:x,children:[u.jsx(wd,{}),u.jsx("audio",{ref:P,src:kd,loop:!0}),u.jsx("audio",{ref:S,src:Nd}),u.jsxs(ie,{mode:"wait",children:[l===M.LANDING&&u.jsxs(k.div,{variants:Te,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full relative z-10",children:[u.jsx(ts,{onStart:E}),u.jsx(ie,{children:v&&u.jsx(Gr,{onSubmit:I,onClose:R})})]},"landing"),l===M.ENTRY&&u.jsx(k.div,{variants:Te,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full relative z-10",children:u.jsx(ts,{onStart:()=>{}})},"entry-transition"),l===M.HOW_TO_PLAY&&u.jsx(k.div,{variants:Te,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full relative z-10",children:u.jsx(Wr,{onStart:i})},"htp"),l===M.PLAYING&&u.jsxs(k.div,{variants:Te,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full flex flex-col items-center justify-between pb-4 relative z-10",children:[u.jsx(Hr,{timeLeft:d,onExit:o}),u.jsx("div",{className:"flex-1 w-full flex flex-col items-center justify-center min-h-0",children:u.jsx(Qr,{grid:h,selectedCell:f,explodingCells:m,floatingScores:y,activePraise:g,onCellTap:r})}),u.jsx(eo,{buckets:T})]},"playing"),l===M.FINISHED&&u.jsx(k.div,{variants:Te,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full flex items-center justify-center relative z-10",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-t-bb-gold border-white/10 rounded-full animate-spin"}),u.jsx(k.div,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-white/60 font-game text-xl tracking-wider uppercase",children:"Calculated..."})]})},"finished"),l===M.THANK_YOU&&u.jsx(k.div,{variants:Te,initial:"initial",animate:"animate",exit:"exit",className:"flex-1 w-full relative z-10",children:u.jsx(bd,{userName:w==null?void 0:w.name,onRestart:a})},"thankyou")]}),(l===M.RESULT||l===M.EXITED)&&u.jsx("div",{className:"fixed inset-0 z-[1000] w-full h-full bg-[#003366]",children:u.jsx(vd,{finalScore:s,buckets:T,userName:w==null?void 0:w.name,userPhone:w==null?void 0:w.mobile,onRestart:a,onBookSlot:c})})]})});export{Dd as default};
