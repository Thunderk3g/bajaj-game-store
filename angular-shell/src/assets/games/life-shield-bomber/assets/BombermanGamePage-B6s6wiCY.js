import{r as m,j as u}from"./index-C6vIewGz.js";function Yo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const Nn=m.createContext({});function Mn(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bi=typeof window<"u",Fi=Bi?m.useLayoutEffect:m.useEffect,At=m.createContext(null);function Rn(e,t){e.indexOf(t)===-1&&e.push(t)}function vt(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const xe=(e,t,n)=>n>t?t:n<e?e:n;let En=()=>{};const be={},Oi=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function _i(e){return typeof e=="object"&&e!==null}const $i=e=>/^0[^.\s]+$/u.test(e);function Wi(e){let t;return()=>(t===void 0&&(t=e()),t)}const ue=e=>e,qo=(e,t)=>n=>t(e(n)),rt=(...e)=>e.reduce(qo),Qe=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Dn{constructor(){this.subscriptions=[]}add(t){return Rn(this.subscriptions,t),()=>vt(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fe=e=>e*1e3,ce=e=>e/1e3;function Ui(e,t){return t?e*(1e3/t):0}const zi=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Xo=1e-7,Zo=12;function Jo(e,t,n,s,i){let o,r,a=0;do r=t+(n-t)/2,o=zi(r,s,i)-e,o>0?n=r:t=r;while(Math.abs(o)>Xo&&++a<Zo);return r}function ot(e,t,n,s){if(e===t&&n===s)return ue;const i=o=>Jo(o,0,1,e,n);return o=>o===0||o===1?o:zi(i(o),t,s)}const Gi=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Hi=e=>t=>1-e(1-t),Ki=ot(.33,1.53,.69,.99),Vn=Hi(Ki),Yi=Gi(Vn),qi=e=>(e*=2)<1?.5*Vn(e):.5*(2-Math.pow(2,-10*(e-1))),Ln=e=>1-Math.sin(Math.acos(e)),Xi=Hi(Ln),Zi=Gi(Ln),Qo=ot(.42,0,1,1),ea=ot(0,0,.58,1),Ji=ot(.42,0,.58,1),ta=e=>Array.isArray(e)&&typeof e[0]!="number",Qi=e=>Array.isArray(e)&&typeof e[0]=="number",na={linear:ue,easeIn:Qo,easeInOut:Ji,easeOut:ea,circIn:Ln,circInOut:Zi,circOut:Xi,backIn:Vn,backInOut:Yi,backOut:Ki,anticipate:qi},sa=e=>typeof e=="string",ls=e=>{if(Qi(e)){En(e.length===4);const[t,n,s,i]=e;return ot(t,n,s,i)}else if(sa(e))return na[e];return e},ut=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ia(e,t){let n=new Set,s=new Set,i=!1,o=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){r.has(c)&&(d.schedule(c),e()),c(a)}const d={schedule:(c,h=!1,f=!1)=>{const g=f&&i?n:s;return h&&r.add(c),g.has(c)||g.add(c),c},cancel:c=>{s.delete(c),r.delete(c)},process:c=>{if(a=c,i){o=!0;return}i=!0,[n,s]=[s,n],n.forEach(l),n.clear(),i=!1,o&&(o=!1,d.process(c))}};return d}const ra=40;function er(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,r=ut.reduce((v,T)=>(v[T]=ia(o),v),{}),{setup:a,read:l,resolveKeyframes:d,preUpdate:c,update:h,preRender:f,render:p,postRender:g}=r,b=()=>{const v=be.useManualTiming?i.timestamp:performance.now();n=!1,be.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(v-i.timestamp,ra),1)),i.timestamp=v,i.isProcessing=!0,a.process(i),l.process(i),d.process(i),c.process(i),h.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(b))},y=()=>{n=!0,s=!0,i.isProcessing||e(b)};return{schedule:ut.reduce((v,T)=>{const S=r[T];return v[T]=(N,P=!1,k=!1)=>(n||y(),S.schedule(N,P,k)),v},{}),cancel:v=>{for(let T=0;T<ut.length;T++)r[ut[T]].cancel(v)},state:i,steps:r}}const{schedule:L,cancel:Se,state:J,steps:It}=er(typeof requestAnimationFrame<"u"?requestAnimationFrame:ue,!0);let mt;function oa(){mt=void 0}const se={now:()=>(mt===void 0&&se.set(J.isProcessing||be.useManualTiming?J.timestamp:performance.now()),mt),set:e=>{mt=e,queueMicrotask(oa)}},tr=e=>t=>typeof t=="string"&&t.startsWith(e),nr=tr("--"),aa=tr("var(--"),In=e=>aa(e)?la.test(e.split("/*")[0].trim()):!1,la=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function cs(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const _e={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},et={..._e,transform:e=>xe(0,1,e)},dt={..._e,default:1},Ye=e=>Math.round(e*1e5)/1e5,Bn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ca(e){return e==null}const ua=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fn=(e,t)=>n=>!!(typeof n=="string"&&ua.test(n)&&n.startsWith(e)||t&&!ca(n)&&Object.prototype.hasOwnProperty.call(n,t)),sr=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,o,r,a]=s.match(Bn);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(r),alpha:a!==void 0?parseFloat(a):1}},da=e=>xe(0,255,e),Bt={..._e,transform:e=>Math.round(da(e))},Ae={test:Fn("rgb","red"),parse:sr("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Bt.transform(e)+", "+Bt.transform(t)+", "+Bt.transform(n)+", "+Ye(et.transform(s))+")"};function ha(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const rn={test:Fn("#"),parse:ha,transform:Ae.transform},at=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ve=at("deg"),ye=at("%"),j=at("px"),fa=at("vh"),ma=at("vw"),us={...ye,parse:e=>ye.parse(e)/100,transform:e=>ye.transform(e*100)},De={test:Fn("hsl","hue"),parse:sr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+ye.transform(Ye(t))+", "+ye.transform(Ye(n))+", "+Ye(et.transform(s))+")"},H={test:e=>Ae.test(e)||rn.test(e)||De.test(e),parse:e=>Ae.test(e)?Ae.parse(e):De.test(e)?De.parse(e):rn.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ae.transform(e):De.transform(e),getAnimatableNone:e=>{const t=H.parse(e);return t.alpha=0,H.transform(t)}},pa=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ga(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Bn))==null?void 0:t.length)||0)+(((n=e.match(pa))==null?void 0:n.length)||0)>0}const ir="number",rr="color",ya="var",xa="var(",ds="${}",ba=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tt(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(ba,l=>(H.test(l)?(s.color.push(o),i.push(rr),n.push(H.parse(l))):l.startsWith(xa)?(s.var.push(o),i.push(ya),n.push(l)):(s.number.push(o),i.push(ir),n.push(parseFloat(l))),++o,ds)).split(ds);return{values:n,split:a,indexes:s,types:i}}function or(e){return tt(e).values}function ar(e){const{split:t,types:n}=tt(e),s=t.length;return i=>{let o="";for(let r=0;r<s;r++)if(o+=t[r],i[r]!==void 0){const a=n[r];a===ir?o+=Ye(i[r]):a===rr?o+=H.transform(i[r]):o+=i[r]}return o}}const va=e=>typeof e=="number"?0:H.test(e)?H.getAnimatableNone(e):e;function wa(e){const t=or(e);return ar(e)(t.map(va))}const me={test:ga,parse:or,createTransformer:ar,getAnimatableNone:wa};function Ft(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ta({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,o=0,r=0;if(!t)i=o=r=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Ft(l,a,e+1/3),o=Ft(l,a,e),r=Ft(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:s}}function wt(e,t){return n=>n>0?t:e}const B=(e,t,n)=>e+(t-e)*n,Ot=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},Sa=[rn,Ae,De],ka=e=>Sa.find(t=>t.test(e));function hs(e){const t=ka(e);if(!t)return!1;let n=t.parse(e);return t===De&&(n=Ta(n)),n}const fs=(e,t)=>{const n=hs(e),s=hs(t);if(!n||!s)return wt(e,t);const i={...n};return o=>(i.red=Ot(n.red,s.red,o),i.green=Ot(n.green,s.green,o),i.blue=Ot(n.blue,s.blue,o),i.alpha=B(n.alpha,s.alpha,o),Ae.transform(i))},on=new Set(["none","hidden"]);function Pa(e,t){return on.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function ja(e,t){return n=>B(e,t,n)}function On(e){return typeof e=="number"?ja:typeof e=="string"?In(e)?wt:H.test(e)?fs:Na:Array.isArray(e)?lr:typeof e=="object"?H.test(e)?fs:Ca:wt}function lr(e,t){const n=[...e],s=n.length,i=e.map((o,r)=>On(o)(o,t[r]));return o=>{for(let r=0;r<s;r++)n[r]=i[r](o);return n}}function Ca(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=On(e[i])(e[i],t[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}}function Aa(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],r=e.indexes[o][s[o]],a=e.values[r]??0;n[i]=a,s[o]++}return n}const Na=(e,t)=>{const n=me.createTransformer(t),s=tt(e),i=tt(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?on.has(e)&&!i.values.length||on.has(t)&&!s.values.length?Pa(e,t):rt(lr(Aa(s,i),i.values),n):wt(e,t)};function cr(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?B(e,t,n):On(e)(e,t)}const Ma=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>L.update(t,n),stop:()=>Se(t),now:()=>J.isProcessing?J.timestamp:se.now()}},ur=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)s+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Tt=2e4;function _n(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Tt;)t+=n,s=e.next(t);return t>=Tt?1/0:t}function Ra(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(_n(s),Tt);return{type:"keyframes",ease:o=>s.next(i*o).value/t,duration:ce(i)}}const Ea=5;function dr(e,t,n){const s=Math.max(t-Ea,0);return Ui(n-e(s),t-s)}const W={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_t=.001;function Da({duration:e=W.duration,bounce:t=W.bounce,velocity:n=W.velocity,mass:s=W.mass}){let i,o,r=1-t;r=xe(W.minDamping,W.maxDamping,r),e=xe(W.minDuration,W.maxDuration,ce(e)),r<1?(i=d=>{const c=d*r,h=c*e,f=c-n,p=an(d,r),g=Math.exp(-h);return _t-f/p*g},o=d=>{const h=d*r*e,f=h*n+n,p=Math.pow(r,2)*Math.pow(d,2)*e,g=Math.exp(-h),b=an(Math.pow(d,2),r);return(-i(d)+_t>0?-1:1)*((f-p)*g)/b}):(i=d=>{const c=Math.exp(-d*e),h=(d-n)*e+1;return-_t+c*h},o=d=>{const c=Math.exp(-d*e),h=(n-d)*(e*e);return c*h});const a=5/e,l=La(i,o,a);if(e=fe(e),isNaN(l))return{stiffness:W.stiffness,damping:W.damping,duration:e};{const d=Math.pow(l,2)*s;return{stiffness:d,damping:r*2*Math.sqrt(s*d),duration:e}}}const Va=12;function La(e,t,n){let s=n;for(let i=1;i<Va;i++)s=s-e(s)/t(s);return s}function an(e,t){return e*Math.sqrt(1-t*t)}const Ia=["duration","bounce"],Ba=["stiffness","damping","mass"];function ms(e,t){return t.some(n=>e[n]!==void 0)}function Fa(e){let t={velocity:W.velocity,stiffness:W.stiffness,damping:W.damping,mass:W.mass,isResolvedFromDuration:!1,...e};if(!ms(e,Ba)&&ms(e,Ia))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,o=2*xe(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:W.mass,stiffness:i,damping:o}}else{const n=Da(e);t={...t,...n,mass:W.mass},t.isResolvedFromDuration=!0}return t}function St(e=W.visualDuration,t=W.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const o=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:d,mass:c,duration:h,velocity:f,isResolvedFromDuration:p}=Fa({...n,velocity:-ce(n.velocity||0)}),g=f||0,b=d/(2*Math.sqrt(l*c)),y=r-o,x=ce(Math.sqrt(l/c)),w=Math.abs(y)<5;s||(s=w?W.restSpeed.granular:W.restSpeed.default),i||(i=w?W.restDelta.granular:W.restDelta.default);let v;if(b<1){const S=an(x,b);v=N=>{const P=Math.exp(-b*x*N);return r-P*((g+b*x*y)/S*Math.sin(S*N)+y*Math.cos(S*N))}}else if(b===1)v=S=>r-Math.exp(-x*S)*(y+(g+x*y)*S);else{const S=x*Math.sqrt(b*b-1);v=N=>{const P=Math.exp(-b*x*N),k=Math.min(S*N,300);return r-P*((g+b*x*y)*Math.sinh(k)+S*y*Math.cosh(k))/S}}const T={calculatedDuration:p&&h||null,next:S=>{const N=v(S);if(p)a.done=S>=h;else{let P=S===0?g:0;b<1&&(P=S===0?fe(g):dr(v,S,N));const k=Math.abs(P)<=s,C=Math.abs(r-N)<=i;a.done=k&&C}return a.value=a.done?r:N,a},toString:()=>{const S=Math.min(_n(T),Tt),N=ur(P=>T.next(S*P).value,S,30);return S+"ms "+N},toTransition:()=>{}};return T}St.applyToOptions=e=>{const t=Ra(e,100,St);return e.ease=t.ease,e.duration=fe(t.duration),e.type="keyframes",e};function ln({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:a,max:l,restDelta:d=.5,restSpeed:c}){const h=e[0],f={done:!1,value:h},p=k=>a!==void 0&&k<a||l!==void 0&&k>l,g=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let b=n*t;const y=h+b,x=r===void 0?y:r(y);x!==y&&(b=x-h);const w=k=>-b*Math.exp(-k/s),v=k=>x+w(k),T=k=>{const C=w(k),R=v(k);f.done=Math.abs(C)<=d,f.value=f.done?x:R};let S,N;const P=k=>{p(f.value)&&(S=k,N=St({keyframes:[f.value,g(f.value)],velocity:dr(v,k,f.value),damping:i,stiffness:o,restDelta:d,restSpeed:c}))};return P(0),{calculatedDuration:null,next:k=>{let C=!1;return!N&&S===void 0&&(C=!0,T(k),P(k)),S!==void 0&&k>=S?N.next(k-S):(!C&&T(k),f)}}}function Oa(e,t,n){const s=[],i=n||be.mix||cr,o=e.length-1;for(let r=0;r<o;r++){let a=i(e[r],e[r+1]);if(t){const l=Array.isArray(t)?t[r]||ue:t;a=rt(l,a)}s.push(a)}return s}function _a(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const o=e.length;if(En(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Oa(t,s,i),l=a.length,d=c=>{if(r&&c<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(c<e[h+1]);h++);const f=Qe(e[h],e[h+1],c);return a[h](f)};return n?c=>d(xe(e[0],e[o-1],c)):d}function $a(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=Qe(0,t,s);e.push(B(n,1,i))}}function Wa(e){const t=[0];return $a(t,e.length-1),t}function Ua(e,t){return e.map(n=>n*t)}function za(e,t){return e.map(()=>t||Ji).splice(0,e.length-1)}function qe({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=ta(s)?s.map(ls):ls(s),o={done:!1,value:t[0]},r=Ua(n&&n.length===t.length?n:Wa(t),e),a=_a(r,t,{ease:Array.isArray(i)?i:za(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const Ga=e=>e!==null;function $n(e,{repeat:t,repeatType:n="loop"},s,i=1){const o=e.filter(Ga),a=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!a||s===void 0?o[a]:s}const Ha={decay:ln,inertia:ln,tween:qe,keyframes:qe,spring:St};function hr(e){typeof e.type=="string"&&(e.type=Ha[e.type])}class Wn{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Ka=e=>e/100;class Un extends Wn{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==se.now()&&this.tick(se.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hr(t);const{type:n=qe,repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=t;let{keyframes:a}=t;const l=n||qe;l!==qe&&typeof a[0]!="number"&&(this.mixKeyframes=rt(Ka,cr(a[0],a[1])),a=[0,100]);const d=l({...t,keyframes:a});o==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-r})),d.calculatedDuration===null&&(d.calculatedDuration=_n(d));const{calculatedDuration:c}=d;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:o,mirroredGenerator:r,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:c,repeat:h,repeatType:f,repeatDelay:p,type:g,onUpdate:b,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-d*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?x<0:x>i;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let v=this.currentTime,T=s;if(h){const k=Math.min(this.currentTime,i)/a;let C=Math.floor(k),R=k%1;!R&&k>=1&&(R=1),R===1&&C--,C=Math.min(C,h+1),!!(C%2)&&(f==="reverse"?(R=1-R,p&&(R-=p/a)):f==="mirror"&&(T=r)),v=xe(0,1,R)*a}const S=w?{done:!1,value:c[0]}:T.next(v);o&&(S.value=o(S.value));let{done:N}=S;!w&&l!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return P&&g!==ln&&(S.value=$n(c,this.options,y,this.speed)),b&&b(S.value),P&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return ce(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ce(t)}get time(){return ce(this.currentTime)}set time(t){var n;t=fe(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(se.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ce(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:t=Ma,startTime:n}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),(o=(i=this.options).onPlay)==null||o.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(se.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Ya(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ne=e=>e*180/Math.PI,cn=e=>{const t=Ne(Math.atan2(e[1],e[0]));return un(t)},qa={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:cn,rotateZ:cn,skewX:e=>Ne(Math.atan(e[1])),skewY:e=>Ne(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},un=e=>(e=e%360,e<0&&(e+=360),e),ps=cn,gs=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ys=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Xa={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gs,scaleY:ys,scale:e=>(gs(e)+ys(e))/2,rotateX:e=>un(Ne(Math.atan2(e[6],e[5]))),rotateY:e=>un(Ne(Math.atan2(-e[2],e[0]))),rotateZ:ps,rotate:ps,skewX:e=>Ne(Math.atan(e[4])),skewY:e=>Ne(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function dn(e){return e.includes("scale")?1:0}function hn(e,t){if(!e||e==="none")return dn(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=Xa,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=qa,i=a}if(!i)return dn(t);const o=s[t],r=i[1].split(",").map(Ja);return typeof o=="function"?o(r):r[o]}const Za=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return hn(n,t)};function Ja(e){return parseFloat(e.trim())}const $e=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],We=new Set($e),xs=e=>e===_e||e===j,Qa=new Set(["x","y","z"]),el=$e.filter(e=>!Qa.has(e));function tl(e){const t=[];return el.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Te={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>hn(t,"x"),y:(e,{transform:t})=>hn(t,"y")};Te.translateX=Te.x;Te.translateY=Te.y;const Me=new Set;let fn=!1,mn=!1,pn=!1;function fr(){if(mn){const e=Array.from(Me).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=tl(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([o,r])=>{var a;(a=s.getValue(o))==null||a.set(r)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}mn=!1,fn=!1,Me.forEach(e=>e.complete(pn)),Me.clear()}function mr(){Me.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(mn=!0)})}function nl(){pn=!0,mr(),fr(),pn=!1}class zn{constructor(t,n,s,i,o,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(Me.add(this),fn||(fn=!0,L.read(mr),L.resolveKeyframes(fr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),r=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&n){const a=s.readValue(n,r);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=r),i&&o===void 0&&i.set(t[0])}Ya(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Me.delete(this)}cancel(){this.state==="scheduled"&&(Me.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sl=e=>e.startsWith("--");function il(e,t,n){sl(t)?e.style.setProperty(t,n):e.style[t]=n}const rl={};function pr(e,t){const n=Wi(e);return()=>rl[t]??n()}const ol=pr(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),gr=pr(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ke=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,bs={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ke([0,.65,.55,1]),circOut:Ke([.55,0,1,.45]),backIn:Ke([.31,.01,.66,-.59]),backOut:Ke([.33,1.53,.69,.99])};function yr(e,t){if(e)return typeof e=="function"?gr()?ur(e,t):"ease-out":Qi(e)?Ke(e):Array.isArray(e)?e.map(n=>yr(n,t)||bs.easeOut):bs[e]}function al(e,t,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:a="easeOut",times:l}={},d=void 0){const c={[t]:n};l&&(c.offset=l);const h=yr(a,i);Array.isArray(h)&&(c.easing=h);const f={delay:s,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),e.animate(c,f)}function xr(e){return typeof e=="function"&&"applyToOptions"in e}function ll({type:e,...t}){return xr(e)&&gr()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class br extends Wn{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:o,allowFlatten:r=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!o,this.allowFlatten=r,this.options=t,En(typeof t.type!="string");const d=ll(t);this.animation=al(n,s,i,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const c=$n(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):il(n,s,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s,i;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((i=(s=this.animation).commitStyles)==null||i.call(s))}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return ce(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ce(t)}get time(){return ce(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=fe(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&ol()?(this.animation.timeline=t,ue):n(this)}}const vr={anticipate:qi,backInOut:Yi,circInOut:Zi};function cl(e){return e in vr}function ul(e){typeof e.ease=="string"&&cl(e.ease)&&(e.ease=vr[e.ease])}const $t=10;class dl extends br{constructor(t){ul(t),hr(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:o,...r}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Un({...r,autoplay:!1}),l=Math.max($t,se.now()-this.startTime),d=xe(0,$t,l-$t);n.setWithVelocity(a.sample(Math.max(0,l-d)).value,a.sample(l).value,d),a.stop()}}const vs=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(me.test(e)||e==="0")&&!e.startsWith("url("));function hl(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function fl(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],r=vs(i,t),a=vs(o,t);return!r||!a?!1:hl(e)||(n==="spring"||xr(n))&&s}function gn(e){e.duration=0,e.type="keyframes"}const ml=new Set(["opacity","clipPath","filter","transform"]),pl=Wi(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gl(e){var c;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:o,type:r}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:d}=t.owner.getProps();return pl()&&n&&ml.has(n)&&(n!=="transform"||!d)&&!l&&!s&&i!=="mirror"&&o!==0&&r!=="inertia"}const yl=40;class xl extends Wn{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:r="loop",keyframes:a,name:l,motionValue:d,element:c,...h}){var g;super(),this.stop=()=>{var b,y;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=se.now();const f={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:o,repeatType:r,name:l,motionValue:d,element:c,...h},p=(c==null?void 0:c.KeyframeResolver)||zn;this.keyframeResolver=new p(a,(b,y,x)=>this.onKeyframesResolved(b,y,f,!x),l,d,c),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,s,i){var y,x;this.keyframeResolver=void 0;const{name:o,type:r,velocity:a,delay:l,isHandoff:d,onUpdate:c}=s;this.resolvedAt=se.now(),fl(t,o,r,a)||((be.instantAnimations||!l)&&(c==null||c($n(t,s,n))),t[0]=t[t.length-1],gn(s),s.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>yl?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},p=!d&&gl(f),g=(x=(y=f.motionValue)==null?void 0:y.owner)==null?void 0:x.current,b=p?new dl({...f,element:g}):new Un(f);b.finished.then(()=>{this.notifyFinished()}).catch(ue),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),nl()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function wr(e,t,n,s=0,i=1){const o=Array.from(e).sort((d,c)=>d.sortNodePosition(c)).indexOf(t),r=e.size,a=(r-1)*s;return typeof n=="function"?n(o,r):i===1?o*s:a-o*s}const bl=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vl(e){const t=bl.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function Tr(e,t,n=1){const[s,i]=vl(e);if(!s)return;const o=window.getComputedStyle(t).getPropertyValue(s);if(o){const r=o.trim();return Oi(r)?parseFloat(r):r}return In(i)?Tr(i,t,n+1):i}const wl={type:"spring",stiffness:500,damping:25,restSpeed:10},Tl=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Sl={type:"keyframes",duration:.8},kl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Pl=(e,{keyframes:t})=>t.length>2?Sl:We.has(e)?e.startsWith("scale")?Tl(t[1]):wl:kl,jl=e=>e!==null;function Cl(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(jl),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[o]}function Sr(e,t){if(e!=null&&e.inherit&&t){const{inherit:n,...s}=e;return{...t,...s}}return e}function Gn(e,t){const n=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return n!==e?Sr(n,e):n}function Al({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:a,from:l,elapsed:d,...c}){return!!Object.keys(c).length}const Hn=(e,t,n,s={},i,o)=>r=>{const a=Gn(s,e)||{},l=a.delay||s.delay||0;let{elapsed:d=0}=s;d=d-fe(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-d,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{r(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};Al(a)||Object.assign(c,Pl(e,c)),c.duration&&(c.duration=fe(c.duration)),c.repeatDelay&&(c.repeatDelay=fe(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(gn(c),c.delay===0&&(h=!0)),(be.instantAnimations||be.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(h=!0,gn(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,h&&!o&&t.get()!==void 0){const f=Cl(c.keyframes,a);if(f!==void 0){L.update(()=>{c.onUpdate(f),c.onComplete()});return}}return a.isSync?new Un(c):new xl(c)};function ws(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Kn(e,t,n,s){if(typeof t=="function"){const[i,o]=ws(s);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=ws(s);t=t(n!==void 0?n:e.custom,i,o)}return t}function Fe(e,t,n){const s=e.getProps();return Kn(s,t,n!==void 0?n:s.custom,e)}const kr=new Set(["width","height","top","left","right","bottom",...$e]),Ts=30,Nl=e=>!isNaN(parseFloat(e));class Ml{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var o;const i=se.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=se.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Nl(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Dn);const s=this.events[t].add(n);return t==="change"?()=>{s(),L.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=se.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ts)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ts);return Ui(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oe(e,t){return new Ml(e,t)}const yn=e=>Array.isArray(e);function Rl(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Oe(n))}function El(e){return yn(e)?e[e.length-1]||0:e}function Dl(e,t){const n=Fe(e,t);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const r in o){const a=El(o[r]);Rl(e,r,a)}}const ne=e=>!!(e&&e.getVelocity);function Vl(e){return!!(ne(e)&&e.add)}function xn(e,t){const n=e.getValue("willChange");if(Vl(n))return n.add(t);if(!n&&be.WillChange){const s=new be.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function Yn(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Ll="framerAppearId",Pr="data-"+Yn(Ll);function jr(e){return e.props[Pr]}function Il({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Cr(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o,transitionEnd:r,...a}=t;const l=e.getDefaultTransition();o=o?Sr(o,l):l;const d=o==null?void 0:o.reduceMotion;s&&(o=s);const c=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const p=e.getValue(f,e.latestValues[f]??null),g=a[f];if(g===void 0||h&&Il(h,f))continue;const b={delay:n,...Gn(o||{},f)},y=p.get();if(y!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===y&&!b.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const T=jr(e);if(T){const S=window.MotionHandoffAnimation(T,f,L);S!==null&&(b.startTime=S,x=!0)}}xn(e,f);const w=d??e.shouldReduceMotion;p.start(Hn(f,p,g,w&&kr.has(f)?{type:!1}:b,e,x));const v=p.animation;v&&c.push(v)}if(r){const f=()=>L.update(()=>{r&&Dl(e,r)});c.length?Promise.all(c).then(f):f()}return c}function bn(e,t,n={}){var l;const s=Fe(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Cr(e,s,n)):()=>Promise.resolve(),r=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=i;return Bl(e,t,d,c,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[d,c]=a==="beforeChildren"?[o,r]:[r,o];return d().then(()=>c())}else return Promise.all([o(),r(n.delay)])}function Bl(e,t,n=0,s=0,i=0,o=1,r){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(bn(l,t,{...r,delay:n+(typeof s=="function"?0:s)+wr(e.variantChildren,l,s,i,o)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function Fl(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(o=>bn(e,o,n));s=Promise.all(i)}else if(typeof t=="string")s=bn(e,t,n);else{const i=typeof t=="function"?Fe(e,t,n.custom):t;s=Promise.all(Cr(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const Ol={test:e=>e==="auto",parse:e=>e},Ar=e=>t=>t.test(e),Nr=[_e,j,ye,ve,ma,fa,Ol],Ss=e=>Nr.find(Ar(e));function _l(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$i(e):!0}const $l=new Set(["brightness","contrast","saturate","opacity"]);function Wl(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Bn)||[];if(!s)return e;const i=n.replace(s,"");let o=$l.has(t)?1:0;return s!==n&&(o*=100),t+"("+o+i+")"}const Ul=/\b([a-z-]*)\(.*?\)/gu,vn={...me,getAnimatableNone:e=>{const t=e.match(Ul);return t?t.map(Wl).join(" "):e}},wn={...me,getAnimatableNone:e=>{const t=me.parse(e);return me.createTransformer(e)(t.map(s=>typeof s=="number"?0:typeof s=="object"?{...s,alpha:1}:s))}},ks={..._e,transform:Math.round},zl={rotate:ve,rotateX:ve,rotateY:ve,rotateZ:ve,scale:dt,scaleX:dt,scaleY:dt,scaleZ:dt,skew:ve,skewX:ve,skewY:ve,distance:j,translateX:j,translateY:j,translateZ:j,x:j,y:j,z:j,perspective:j,transformPerspective:j,opacity:et,originX:us,originY:us,originZ:j},qn={borderWidth:j,borderTopWidth:j,borderRightWidth:j,borderBottomWidth:j,borderLeftWidth:j,borderRadius:j,borderTopLeftRadius:j,borderTopRightRadius:j,borderBottomRightRadius:j,borderBottomLeftRadius:j,width:j,maxWidth:j,height:j,maxHeight:j,top:j,right:j,bottom:j,left:j,inset:j,insetBlock:j,insetBlockStart:j,insetBlockEnd:j,insetInline:j,insetInlineStart:j,insetInlineEnd:j,padding:j,paddingTop:j,paddingRight:j,paddingBottom:j,paddingLeft:j,paddingBlock:j,paddingBlockStart:j,paddingBlockEnd:j,paddingInline:j,paddingInlineStart:j,paddingInlineEnd:j,margin:j,marginTop:j,marginRight:j,marginBottom:j,marginLeft:j,marginBlock:j,marginBlockStart:j,marginBlockEnd:j,marginInline:j,marginInlineStart:j,marginInlineEnd:j,fontSize:j,backgroundPositionX:j,backgroundPositionY:j,...zl,zIndex:ks,fillOpacity:et,strokeOpacity:et,numOctaves:ks},Gl={...qn,color:H,backgroundColor:H,outlineColor:H,fill:H,stroke:H,borderColor:H,borderTopColor:H,borderRightColor:H,borderBottomColor:H,borderLeftColor:H,filter:vn,WebkitFilter:vn,mask:wn,WebkitMask:wn},Mr=e=>Gl[e],Hl=new Set([vn,wn]);function Rr(e,t){let n=Mr(e);return Hl.has(n)||(n=me),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Kl=new Set(["auto","none","0"]);function Yl(e,t,n){let s=0,i;for(;s<e.length&&!i;){const o=e[s];typeof o=="string"&&!Kl.has(o)&&tt(o).values.length&&(i=e[s]),s++}if(i&&n)for(const o of t)e[o]=Rr(n,i)}class ql extends zn{constructor(t,n,s,i,o){super(t,n,s,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let h=t[c];if(typeof h=="string"&&(h=h.trim(),In(h))){const f=Tr(h,n.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!kr.has(s)||t.length!==2)return;const[i,o]=t,r=Ss(i),a=Ss(o),l=cs(i),d=cs(o);if(l!==d&&Te[s]){this.needsMeasurement=!0;return}if(r!==a)if(xs(r)&&xs(a))for(let c=0;c<t.length;c++){const h=t[c];typeof h=="string"&&(t[c]=parseFloat(h))}else Te[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||_l(t[i]))&&s.push(i);s.length&&Yl(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Te[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,r=s[o];s[o]=Te[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,d])=>{t.getValue(l).set(d)}),this.resolveNoneKeyframes()}}const Xl=new Set(["opacity","clipPath","filter","transform"]);function Er(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(s=>s!=null)}const Dr=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Tn(e){return _i(e)&&"offsetHeight"in e}const{schedule:Xn}=er(queueMicrotask,!1),he={x:!1,y:!1};function Vr(){return he.x||he.y}function Zl(e){return e==="x"||e==="y"?he[e]?null:(he[e]=!0,()=>{he[e]=!1}):he.x||he.y?null:(he.x=he.y=!0,()=>{he.x=he.y=!1})}function Lr(e,t){const n=Er(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function Jl(e){return!(e.pointerType==="touch"||Vr())}function Ql(e,t,n={}){const[s,i,o]=Lr(e,n);return s.forEach(r=>{let a=!1,l=!1,d;const c=()=>{r.removeEventListener("pointerleave",g)},h=y=>{d&&(d(y),d=void 0),c()},f=y=>{a=!1,window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",f),l&&(l=!1,h(y))},p=()=>{a=!0,window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",f,i)},g=y=>{if(y.pointerType!=="touch"){if(a){l=!0;return}h(y)}},b=y=>{if(!Jl(y))return;l=!1;const x=t(r,y);typeof x=="function"&&(d=x,r.addEventListener("pointerleave",g,i))};r.addEventListener("pointerenter",b,i),r.addEventListener("pointerdown",p,i)}),o}const Ir=(e,t)=>t?e===t?!0:Ir(e,t.parentElement):!1,Zn=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ec=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tc(e){return ec.has(e.tagName)||e.isContentEditable===!0}const nc=new Set(["INPUT","SELECT","TEXTAREA"]);function sc(e){return nc.has(e.tagName)||e.isContentEditable===!0}const pt=new WeakSet;function Ps(e){return t=>{t.key==="Enter"&&e(t)}}function Wt(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ic=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Ps(()=>{if(pt.has(n))return;Wt(n,"down");const i=Ps(()=>{Wt(n,"up")}),o=()=>Wt(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function js(e){return Zn(e)&&!Vr()}const Cs=new WeakSet;function rc(e,t,n={}){const[s,i,o]=Lr(e,n),r=a=>{const l=a.currentTarget;if(!js(a)||Cs.has(a))return;pt.add(l),n.stopPropagation&&Cs.add(a);const d=t(l,a),c=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),pt.has(l)&&pt.delete(l),js(p)&&typeof d=="function"&&d(p,{success:g})},h=p=>{c(p,l===window||l===document||n.useGlobalTarget||Ir(l,p.target))},f=p=>{c(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",r,i),Tn(a)&&(a.addEventListener("focus",d=>ic(d,i)),!tc(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function Jn(e){return _i(e)&&"ownerSVGElement"in e}const gt=new WeakMap;let we;const Br=(e,t,n)=>(s,i)=>i&&i[0]?i[0][e+"Size"]:Jn(s)&&"getBBox"in s?s.getBBox()[t]:s[n],oc=Br("inline","width","offsetWidth"),ac=Br("block","height","offsetHeight");function lc({target:e,borderBoxSize:t}){var n;(n=gt.get(e))==null||n.forEach(s=>{s(e,{get width(){return oc(e,t)},get height(){return ac(e,t)}})})}function cc(e){e.forEach(lc)}function uc(){typeof ResizeObserver>"u"||(we=new ResizeObserver(cc))}function dc(e,t){we||uc();const n=Er(e);return n.forEach(s=>{let i=gt.get(s);i||(i=new Set,gt.set(s,i)),i.add(t),we==null||we.observe(s)}),()=>{n.forEach(s=>{const i=gt.get(s);i==null||i.delete(t),i!=null&&i.size||we==null||we.unobserve(s)})}}const yt=new Set;let Ve;function hc(){Ve=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};yt.forEach(t=>t(e))},window.addEventListener("resize",Ve)}function fc(e){return yt.add(e),Ve||hc(),()=>{yt.delete(e),!yt.size&&typeof Ve=="function"&&(window.removeEventListener("resize",Ve),Ve=void 0)}}function As(e,t){return typeof e=="function"?fc(e):dc(e,t)}function mc(e){return Jn(e)&&e.tagName==="svg"}const pc=[...Nr,H,me],gc=e=>pc.find(Ar(e)),Ns=()=>({translate:0,scale:1,origin:0,originPoint:0}),Le=()=>({x:Ns(),y:Ns()}),Ms=()=>({min:0,max:0}),Y=()=>({x:Ms(),y:Ms()}),yc=new WeakMap;function Nt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function nt(e){return typeof e=="string"||Array.isArray(e)}const Qn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],es=["initial",...Qn];function Mt(e){return Nt(e.animate)||es.some(t=>nt(e[t]))}function Fr(e){return!!(Mt(e)||e.variants)}function xc(e,t,n){for(const s in t){const i=t[s],o=n[s];if(ne(i))e.addValue(s,i);else if(ne(o))e.addValue(s,Oe(i,{owner:e}));else if(o!==i)if(e.hasValue(s)){const r=e.getValue(s);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(s);e.addValue(s,Oe(r!==void 0?r:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Sn={current:null},Or={current:!1},bc=typeof window<"u";function vc(){if(Or.current=!0,!!bc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sn.current=e.matches;e.addEventListener("change",t),t()}else Sn.current=!1}const Rs=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let kt={};function _r(e){kt=e}function wc(){return kt}class Tc{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,skipAnimations:o,blockInitialAnimation:r,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=zn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=se.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,L.render(this.render,!1,!0))};const{latestValues:d,renderState:c}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=o,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=Mt(n),this.isVariantNode=Fr(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];d[p]!==void 0&&ne(g)&&g.set(d[p])}}mount(t){var n,s;if(this.hasBeenMounted)for(const i in this.initialValues)(n=this.values.get(i))==null||n.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=t,yc.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Or.current||vc(),this.shouldReduceMotion=Sn.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),Se(this.notifyUpdate),Se(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&Xl.has(t)&&this.current instanceof HTMLElement){const{factory:r,keyframes:a,times:l,ease:d,duration:c}=n.accelerate,h=new br({element:this.current,name:t,keyframes:a,times:l,ease:d,duration:fe(c)}),f=r(h);this.valueSubscriptions.set(t,()=>{f(),h.cancel()});return}const s=We.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",r=>{this.latestValues[t]=r,this.props.onUpdate&&L.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in kt){const n=kt[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Y()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Rs.length;s++){const i=Rs[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,r=t[o];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=xc(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Oe(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Oi(s)||$i(s))?s=parseFloat(s):!gc(s)&&me.test(n)&&(s=Rr(t,n)),this.setBaseTarget(t,ne(s)?s.get():s)),ne(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const r=Kn(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);r&&(s=r[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ne(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Dn),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Xn.render(this.render)}}class $r extends Tc{constructor(){super(...arguments),this.KeyframeResolver=ql}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ne(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ke{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Wr({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function Sc({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kc(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ut(e){return e===void 0||e===1}function kn({scale:e,scaleX:t,scaleY:n}){return!Ut(e)||!Ut(t)||!Ut(n)}function Ce(e){return kn(e)||Ur(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ur(e){return Es(e.x)||Es(e.y)}function Es(e){return e&&e!=="0%"}function Pt(e,t,n){const s=e-n,i=t*s;return n+i}function Ds(e,t,n,s,i){return i!==void 0&&(e=Pt(e,i,s)),Pt(e,n,s)+t}function Pn(e,t=0,n=1,s,i){e.min=Ds(e.min,t,n,s,i),e.max=Ds(e.max,t,n,s,i)}function zr(e,{x:t,y:n}){Pn(e.x,t.translate,t.scale,t.originPoint),Pn(e.y,n.translate,n.scale,n.originPoint)}const Vs=.999999999999,Ls=1.0000000000001;function Pc(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,r;for(let a=0;a<i;a++){o=n[a],r=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Be(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,zr(e,r)),s&&Ce(o.latestValues)&&Be(e,o.latestValues))}t.x<Ls&&t.x>Vs&&(t.x=1),t.y<Ls&&t.y>Vs&&(t.y=1)}function Ie(e,t){e.min=e.min+t,e.max=e.max+t}function Is(e,t,n,s,i=.5){const o=B(e.min,e.max,i);Pn(e,t,n,o,s)}function Be(e,t){Is(e.x,t.x,t.scaleX,t.scale,t.originX),Is(e.y,t.y,t.scaleY,t.scale,t.originY)}function Gr(e,t){return Wr(kc(e.getBoundingClientRect(),t))}function jc(e,t,n){const s=Gr(e,n),{scroll:i}=t;return i&&(Ie(s.x,i.offset.x),Ie(s.y,i.offset.y)),s}const Cc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ac=$e.length;function Nc(e,t,n){let s="",i=!0;for(let o=0;o<Ac;o++){const r=$e[o],a=e[r];if(a===void 0)continue;let l=!0;if(typeof a=="number")l=a===(r.startsWith("scale")?1:0);else{const d=parseFloat(a);l=r.startsWith("scale")?d===1:d===0}if(!l||n){const d=Dr(a,qn[r]);if(!l){i=!1;const c=Cc[r]||r;s+=`${c}(${d}) `}n&&(t[r]=d)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function ts(e,t,n){const{style:s,vars:i,transformOrigin:o}=e;let r=!1,a=!1;for(const l in t){const d=t[l];if(We.has(l)){r=!0;continue}else if(nr(l)){i[l]=d;continue}else{const c=Dr(d,qn[l]);l.startsWith("origin")?(a=!0,o[l]=c):s[l]=c}}if(t.transform||(r||n?s.transform=Nc(t,e.transform,n):s.transform&&(s.transform="none")),a){const{originX:l="50%",originY:d="50%",originZ:c=0}=o;s.transformOrigin=`${l} ${d} ${c}`}}function Hr(e,{style:t,vars:n},s,i){const o=e.style;let r;for(r in t)o[r]=t[r];i==null||i.applyProjectionStyles(o,s);for(r in n)o.setProperty(r,n[r])}function Bs(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ge={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(j.test(e))e=parseFloat(e);else return e;const n=Bs(e,t.target.x),s=Bs(e,t.target.y);return`${n}% ${s}%`}},Mc={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=me.parse(e);if(i.length>5)return s;const o=me.createTransformer(e),r=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+r]/=a,i[1+r]/=l;const d=B(a,l,.5);return typeof i[2+r]=="number"&&(i[2+r]/=d),typeof i[3+r]=="number"&&(i[3+r]/=d),o(i)}},jn={borderRadius:{...Ge,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomLeftRadius:Ge,borderBottomRightRadius:Ge,boxShadow:Mc};function Kr(e,{layout:t,layoutId:n}){return We.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!jn[e]||e==="opacity")}function ns(e,t,n){var r;const s=e.style,i=t==null?void 0:t.style,o={};if(!s)return o;for(const a in s)(ne(s[a])||i&&ne(i[a])||Kr(a,e)||((r=n==null?void 0:n.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(o[a]=s[a]);return o}function Rc(e){return window.getComputedStyle(e)}class Ec extends $r{constructor(){super(...arguments),this.type="html",this.renderInstance=Hr}readValueFromInstance(t,n){var s;if(We.has(n))return(s=this.projection)!=null&&s.isProjecting?dn(n):Za(t,n);{const i=Rc(t),o=(nr(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Gr(t,n)}build(t,n,s){ts(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return ns(t,n,s)}}const Dc={offset:"stroke-dashoffset",array:"stroke-dasharray"},Vc={offset:"strokeDashoffset",array:"strokeDasharray"};function Lc(e,t,n=1,s=0,i=!0){e.pathLength=1;const o=i?Dc:Vc;e[o.offset]=`${-s}`,e[o.array]=`${t} ${n}`}const Ic=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Yr(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:o=1,pathOffset:r=0,...a},l,d,c){if(ts(e,a,d),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete h.transformBox);for(const p of Ic)h[p]!==void 0&&(f[p]=h[p],delete h[p]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),i!==void 0&&Lc(h,i,o,r,!1)}const qr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Xr=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Bc(e,t,n,s){Hr(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(qr.has(i)?i:Yn(i),t.attrs[i])}function Zr(e,t,n){const s=ns(e,t,n);for(const i in e)if(ne(e[i])||ne(t[i])){const o=$e.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=e[i]}return s}class Fc extends $r{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Y}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(We.has(n)){const s=Mr(n);return s&&s.default||0}return n=qr.has(n)?n:Yn(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Zr(t,n,s)}build(t,n,s){Yr(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){Bc(t,n,s,i)}mount(t){this.isSVGTag=Xr(t.tagName),super.mount(t)}}const Oc=es.length;function Jr(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Jr(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Oc;n++){const s=es[n],i=e.props[s];(nt(i)||i===!1)&&(t[s]=i)}return t}function Qr(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const _c=[...Qn].reverse(),$c=Qn.length;function Wc(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Fl(e,n,s)))}function Uc(e){let t=Wc(e),n=Fs(),s=!0;const i=l=>(d,c)=>{var f;const h=Fe(e,c,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:g,...b}=h;d={...d,...b,...g}}return d};function o(l){t=l(e)}function r(l){const{props:d}=e,c=Jr(e.parent)||{},h=[],f=new Set;let p={},g=1/0;for(let y=0;y<$c;y++){const x=_c[y],w=n[x],v=d[x]!==void 0?d[x]:c[x],T=nt(v),S=x===l?w.isActive:null;S===!1&&(g=y);let N=v===c[x]&&v!==d[x]&&T;if(N&&s&&e.manuallyAnimateOnMount&&(N=!1),w.protectedKeys={...p},!w.isActive&&S===null||!v&&!w.prevProp||Nt(v)||typeof v=="boolean")continue;if(x==="exit"&&w.isActive&&S!==!0){w.prevResolvedValues&&(p={...p,...w.prevResolvedValues});continue}const P=zc(w.prevProp,v);let k=P||x===l&&w.isActive&&!N&&T||y>g&&T,C=!1;const R=Array.isArray(v)?v:[v];let F=R.reduce(i(x),{});S===!1&&(F={});const{prevResolvedValues:re={}}=w,I={...re,...F},K=E=>{k=!0,f.has(E)&&(C=!0,f.delete(E)),w.needsAnimating[E]=!0;const U=e.getValue(E);U&&(U.liveStyle=!1)};for(const E in I){const U=F[E],oe=re[E];if(p.hasOwnProperty(E))continue;let Q=!1;yn(U)&&yn(oe)?Q=!Qr(U,oe):Q=U!==oe,Q?U!=null?K(E):f.add(E):U!==void 0&&f.has(E)?K(E):w.protectedKeys[E]=!0}w.prevProp=v,w.prevResolvedValues=F,w.isActive&&(p={...p,...F}),s&&e.blockInitialAnimation&&(k=!1);const A=N&&P;k&&(!A||C)&&h.push(...R.map(E=>{const U={type:x};if(typeof E=="string"&&s&&!A&&e.manuallyAnimateOnMount&&e.parent){const{parent:oe}=e,Q=Fe(oe,E);if(oe.enteringChildren&&Q){const{delayChildren:ae}=Q.transition||{};U.delay=wr(oe.enteringChildren,e,ae)}}return{animation:E,options:U}}))}if(f.size){const y={};if(typeof d.initial!="boolean"){const x=Fe(e,Array.isArray(d.initial)?d.initial[0]:d.initial);x&&x.transition&&(y.transition=x.transition)}f.forEach(x=>{const w=e.getBaseTarget(x),v=e.getValue(x);v&&(v.liveStyle=!0),y[x]=w??null}),h.push({animation:y})}let b=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),s=!1,b?t(h):Promise.resolve()}function a(l,d){var h;if(n[l].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,d)}),n[l].isActive=d;const c=r(l);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:r,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Fs()}}}function zc(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Qr(t,e):!1}function je(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fs(){return{animate:je(!0),whileInView:je(),whileHover:je(),whileTap:je(),whileDrag:je(),whileFocus:je(),exit:je()}}function Os(e,t){e.min=t.min,e.max=t.max}function de(e,t){Os(e.x,t.x),Os(e.y,t.y)}function _s(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const eo=1e-4,Gc=1-eo,Hc=1+eo,to=.01,Kc=0-to,Yc=0+to;function ie(e){return e.max-e.min}function qc(e,t,n){return Math.abs(e-t)<=n}function $s(e,t,n,s=.5){e.origin=s,e.originPoint=B(t.min,t.max,e.origin),e.scale=ie(n)/ie(t),e.translate=B(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Gc&&e.scale<=Hc||isNaN(e.scale))&&(e.scale=1),(e.translate>=Kc&&e.translate<=Yc||isNaN(e.translate))&&(e.translate=0)}function Xe(e,t,n,s){$s(e.x,t.x,n.x,s?s.originX:void 0),$s(e.y,t.y,n.y,s?s.originY:void 0)}function Ws(e,t,n){e.min=n.min+t.min,e.max=e.min+ie(t)}function Xc(e,t,n){Ws(e.x,t.x,n.x),Ws(e.y,t.y,n.y)}function Us(e,t,n){e.min=t.min-n.min,e.max=e.min+ie(t)}function jt(e,t,n){Us(e.x,t.x,n.x),Us(e.y,t.y,n.y)}function zs(e,t,n,s,i){return e-=t,e=Pt(e,1/n,s),i!==void 0&&(e=Pt(e,1/i,s)),e}function Zc(e,t=0,n=1,s=.5,i,o=e,r=e){if(ye.test(t)&&(t=parseFloat(t),t=B(r.min,r.max,t/100)-r.min),typeof t!="number")return;let a=B(o.min,o.max,s);e===o&&(a-=t),e.min=zs(e.min,t,n,a,i),e.max=zs(e.max,t,n,a,i)}function Gs(e,t,[n,s,i],o,r){Zc(e,t[n],t[s],t[i],t.scale,o,r)}const Jc=["x","scaleX","originX"],Qc=["y","scaleY","originY"];function Hs(e,t,n,s){Gs(e.x,t,Jc,n?n.x:void 0,s?s.x:void 0),Gs(e.y,t,Qc,n?n.y:void 0,s?s.y:void 0)}function Ks(e){return e.translate===0&&e.scale===1}function no(e){return Ks(e.x)&&Ks(e.y)}function Ys(e,t){return e.min===t.min&&e.max===t.max}function eu(e,t){return Ys(e.x,t.x)&&Ys(e.y,t.y)}function qs(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function so(e,t){return qs(e.x,t.x)&&qs(e.y,t.y)}function Xs(e){return ie(e.x)/ie(e.y)}function Zs(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function ge(e){return[e("x"),e("y")]}function tu(e,t,n){let s="";const i=e.x.translate/t.x,o=e.y.translate/t.y,r=(n==null?void 0:n.z)||0;if((i||o||r)&&(s=`translate3d(${i}px, ${o}px, ${r}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:c,rotateX:h,rotateY:f,skewX:p,skewY:g}=n;d&&(s=`perspective(${d}px) ${s}`),c&&(s+=`rotate(${c}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),p&&(s+=`skewX(${p}deg) `),g&&(s+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const io=["TopLeft","TopRight","BottomLeft","BottomRight"],nu=io.length,Js=e=>typeof e=="string"?parseFloat(e):e,Qs=e=>typeof e=="number"||j.test(e);function su(e,t,n,s,i,o){i?(e.opacity=B(0,n.opacity??1,iu(s)),e.opacityExit=B(t.opacity??1,0,ru(s))):o&&(e.opacity=B(t.opacity??1,n.opacity??1,s));for(let r=0;r<nu;r++){const a=`border${io[r]}Radius`;let l=ei(t,a),d=ei(n,a);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||Qs(l)===Qs(d)?(e[a]=Math.max(B(Js(l),Js(d),s),0),(ye.test(d)||ye.test(l))&&(e[a]+="%")):e[a]=d}(t.rotate||n.rotate)&&(e.rotate=B(t.rotate||0,n.rotate||0,s))}function ei(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const iu=ro(0,.5,Xi),ru=ro(.5,.95,ue);function ro(e,t,n){return s=>s<e?0:s>t?1:n(Qe(e,t,s))}function ou(e,t,n){const s=ne(e)?e:Oe(e);return s.start(Hn("",s,t,n)),s.animation}function st(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const au=(e,t)=>e.depth-t.depth;class lu{constructor(){this.children=[],this.isDirty=!1}add(t){Rn(this.children,t),this.isDirty=!0}remove(t){vt(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(au),this.isDirty=!1,this.children.forEach(t)}}function cu(e,t){const n=se.now(),s=({timestamp:i})=>{const o=i-n;o>=t&&(Se(s),e(o-t))};return L.setup(s,!0),()=>Se(s)}function xt(e){return ne(e)?e.get():e}class uu{constructor(){this.members=[]}add(t){Rn(this.members,t);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===t||s===this.lead||s===this.prevLead)continue;const i=s.instance;i&&i.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&vt(this.members,s)}t.scheduleRender()}remove(t){if(vt(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i],r=o.instance;if(o.isPresent!==!1&&(!r||r.isConnected!==!1)){s=o;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const i=s.options.layoutDependency,o=t.options.layoutDependency;if(!(i!==void 0&&o!==void 0&&i===o)){const l=s.instance;l&&l.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const bt={hasAnimatedSinceResize:!0,hasEverUpdated:!1},zt=["","X","Y","Z"],du=1e3;let hu=0;function Gt(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function oo(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=jr(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",L,!(i||o))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&oo(s)}function ao({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},a=t==null?void 0:t()){this.id=hu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pu),this.nodes.forEach(bu),this.nodes.forEach(vu),this.nodes.forEach(gu)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new lu)}addEventListener(r,a){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new Dn),this.eventHandlers.get(r).add(a)}notifyListeners(r,...a){const l=this.eventHandlers.get(r);l&&l.notify(...a)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=Jn(r)&&!mc(r),this.instance=r;const{layoutId:a,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let c,h=0;const f=()=>this.root.updateBlockedByResize=!1;L.read(()=>{h=window.innerWidth}),e(r,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,c&&c(),c=cu(f,250),bt.hasAnimatedSinceResize&&(bt.hasAnimatedSinceResize=!1,this.nodes.forEach(si)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&d&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Pu,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!so(this.targetLayout,p),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...Gn(g,"layout"),onPlay:b,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(c,w)}else h||si(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Se(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wu),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oo(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ti);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ni);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xu),this.nodes.forEach(fu),this.nodes.forEach(mu)):this.nodes.forEach(ni),this.clearAllSnapshots();const a=se.now();J.delta=xe(0,1e3/60,a-J.timestamp),J.timestamp=a,J.isProcessing=!0,It.update.process(J),It.preRender.process(J),It.render.process(J),J.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yu),this.sharedNodes.forEach(Tu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,L.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){L.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ie(this.snapshot.measuredBox.x)&&!ie(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Y(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(a=!1),a&&this.instance){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!no(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,c=d!==this.prevTransformTemplateValue;r&&this.instance&&(a||Ce(this.latestValues)||c)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return r&&(l=this.removeTransform(l)),ju(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:r}=this.options;if(!r)return Y();const a=r.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Cu))){const{scroll:c}=this.root;c&&(Ie(a.x,c.offset.x),Ie(a.y,c.offset.y))}return a}removeElementScroll(r){var l;const a=Y();if(de(a,r),(l=this.scroll)!=null&&l.wasRoot)return a;for(let d=0;d<this.path.length;d++){const c=this.path[d],{scroll:h,options:f}=c;c!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&de(a,r),Ie(a.x,h.offset.x),Ie(a.y,h.offset.y))}return a}applyTransform(r,a=!1){const l=Y();de(l,r);for(let d=0;d<this.path.length;d++){const c=this.path[d];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Be(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ce(c.latestValues)&&Be(l,c.latestValues)}return Ce(this.latestValues)&&Be(l,this.latestValues),l}removeTransform(r){const a=Y();de(a,r);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!Ce(d.latestValues))continue;kn(d.latestValues)&&d.updateSnapshot();const c=Y(),h=d.measurePageBox();de(c,h),Hs(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,c)}return Ce(this.latestValues)&&Hs(a,this.latestValues),a}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==J.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(r||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:h}=this.options;if(!this.layout||!(c||h))return;this.resolvedRelativeTargetAt=J.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Y(),this.targetWithTransforms=Y()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xc(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):de(this.target,this.layout.layoutBox),zr(this.target,this.targetDelta)):de(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||kn(this.parent.latestValues)||Ur(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(r,a,l){this.relativeParent=r,this.linkedParentVersion=r.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Y(),this.relativeTargetOrigin=Y(),jt(this.relativeTargetOrigin,a,l),de(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const r=this.getLead(),a=!!this.resumingFrom||this!==r;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===J.timestamp&&(l=!1),l)return;const{layout:d,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||c))return;de(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Pc(this.layoutCorrected,this.treeScale,this.path,a),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=Y());const{target:p}=r;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_s(this.prevProjectionDelta.x,this.projectionDelta.x),_s(this.prevProjectionDelta.y,this.projectionDelta.y)),Xe(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Zs(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zs(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),r){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Le(),this.projectionDelta=Le(),this.projectionDeltaWithTransform=Le()}setAnimationOrigin(r,a=!1){const l=this.snapshot,d=l?l.latestValues:{},c={...this.latestValues},h=Le();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Y(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,b=p!==g,y=this.getStack(),x=!y||y.members.length<=1,w=!!(b&&!x&&this.options.crossfade===!0&&!this.path.some(ku));this.animationProgress=0;let v;this.mixTargetDelta=T=>{const S=T/1e3;ii(h.x,r.x,S),ii(h.y,r.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jt(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Su(this.relativeTarget,this.relativeTargetOrigin,f,S),v&&eu(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Y()),de(v,this.relativeTarget)),b&&(this.animationValues=c,su(c,d,this.latestValues,S,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var a,l,d;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(d=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Se(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=L.update(()=>{bt.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Oe(0)),this.motionValue.jump(0,!1),this.currentAnimation=ou(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),r.onUpdate&&r.onUpdate(c)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(du),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:a,target:l,layout:d,latestValues:c}=r;if(!(!a||!l||!d)){if(this!==r&&this.layout&&d&&lo(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||Y();const h=ie(this.layout.layoutBox.x);l.x.min=r.target.x.min,l.x.max=l.x.min+h;const f=ie(this.layout.layoutBox.y);l.y.min=r.target.y.min,l.y.max=l.y.min+f}de(a,l),Be(a,c),Xe(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(r,a){this.sharedNodes.has(r)||this.sharedNodes.set(r,new uu),this.sharedNodes.get(r).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var a;const{layoutId:r}=this.options;return r?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:r}=this.options;return r?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:a,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),r&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let a=!1;const{latestValues:l}=r;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const d={};l.z&&Gt("z",r,d,this.animationValues);for(let c=0;c<zt.length;c++)Gt(`rotate${zt[c]}`,r,d,this.animationValues),Gt(`skew${zt[c]}`,r,d,this.animationValues);r.render();for(const c in d)r.setStaticValue(c,d[c]),this.animationValues&&(this.animationValues[c]=d[c]);r.scheduleRender()}applyProjectionStyles(r,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=xt(a==null?void 0:a.pointerEvents)||"",r.transform=l?l(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=xt(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ce(this.latestValues)&&(r.transform=l?l({},""):"none",this.hasProjected=!1);return}r.visibility="";const c=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=tu(this.projectionDeltaWithTransform,this.treeScale,c);l&&(h=l(c,h)),r.transform=h;const{x:f,y:p}=this.projectionDelta;r.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?r.opacity=d===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:r.opacity=d===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const g in jn){if(c[g]===void 0)continue;const{correct:b,applyTo:y,isCSSVariable:x}=jn[g],w=h==="none"?c[g]:b(c[g],d);if(y){const v=y.length;for(let T=0;T<v;T++)r[y[T]]=w}else x?this.options.visualElement.renderState.vars[g]=w:r[g]=w}this.options.layoutId&&(r.pointerEvents=d===this?xt(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var a;return(a=r.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(ti),this.root.sharedNodes.clear()}}}function fu(e){e.updateLayout()}function mu(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:o}=e.options,r=t.source!==e.layout.source;o==="size"?ge(h=>{const f=r?t.measuredBox[h]:t.layoutBox[h],p=ie(f);f.min=s[h].min,f.max=f.min+p}):lo(o,t.layoutBox,s)&&ge(h=>{const f=r?t.measuredBox[h]:t.layoutBox[h],p=ie(s[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=Le();Xe(a,s,t.layoutBox);const l=Le();r?Xe(l,e.applyTransform(i,!0),t.measuredBox):Xe(l,s,t.layoutBox);const d=!no(a);let c=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=Y();jt(g,t.layoutBox,f.layoutBox);const b=Y();jt(b,s,p.layoutBox),so(g,b)||(c=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:d,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function pu(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yu(e){e.clearSnapshot()}function ti(e){e.clearMeasurements()}function ni(e){e.isLayoutDirty=!1}function xu(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function si(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bu(e){e.resolveTargetDelta()}function vu(e){e.calcProjection()}function wu(e){e.resetSkewAndRotation()}function Tu(e){e.removeLeadSnapshot()}function ii(e,t,n){e.translate=B(t.translate,0,n),e.scale=B(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ri(e,t,n,s){e.min=B(t.min,n.min,s),e.max=B(t.max,n.max,s)}function Su(e,t,n,s){ri(e.x,t.x,n.x,s),ri(e.y,t.y,n.y,s)}function ku(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Pu={duration:.45,ease:[.4,0,.1,1]},oi=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ai=oi("applewebkit/")&&!oi("chrome/")?Math.round:ue;function li(e){e.min=ai(e.min),e.max=ai(e.max)}function ju(e){li(e.x),li(e.y)}function lo(e,t,n){return e==="position"||e==="preserve-aspect"&&!qc(Xs(t),Xs(n),.2)}function Cu(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Au=ao({attachResizeListener:(e,t)=>st(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Ht={current:void 0},co=ao({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ht.current){const e=new Au({});e.mount(window),e.setOptions({layoutScroll:!0}),Ht.current=e}return Ht.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ss=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ci(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Nu(...e){return t=>{let n=!1;const s=e.map(i=>{const o=ci(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():ci(e[i],null)}}}}function Mu(...e){return m.useCallback(Nu(...e),e)}class Ru extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,i=Tn(s)&&s.offsetWidth||0,o=Tn(s)&&s.offsetHeight||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=i-r.width-r.left,r.bottom=o-r.height-r.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Eu({children:e,isPresent:t,anchorX:n,anchorY:s,root:i,pop:o}){var f;const r=m.useId(),a=m.useRef(null),l=m.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=m.useContext(ss),c=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),h=Mu(a,c);return m.useInsertionEffect(()=>{const{width:p,height:g,top:b,left:y,right:x,bottom:w}=l.current;if(t||o===!1||!a.current||!p||!g)return;const v=n==="left"?`left: ${y}`:`right: ${x}`,T=s==="bottom"?`bottom: ${w}`:`top: ${b}`;a.current.dataset.motionPopId=r;const S=document.createElement("style");d&&(S.nonce=d);const N=i??document.head;return N.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${v}px !important;
            ${T}px !important;
          }
        `),()=>{N.contains(S)&&N.removeChild(S)}},[t]),u.jsx(Ru,{isPresent:t,childRef:a,sizeRef:l,pop:o,children:o===!1?e:m.cloneElement(e,{ref:h})})}const Du=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:r,anchorX:a,anchorY:l,root:d})=>{const c=Mn(Vu),h=m.useId();let f=!0,p=m.useMemo(()=>(f=!1,{id:h,initial:t,isPresent:n,custom:i,onExitComplete:g=>{c.set(g,!0);for(const b of c.values())if(!b)return;s&&s()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,s]);return o&&f&&(p={...p}),m.useMemo(()=>{c.forEach((g,b)=>c.set(b,!1))},[n]),m.useEffect(()=>{!n&&!c.size&&s&&s()},[n]),e=u.jsx(Eu,{pop:r==="popLayout",isPresent:n,anchorX:a,anchorY:l,root:d,children:e}),u.jsx(At.Provider,{value:p,children:e})};function Vu(){return new Map}function uo(e=!0){const t=m.useContext(At);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,o=m.useId();m.useEffect(()=>{if(e)return i(o)},[e]);const r=m.useCallback(()=>e&&s&&s(o),[o,s,e]);return!n&&s?[!1,r]:[!0]}const ht=e=>e.key||"";function ui(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const it=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:r=!1,anchorX:a="left",anchorY:l="top",root:d})=>{const[c,h]=uo(r),f=m.useMemo(()=>ui(e),[e]),p=r&&!c?[]:f.map(ht),g=m.useRef(!0),b=m.useRef(f),y=Mn(()=>new Map),x=m.useRef(new Set),[w,v]=m.useState(f),[T,S]=m.useState(f);Fi(()=>{g.current=!1,b.current=f;for(let k=0;k<T.length;k++){const C=ht(T[k]);p.includes(C)?(y.delete(C),x.current.delete(C)):y.get(C)!==!0&&y.set(C,!1)}},[T,p.length,p.join("-")]);const N=[];if(f!==w){let k=[...f];for(let C=0;C<T.length;C++){const R=T[C],F=ht(R);p.includes(F)||(k.splice(C,0,R),N.push(R))}return o==="wait"&&N.length&&(k=N),S(ui(k)),v(f),null}const{forceRender:P}=m.useContext(Nn);return u.jsx(u.Fragment,{children:T.map(k=>{const C=ht(k),R=r&&!c?!1:f===T||p.includes(C),F=()=>{if(x.current.has(C))return;if(x.current.add(C),y.has(C))y.set(C,!0);else return;let re=!0;y.forEach(I=>{I||(re=!1)}),re&&(P==null||P(),S(b.current),r&&(h==null||h()),s&&s())};return u.jsx(Du,{isPresent:R,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,root:d,onExitComplete:R?void 0:F,anchorX:a,anchorY:l,children:k},C)})})},ho=m.createContext({strict:!1}),di={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let hi=!1;function Lu(){if(hi)return;const e={};for(const t in di)e[t]={isEnabled:n=>di[t].some(s=>!!n[s])};_r(e),hi=!0}function fo(){return Lu(),wc()}function Iu(e){const t=fo();for(const n in e)t[n]={...t[n],...e[n]};_r(t)}const Bu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Ct(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Bu.has(e)}let mo=e=>!Ct(e);function Fu(e){typeof e=="function"&&(mo=t=>t.startsWith("on")?!Ct(t):e(t))}try{Fu(require("@emotion/is-prop-valid").default)}catch{}function Ou(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(mo(i)||n===!0&&Ct(i)||!t&&!Ct(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const Rt=m.createContext({});function _u(e,t){if(Mt(e)){const{initial:n,animate:s}=e;return{initial:n===!1||nt(n)?n:void 0,animate:nt(s)?s:void 0}}return e.inherit!==!1?t:{}}function $u(e){const{initial:t,animate:n}=_u(e,m.useContext(Rt));return m.useMemo(()=>({initial:t,animate:n}),[fi(t),fi(n)])}function fi(e){return Array.isArray(e)?e.join(" "):e}const is=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function po(e,t,n){for(const s in t)!ne(t[s])&&!Kr(s,n)&&(e[s]=t[s])}function Wu({transformTemplate:e},t){return m.useMemo(()=>{const n=is();return ts(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Uu(e,t){const n=e.style||{},s={};return po(s,n,e),Object.assign(s,Wu(e,t)),s}function zu(e,t){const n={},s=Uu(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const go=()=>({...is(),attrs:{}});function Gu(e,t,n,s){const i=m.useMemo(()=>{const o=go();return Yr(o,t,Xr(s),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};po(o,e.style,e),i.style={...o,...i.style}}return i}const Hu=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rs(e){return typeof e!="string"||e.includes("-")?!1:!!(Hu.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ku(e,t,n,{latestValues:s},i,o=!1,r){const l=(r??rs(e)?Gu:zu)(t,s,i,e),d=Ou(t,typeof e=="string",o),c=e!==m.Fragment?{...d,...l,ref:n}:{},{children:h}=t,f=m.useMemo(()=>ne(h)?h.get():h,[h]);return m.createElement(e,{...c,children:f})}function Yu({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:qu(n,s,i,e),renderState:t()}}function qu(e,t,n,s){const i={},o=s(e,{});for(const f in o)i[f]=xt(o[f]);let{initial:r,animate:a}=e;const l=Mt(e),d=Fr(e);t&&d&&!l&&e.inherit!==!1&&(r===void 0&&(r=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||r===!1;const h=c?a:r;if(h&&typeof h!="boolean"&&!Nt(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const g=Kn(e,f[p]);if(g){const{transitionEnd:b,transition:y,...x}=g;for(const w in x){let v=x[w];if(Array.isArray(v)){const T=c?v.length-1:0;v=v[T]}v!==null&&(i[w]=v)}for(const w in b)i[w]=b[w]}}}return i}const yo=e=>(t,n)=>{const s=m.useContext(Rt),i=m.useContext(At),o=()=>Yu(e,t,s,i);return n?o():Mn(o)},Xu=yo({scrapeMotionValuesFromProps:ns,createRenderState:is}),Zu=yo({scrapeMotionValuesFromProps:Zr,createRenderState:go}),Ju=Symbol.for("motionComponentSymbol");function Qu(e,t,n){const s=m.useRef(n);m.useInsertionEffect(()=>{s.current=n});const i=m.useRef(null);return m.useCallback(o=>{var a;o&&((a=e.onMount)==null||a.call(e,o)),t&&(o?t.mount(o):t.unmount());const r=s.current;if(typeof r=="function")if(o){const l=r(o);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):r(o);else r&&(r.current=o)},[t])}const xo=m.createContext({});function Ee(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ed(e,t,n,s,i,o){var v,T;const{visualElement:r}=m.useContext(Rt),a=m.useContext(ho),l=m.useContext(At),d=m.useContext(ss),c=d.reducedMotion,h=d.skipAnimations,f=m.useRef(null),p=m.useRef(!1);s=s||a.renderer,!f.current&&s&&(f.current=s(e,{visualState:t,parent:r,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,skipAnimations:h,isSVG:o}),p.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const g=f.current,b=m.useContext(xo);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&td(f.current,n,i,b);const y=m.useRef(!1);m.useInsertionEffect(()=>{g&&y.current&&g.update(n,l)});const x=n[Pr],w=m.useRef(!!x&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,x))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,x)));return Fi(()=>{p.current=!0,g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),w.current&&g.animationState&&g.animationState.animateChanges())}),m.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,x)}),w.current=!1),g.enteringChildren=void 0)}),g}function td(e,t,n,s){const{layoutId:i,layout:o,drag:r,dragConstraints:a,layoutScroll:l,layoutRoot:d,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:bo(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!r||a&&Ee(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:c,layoutScroll:l,layoutRoot:d})}function bo(e){if(e)return e.options.allowProjection!==!1?e.projection:bo(e.parent)}function Kt(e,{forwardMotionProps:t=!1,type:n}={},s,i){s&&Iu(s);const o=n?n==="svg":rs(e),r=o?Zu:Xu;function a(d,c){let h;const f={...m.useContext(ss),...d,layoutId:nd(d)},{isStatic:p}=f,g=$u(d),b=r(d,p);if(!p&&Bi){sd();const y=id(f);h=y.MeasureLayout,g.visualElement=ed(e,b,f,i,y.ProjectionNode,o)}return u.jsxs(Rt.Provider,{value:g,children:[h&&g.visualElement?u.jsx(h,{visualElement:g.visualElement,...f}):null,Ku(e,d,Qu(b,g.visualElement,c),b,p,t,o)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=m.forwardRef(a);return l[Ju]=e,l}function nd({layoutId:e}){const t=m.useContext(Nn).id;return t&&e!==void 0?t+"-"+e:e}function sd(e,t){m.useContext(ho).strict}function id(e){const t=fo(),{drag:n,layout:s}=t;if(!n&&!s)return{};const i={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(e)||s!=null&&s.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function rd(e,t){if(typeof Proxy>"u")return Kt;const n=new Map,s=(o,r)=>Kt(o,r,e,t),i=(o,r)=>s(o,r);return new Proxy(i,{get:(o,r)=>r==="create"?s:(n.has(r)||n.set(r,Kt(r,void 0,e,t)),n.get(r))})}const od=(e,t)=>t.isSVG??rs(e)?new Fc(t):new Ec(t,{allowProjection:e!==m.Fragment});class ad extends ke{constructor(t){super(t),t.animationState||(t.animationState=Uc(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Nt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ld=0;class cd extends ke{constructor(){super(...arguments),this.id=ld++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ud={animation:{Feature:ad},exit:{Feature:cd}};function lt(e){return{point:{x:e.pageX,y:e.pageY}}}const dd=e=>t=>Zn(t)&&e(t,lt(t));function Ze(e,t,n,s){return st(e,t,dd(n),s)}const vo=({current:e})=>e?e.ownerDocument.defaultView:null,mi=(e,t)=>Math.abs(e-t);function hd(e,t){const n=mi(e.x,t.x),s=mi(e.y,t.y);return Math.sqrt(n**2+s**2)}const pi=new Set(["auto","scroll"]);class wo{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:r=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=qt(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,b=hd(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!b)return;const{point:y}=p,{timestamp:x}=J;this.history.push({...y,timestamp:x});const{onStart:w,onMove:v}=this.handlers;g||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Yt(g,this.transformPagePoint),L.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:b,onSessionEnd:y,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=qt(p.type==="pointercancel"?this.lastMoveEventInfo:Yt(g,this.transformPagePoint),this.history);this.startEvent&&b&&b(p,w),y&&y(p,w)},!Zn(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=r,this.contextWindow=i||window;const l=lt(t),d=Yt(l,this.transformPagePoint),{point:c}=d,{timestamp:h}=J;this.history=[{...c,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,qt(d,this.history)),this.removeListeners=rt(Ze(this.contextWindow,"pointermove",this.handlePointerMove),Ze(this.contextWindow,"pointerup",this.handlePointerUp),Ze(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(pi.has(s.overflowX)||pi.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,i=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:i.x-n.x,y:i.y-n.y};o.x===0&&o.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,i),L.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Se(this.updatePoint)}}function Yt(e,t){return t?{point:t(e.point)}:e}function gi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qt({point:e},t){return{point:e,delta:gi(e,To(t)),offset:gi(e,fd(t)),velocity:md(t,.1)}}function fd(e){return e[0]}function To(e){return e[e.length-1]}function md(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=To(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>fe(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&i.timestamp-s.timestamp>fe(t)*2&&(s=e[1]);const o=ce(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function pd(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?B(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?B(n,e,s.max):Math.min(e,n)),e}function yi(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function gd(e,{top:t,left:n,bottom:s,right:i}){return{x:yi(e.x,n,i),y:yi(e.y,t,s)}}function xi(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function yd(e,t){return{x:xi(e.x,t.x),y:xi(e.y,t.y)}}function xd(e,t){let n=.5;const s=ie(e),i=ie(t);return i>s?n=Qe(t.min,t.max-s,e.min):s>i&&(n=Qe(e.min,e.max-i,t.min)),xe(0,1,n)}function bd(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Cn=.35;function vd(e=Cn){return e===!1?e=0:e===!0&&(e=Cn),{x:bi(e,"left","right"),y:bi(e,"top","bottom")}}function bi(e,t,n){return{min:vi(e,t),max:vi(e,n)}}function vi(e,t){return typeof e=="number"?e:e[t]||0}const wd=new WeakMap;class Td{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Y(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=h=>{n&&this.snapToCursor(lt(h).point),this.stopAnimation()},r=(h,f)=>{const{drag:p,dragPropagation:g,onDragStart:b}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Zl(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ge(x=>{let w=this.getAxisMotionValue(x).get()||0;if(ye.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const T=v.layout.layoutBox[x];T&&(w=ie(T)*(parseFloat(w)/100))}}this.originPoint[x]=w}),b&&L.update(()=>b(h,f),!1,!0),xn(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:b,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=f;if(g&&this.currentDirection===null){this.currentDirection=kd(x),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),y&&L.update(()=>y(h,f),!1,!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>{const{dragSnapToOrigin:h}=this.getProps();(h||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:c}=this.getProps();this.panSession=new wo(t,{onSessionStart:o,onStart:r,onMove:a,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:s,contextWindow:vo(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!s)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&L.postRender(()=>a(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!ft(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=pd(r,this.constraints[t],this.elastic[t])),o.set(r)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&Ee(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=gd(s.layoutBox,t):this.constraints=!1,this.elastic=vd(n),i!==this.constraints&&!Ee(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&ge(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=bd(s.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ee(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=jc(s,i.root,this.visualElement.getTransformPagePoint());let r=yd(i.layout.layoutBox,o);if(n){const a=n(Sc(r));this.hasMutatedConstraints=!!a,a&&(r=Wr(a))}return r}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},d=ge(c=>{if(!ft(c,n,this.currentDirection))return;let h=l&&l[c]||{};r&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:s?t[c]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(d).then(a)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return xn(this.visualElement,t),s.start(Hn(t,s,0,n,this.visualElement,!1))}stopAnimation(){ge(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ge(n=>{const{drag:s}=this.getProps();if(!ft(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:a}=i.layout.layoutBox[n],l=o.get()||0;o.set(t[n]-B(r,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ee(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ge(r=>{const a=this.getAxisMotionValue(r);if(a&&this.constraints!==!1){const l=a.get();i[r]=xd({min:l,max:l},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),ge(r=>{if(!ft(r,t,null))return;const a=this.getAxisMotionValue(r),{min:l,max:d}=this.constraints[r];a.set(B(l,d,i[r]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;wd.set(this.visualElement,this);const t=this.visualElement.current,n=Ze(t,"pointerdown",d=>{const{drag:c,dragListener:h=!0}=this.getProps(),f=d.target,p=f!==t&&sc(f);c&&h&&!p&&this.start(d)});let s;const i=()=>{const{dragConstraints:d}=this.getProps();Ee(d)&&d.current&&(this.constraints=this.resolveRefConstraints(),s||(s=Sd(t,d.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,r=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),L.read(i);const a=st(window,"resize",()=>this.scalePositionWithinConstraints()),l=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:c})=>{this.isDragging&&c&&(ge(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=d[h].translate,f.set(f.get()+d[h].translate))}),this.visualElement.render())}));return()=>{a(),n(),r(),l&&l(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=Cn,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:a}}}function wi(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function Sd(e,t,n){const s=As(e,wi(n)),i=As(t,wi(n));return()=>{s(),i()}}function ft(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function kd(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Pd extends ke{constructor(t){super(t),this.removeGroupControls=ue,this.removeListeners=ue,this.controls=new Td(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ue}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Xt=e=>(t,n)=>{e&&L.update(()=>e(t,n),!1,!0)};class jd extends ke{constructor(){super(...arguments),this.removePointerDownListener=ue}onPointerDown(t){this.session=new wo(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vo(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Xt(t),onStart:Xt(n),onMove:Xt(s),onEnd:(o,r)=>{delete this.session,i&&L.postRender(()=>i(o,r))}}}mount(){this.removePointerDownListener=Ze(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Zt=!1;class Cd extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),Zt&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),bt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,{projection:r}=s;return r&&(r.isPresent=o,t.layoutDependency!==n&&r.setOptions({...r.options,layoutDependency:n}),Zt=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?r.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?r.promote():r.relegate()||L.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Xn.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;Zt=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function So(e){const[t,n]=uo(),s=m.useContext(Nn);return u.jsx(Cd,{...e,layoutGroup:s,switchLayoutGroup:m.useContext(xo),isPresent:t,safeToRemove:n})}const Ad={pan:{Feature:jd},drag:{Feature:Pd,ProjectionNode:co,MeasureLayout:So}};function Ti(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=s[i];o&&L.postRender(()=>o(t,lt(t)))}class Nd extends ke{mount(){const{current:t}=this.node;t&&(this.unmount=Ql(t,(n,s)=>(Ti(this.node,s,"Start"),i=>Ti(this.node,i,"End"))))}unmount(){}}class Md extends ke{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rt(st(this.node.current,"focus",()=>this.onFocus()),st(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Si(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=s[i];o&&L.postRender(()=>o(t,lt(t)))}class Rd extends ke{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=rc(t,(i,o)=>(Si(this.node,o,"Start"),(r,{success:a})=>Si(this.node,r,a?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(s==null?void 0:s.tap)===!1})}unmount(){}}const An=new WeakMap,Jt=new WeakMap,Ed=e=>{const t=An.get(e.target);t&&t(e)},Dd=e=>{e.forEach(Ed)};function Vd({root:e,...t}){const n=e||document;Jt.has(n)||Jt.set(n,{});const s=Jt.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(Dd,{root:e,...t})),s[i]}function Ld(e,t,n){const s=Vd(t);return An.set(e,n),s.observe(e),()=>{An.delete(e),s.unobserve(e)}}const Id={some:0,all:1};class Bd extends ke{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=t,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Id[i]},a=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=d?c:h;f&&f(l)};return Ld(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Fd(t,n))&&this.startObserver()}unmount(){}}function Fd({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Od={inView:{Feature:Bd},tap:{Feature:Rd},focus:{Feature:Md},hover:{Feature:Nd}},_d={layout:{ProjectionNode:co,MeasureLayout:So}},$d={...ud,...Od,...Ad,..._d},M=rd($d,od),z=9,q={FLOOR:"FLOOR",WALL:"WALL",RISK:"RISK",EXIT:"EXIT"},ki=[{id:"medical",label:"Medical Risk",icon:"",color:"#EF4444"},{id:"debt",label:"Debt Trap",icon:"",color:"#F59E0B"},{id:"inflation",label:"Inflation",icon:"",color:"#8B5CF6"},{id:"emergency",label:"Emergency",icon:"",color:"#F97316"},{id:"generic",label:"Financial Risk",icon:"",color:"#EC4899"}],$={LANDING:"landing",HOW_TO_PLAY:"how_to_play",PLAYING:"playing",FINISHED:"finished",RESULT:"result",THANK_YOU:"thank_you",EXITED:"exited"},Pi=90,ji=3,Wd=2e3,Ud=1,Ci=10,zd={UP:{row:-1,col:0},DOWN:{row:1,col:0},LEFT:{row:0,col:-1},RIGHT:{row:0,col:1}},Ai=["Risk Eliminated!","Well Protected!","Great Defense!","Shield Up!","Outstanding!","Secured!","Brilliant!","Keep Going!"];function ko(e,t){return e>=0&&e<z&&t>=0&&t<z}function Ni(){const e=[];for(let s=0;s<z;s++){const i=[];for(let o=0;o<z;o++)s===0||o===0||s===z-1||o===z-1||s%2===0&&o%2===0?i.push(He(s,o,q.WALL)):i.push(He(s,o,q.FLOOR));e.push(i)}const t=new Set(["1,1","1,2","2,1","1,3","3,1"]),n=new Set([`${z-2},${z-2}`,`${z-2},${z-3}`,`${z-3},${z-2}`]);for(let s=1;s<z-1;s++)for(let i=1;i<z-1;i++){const o=`${s},${i}`;if(e[s][i].type===q.FLOOR&&!t.has(o)&&!n.has(o)&&Math.random()<.4){const r=ki[Math.floor(Math.random()*ki.length)];e[s][i]=He(s,i,q.RISK,r)}}return e[z-2][z-2]=He(z-2,z-2,q.EXIT),e}function He(e,t,n,s=null){return{row:e,col:t,type:n,riskData:s,hasBomb:!1,isExploding:!1}}function Gd(e,t,n,s){const i=[{row:t,col:n}],o=[{dr:-1,dc:0},{dr:1,dc:0},{dr:0,dc:-1},{dr:0,dc:1}];for(const{dr:r,dc:a}of o)for(let l=1;l<=s;l++){const d=t+r*l,c=n+a*l;if(!ko(d,c))break;const h=e[d][c];if(h.type===q.WALL||(i.push({row:d,col:c}),h.type===q.RISK))break}return i}function Qt(e){return e.map(t=>t.map(n=>({...n})))}function Mi(e,t,n){const s=e*10,i=t*5,o=Math.floor(n*.5),r=s+i+o,l=Math.round(Math.min(r/200*100,100));return Math.max(0,l)}const en=async e=>{const t="https://bjuat.bajajlife.com/BalicLmsUtil/whatsappInhouse",n=new URLSearchParams(window.location.search),s=n.get("userId")||"",i=n.get("gameId")||"",o={cust_name:e.name||e.fullName||"",mobile_no:e.mobile_no||e.contact_number||"",dob:"",gender:"M",pincode:"",email_id:e.email_id||"",life_goal_category:"",investment_amount:"",product_id:"",p_source:"Marketing Assist",p_data_source:"GAMIFICATION",pasa_amount:"",product_name:"",pasa_product:"",associated_rider:"",customer_app_product:"",p_data_medium:" GAMIFICATION ",utmSource:"",userId:s,gameID:i,remarks:e.summary_dtls||"Life Shield Bomber Lead",appointment_date:"",appointment_time:""};console.log("[API] Submitting lead to WhatsApp Inhouse API:",o);try{const r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),a=await r.json().catch(()=>({}));return{success:r.ok,...a}}catch(r){return console.error("LMS Submission Error:",r),{success:!1,error:r.message}}},Hd=120;function Kd(){const[e,t]=m.useState($.LANDING),[n,s]=m.useState(()=>Ni()),[i,o]=m.useState({row:1,col:1}),[r,a]=m.useState(ji),[l,d]=m.useState(0),[c,h]=m.useState(0),[f,p]=m.useState(Pi),[g,b]=m.useState([]),[y,x]=m.useState(null),[w,v]=m.useState([]),[T,S]=m.useState(null),[N,P]=m.useState(!1),[k,C]=m.useState(null),R=m.useRef(n),F=m.useRef(i),re=m.useRef(!1),I=m.useRef(null),K=m.useRef(null),A=m.useRef(0),G=m.useRef(!1),E=m.useRef(null),U=m.useRef(r),oe=m.useRef(0);R.current=n,F.current=i,U.current=r,m.useEffect(()=>{re.current=e===$.PLAYING},[e]),m.useEffect(()=>{if(e===$.PLAYING)return I.current=setInterval(()=>{p(D=>D<=1?(clearInterval(I.current),I.current=null,Vt(),0):D-1)},1e3),()=>{I.current&&(clearInterval(I.current),I.current=null)}},[e]),m.useEffect(()=>{if(e!==$.PLAYING)return;const D=O=>{const le={ArrowUp:"UP",ArrowDown:"DOWN",ArrowLeft:"LEFT",ArrowRight:"RIGHT",w:"UP",W:"UP",s:"DOWN",S:"DOWN",a:"LEFT",A:"LEFT",d:"RIGHT",D:"RIGHT"}[O.key];if(le){O.preventDefault(),Q(le);return}(O.key===" "||O.key==="Enter")&&(O.preventDefault(),ae())};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[e]),m.useEffect(()=>()=>{I.current&&clearInterval(I.current),K.current&&clearTimeout(K.current),E.current&&clearTimeout(E.current)},[]);const Q=m.useCallback(D=>{if(!re.current)return;const O=Date.now();if(O-A.current<Hd)return;const Z=zd[D];if(!Z)return;const le=F.current,ee=le.row+Z.row,pe=le.col+Z.col;if(!ko(ee,pe))return;const ze=R.current[ee][pe];ze.type===q.WALL||ze.type===q.RISK||ze.hasBomb||(A.current=O,o({row:ee,col:pe}),ze.type===q.EXIT&&Vt())},[]),ae=m.useCallback(()=>{if(!re.current||k)return;const D=F.current,O=R.current;if(O[D.row][D.col].hasBomb)return;const Z=Qt(O);Z[D.row][D.col].hasBomb=!0,s(Z),C({row:D.row,col:D.col}),K.current=setTimeout(()=>{Ue(D.row,D.col)},Wd)},[k]),Ue=m.useCallback((D,O)=>{const Z=R.current;if(!Z)return;const le=Gd(Z,D,O,Ud);b(le);const ee=Qt(Z),pe=[];ee[D][O].hasBomb=!1;for(const{row:_,col:te}of le)ee[_][te].isExploding=!0,ee[_][te].type===q.RISK&&(ee[_][te].riskData&&pe.push(ee[_][te].riskData.label),ee[_][te].type=q.FLOOR,ee[_][te].riskData=null);s(ee);const Lt=F.current;if(le.some(_=>_.row===Lt.row&&_.col===Lt.col)&&(a(_=>{const te=_-1;return te<=0&&setTimeout(()=>Vt(),300),Math.max(0,te)}),P(!0),setTimeout(()=>P(!1),300)),pe.length>0){const _=pe.length;h(Pe=>Pe+_),d(Pe=>Pe+_*Ci),ct(`+${_*Ci}`,D,O);const te=_===1?`${pe[0]} Mitigated!`:`${_} Risks Mitigated!`;Et(te)}setTimeout(()=>{const _=Qt(R.current);for(let te=0;te<_.length;te++)for(let Pe=0;Pe<_[te].length;Pe++)_[te][Pe].isExploding=!1;s(_),b([]),C(null)},500)},[]),ct=m.useCallback((D,O,Z)=>{const le=`fs-${++oe.current}`;v(ee=>[...ee,{id:le,value:D,row:O,col:Z}]),setTimeout(()=>{v(ee=>ee.filter(pe=>pe.id!==le))},800)},[]),Et=m.useCallback(D=>{const O=D||Ai[Math.floor(Math.random()*Ai.length)];x(O),E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{x(null)},1200)},[]),Dt=m.useCallback(async(D,O)=>{S({name:D,mobile:O}),G.current=!1;const Z=new Date;Z.setDate(Z.getDate()+1),Z.toISOString().split("T")[0],await en({name:D.trim(),mobile_no:O,summary_dtls:"Life Shield Bomber Lead"}),t($.HOW_TO_PLAY)},[]),$o=m.useCallback(()=>{const D=Ni();s(D),o({row:1,col:1}),a(ji),d(0),h(0),p(Pi),b([]),x(null),v([]),P(!1),C(null),K.current&&(clearTimeout(K.current),K.current=null),t($.PLAYING)},[]),Vt=m.useCallback(()=>{I.current&&(clearInterval(I.current),I.current=null),K.current&&(clearTimeout(K.current),K.current=null),t($.FINISHED),setTimeout(()=>{t($.RESULT)},1500)},[]),Wo=m.useCallback(()=>{if(I.current&&(clearInterval(I.current),I.current=null),K.current&&(clearTimeout(K.current),K.current=null),!G.current&&T){G.current=!0;const D=Mi(c,r,f);en({name:T.name,mobile_no:T.mobile,summary_dtls:`Life Shield Bomber - Early Exit - Score: ${D}/100`})}t($.EXITED),setTimeout(()=>{t($.RESULT)},800)},[T,c,r,f]),Uo=m.useCallback(()=>{G.current=!1,t($.LANDING)},[]),zo=m.useCallback(()=>{G.current=!1,t($.HOW_TO_PLAY)},[]),Go=m.useCallback(async D=>{try{await en({name:D.name,mobile_no:D.mobile,param4:D.date,param19:D.time,summary_dtls:"Life Shield Bomber - Slot Booking",p_data_source:"LIFE_SHIELD_BOMBER_BOOKING"})}catch{}finally{t($.THANK_YOU)}},[]),Ho=m.useCallback(()=>{t($.THANK_YOU)},[]),Ko=Mi(c,r,f);return{gamePhase:e,grid:n,playerPos:i,health:r,score:l,risksDestroyed:c,timeLeft:f,explosionCells:g,activePraise:y,floatingScores:w,entryDetails:T,shakeScreen:N,activeBomb:k,finalScore:Ko,movePlayer:Q,placeBomb:ae,handleEntrySubmit:Dt,startGame:$o,exitGame:Wo,restartGame:Uo,goToHowToPlay:zo,handleBookSlot:Go,showThankYou:Ho}}const Yd=m.memo(function(){return u.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none bg-cinematic",children:[u.jsx("div",{className:"absolute inset-0 grid-texture opacity-20"}),u.jsx(M.div,{animate:{scale:[1,1.2,1],opacity:[.15,.25,.15],rotate:[0,45,0]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-[-10%] left-[20%] w-[31.25rem] h-[31.25rem] bg-blue-600/10 blur-[7.5rem] rounded-full"}),u.jsx(M.div,{animate:{scale:[1,1.3,1],opacity:[.1,.2,.1],rotate:[0,-30,0]},transition:{duration:20,repeat:1/0,ease:"linear",delay:2},className:"absolute bottom-[-10%] right-[10%] w-[25rem] h-[25rem] bg-teal-500/10 blur-[6.25rem] rounded-full"}),[...Array(8)].map((t,n)=>u.jsx(M.div,{initial:{x:`${Math.random()*100}%`,y:`${Math.random()*100}%`,opacity:0},animate:{y:[null,`${Math.random()*-10}%`],opacity:[0,.3,0]},transition:{duration:5+Math.random()*5,repeat:1/0,delay:Math.random()*5},className:"absolute w-1 h-1 bg-white rounded-full blur-[0.0625rem]"},n))]})});var tn={exports:{}},nn,Ri;function qd(){if(Ri)return nn;Ri=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return nn=e,nn}var sn,Ei;function Xd(){if(Ei)return sn;Ei=1;var e=qd();function t(){}function n(){}return n.resetWarningCache=t,sn=function(){function s(r,a,l,d,c,h){if(h!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}s.isRequired=s;function i(){return s}var o={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},sn}var Di;function Zd(){return Di||(Di=1,tn.exports=Xd()()),tn.exports}var Jd=Zd();const V=Yo(Jd),Qd={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.3}}},Re={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},Po=m.memo(function({onStart:t}){return u.jsxs(M.div,{className:"w-full min-h-[100dvh] flex flex-col items-center justify-center px-5 relative overflow-hidden",variants:Qd,initial:"hidden",animate:"visible",style:{background:"linear-gradient(180deg, #0D1B3E 0%, #060E24 50%, #0A1628 100%)"},children:[u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute top-[15%] left-[10%] w-80 h-80 rounded-full bg-blue-600/[0.08] blur-[6.25rem]"}),u.jsx("div",{className:"absolute bottom-[20%] right-[5%] w-72 h-72 rounded-full bg-red-500/[0.06] blur-[5rem]"}),u.jsx("div",{className:"absolute top-[60%] left-[50%] w-64 h-64 rounded-full bg-amber-500/[0.05] blur-[5.625rem]"})]}),u.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[{icon:"",x:"12%",y:"18%",delay:0,size:32},{icon:"",x:"78%",y:"22%",delay:.5,size:28},{icon:"",x:"20%",y:"70%",delay:1,size:24},{icon:"",x:"82%",y:"65%",delay:1.5,size:30},{icon:"",x:"45%",y:"85%",delay:2,size:20},{icon:"",x:"68%",y:"12%",delay:.8,size:22}].map((n,s)=>u.jsx(M.div,{initial:{opacity:0,scale:0},animate:{opacity:[0,.5,.25,.5],scale:[0,1,.9,1],y:[0,-10,0,-10]},transition:{delay:n.delay,duration:4,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},className:"absolute flex items-center justify-center",style:{left:n.x,top:n.y,width:`${n.size/16}rem`,height:`${n.size/16}rem`,fontSize:`${n.size/20}rem`},children:n.icon},s))}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center max-w-sm",children:[u.jsx(M.div,{variants:Re,className:"mb-6",children:u.jsx("div",{className:"px-4 py-1.5 rounded-full text-[0.6rem] font-black uppercase tracking-[0.25em]",style:{background:"rgba(0, 102, 178, 0.15)",border:"0.09375rem solid rgba(0, 102, 178, 0.35)",color:"#60A5FA"},children:"Bajaj Life Insurance"})}),u.jsxs(M.h1,{variants:Re,className:"font-display text-[2.2rem] font-extrabold leading-[1.1] text-white mb-2",style:{textShadow:"0 0 2rem rgba(59,130,246,0.3)"},children:["Life Shield",u.jsx("br",{}),"Bomber"]}),u.jsx(M.p,{variants:Re,className:"text-white/40 text-[0.75rem] font-bold uppercase tracking-[0.2em] mb-6",children:"Eliminate Financial Risks"}),u.jsx(M.div,{variants:Re,className:"flex items-center gap-3 mb-8",children:[{icon:"",label:"Medical"},{icon:"",label:"Debt"},{icon:"",label:"Inflation"},{icon:"",label:"Emergency"}].map((n,s)=>u.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8+s*.1},className:"flex flex-col items-center gap-1",children:[u.jsx("div",{className:"w-8 h-8 rounded-md flex items-center justify-center",style:{background:"rgba(239, 68, 68, 0.15)",border:"0.0625rem solid rgba(239, 68, 68, 0.3)"},children:u.jsx("span",{className:"text-[1rem]",children:n.icon})}),u.jsx("span",{className:"text-[0.45rem] font-bold text-white/30 uppercase tracking-wider",children:n.label})]},n.label))}),u.jsx(M.div,{variants:Re,className:"w-full max-w-[16rem]",children:u.jsx("button",{onClick:t,id:"btn-start-bomber",className:"w-full py-3.5 rounded-md font-display font-extrabold text-[0.95rem] tracking-widest text-white uppercase transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",style:{background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",boxShadow:"0 0.25rem 1.25rem rgba(0, 102, 178, 0.3)"},children:"Start Game"})}),u.jsx(M.p,{variants:Re,className:"text-white/15 text-[0.55rem] font-medium mt-6 max-w-[16rem] leading-relaxed",children:"Navigate the grid, plant bombs, and eliminate financial risks in 90 seconds"})]})]})});Po.propTypes={onStart:V.func.isRequired};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=e=>{const t=th(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:r,...a},l)=>m.createElement("svg",{ref:l,...nh,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:jo("lucide",i),...!o&&!sh(a)&&{"aria-hidden":"true"},...a},[...r.map(([d,c])=>m.createElement(d,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(e,t)=>{const n=m.forwardRef(({className:s,...i},o)=>m.createElement(ih,{ref:o,iconNode:t,className:jo(`lucide-${eh(Vi(e))}`,`lucide-${e}`,s),...i}));return n.displayName=Vi(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],oh=X("bomb",rh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lh=X("calendar",ah);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Li=X("check",ch);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Co=X("chevron-down",uh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hh=X("chevron-left",dh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mh=X("chevron-right",fh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gh=X("chevron-up",ph);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],os=X("clock",yh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ao=X("heart",xh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vh=X("loader-circle",bh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Th=X("move",wh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],kh=X("phone",Sh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],jh=X("play",Ph);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],No=X("rotate-ccw",Ch);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ii=X("share-2",Ah);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Mo=X("shield",Nh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Je=X("x",Mh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ro=X("zap",Rh),Eo=m.memo(function({onSubmit:t,onClose:n}){const[s,i]=m.useState(""),[o,r]=m.useState(""),[a,l]=m.useState(!0),[d,c]=m.useState(!1),[h,f]=m.useState({}),[p,g]=m.useState(!1),[b,y]=m.useState(null),x=m.useRef(null),[w,v]=m.useState(()=>sessionStorage.getItem("bomber_lastPhone")||null);m.useEffect(()=>{w&&sessionStorage.setItem("bomber_lastPhone",w)},[w]),m.useEffect(()=>{if(b){const P=setTimeout(()=>y(null),3e3);return()=>clearTimeout(P)}},[b]);const T=(P,k)=>{let C="";return P==="name"?k.trim()?/^[A-Za-z\s]+$/.test(k.trim())||(C="Name must contain only letters."):C="Please enter your name":P==="phone"&&(k?/^\d{10}$/.test(k)||(C="Enter a valid 10-digit mobile number"):C="Please enter mobile number"),C?(f(R=>({...R,[P]:C})),!1):(f(R=>({...R,[P]:""})),!0)},S=()=>T("name",s)&T("phone",o),N=async P=>{if(P.preventDefault(),!!S()&&a){if(w===o){y({message:"You have already registered.",type:"info"}),setTimeout(()=>t(s.trim(),o),1e3);return}g(!0);try{v(o),await t(s.trim(),o)}catch{y({message:"Something went wrong.",type:"error"})}finally{g(!1)}}};return u.jsxs(u.Fragment,{children:[u.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-md",onClick:n,children:u.jsxs(M.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:P=>P.stopPropagation(),className:"relative bg-white shadow-2xl w-full max-w-[20rem] min-[375px]:max-w-[21.25rem] p-5 min-[375px]:p-6 border-[0.25rem] sm:border-[0.375rem] border-[#0066B2] rounded-2xl",children:[u.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:u.jsx(Je,{className:"w-5 h-5 min-[375px]:w-6 min-[375px]:h-6"})}),u.jsxs("div",{className:"text-center mb-4 min-[375px]:mb-6",children:[u.jsx("div",{className:"w-14 h-14 min-[375px]:w-16 min-[375px]:h-16 sm:w-20 sm:h-20 bg-[#0066B2] flex items-center justify-center mx-auto mb-3 min-[375px]:mb-4 shadow-xl border-4 border-white rounded-full",children:u.jsx("span",{className:"text-2xl min-[375px]:text-3xl sm:text-4xl",children:""})}),u.jsx("h2",{className:"text-[#0066B2] text-lg min-[375px]:text-xl sm:text-2xl font-black mb-1",children:"Welcome!"}),u.jsx("p",{className:"text-slate-500 font-bold text-xs min-[375px]:text-sm sm:text-base",children:"Enter your details to start."})]}),u.jsxs("form",{onSubmit:N,className:"space-y-3 min-[375px]:space-y-4",children:[u.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[u.jsx("label",{className:"block text-slate-700 text-[0.5625rem] min-[375px]:text-[0.625rem] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"bomber-userName",children:"Your Name"}),u.jsx("input",{id:"bomber-userName",type:"text",value:s,onChange:P=>{i(P.target.value),/^[A-Za-z\s]*$/.test(P.target.value)&&f(k=>({...k,name:""}))},onBlur:P=>T("name",P.target.value),onKeyDown:P=>{var k;P.key==="Enter"&&(P.preventDefault(),T("name",s)&&((k=x.current)==null||k.focus()))},placeholder:"Full Name",autoFocus:!0,className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${h.name?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`}),h.name&&u.jsx("p",{className:"text-red-500 text-[0.5625rem] min-[375px]:text-[0.625rem] font-black uppercase tracking-wider ml-1",children:h.name})]}),u.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[u.jsx("label",{className:"block text-slate-700 text-[0.5625rem] min-[375px]:text-[0.625rem] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"bomber-phone",children:"Mobile Number"}),u.jsx("input",{ref:x,id:"bomber-phone",type:"tel",maxLength:10,value:o,onChange:P=>{const k=P.target.value.replace(/\D/g,"").slice(0,10);r(k),f(C=>({...C,phone:""}))},onBlur:P=>T("phone",P.target.value),placeholder:"9876543210",className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${h.phone?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`}),h.phone&&u.jsx("p",{className:"text-red-500 text-[0.5625rem] min-[375px]:text-[0.625rem] font-black uppercase tracking-wider ml-1",children:h.phone})]}),u.jsxs("div",{className:"flex items-start space-x-3 pt-1 text-left",children:[u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{id:"bomber-terms",type:"checkbox",checked:a,onChange:P=>l(P.target.checked),className:"peer h-5 w-5 cursor-pointer appearance-none rounded border-2 border-slate-300 bg-slate-50 transition-all checked:border-[#0066B2] checked:bg-[#0066B2] hover:border-[#0066B2]"}),u.jsx(Li,{className:"pointer-events-none absolute left-1/2 top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100",strokeWidth:4})]}),u.jsxs("label",{htmlFor:"bomber-terms",className:"text-[0.625rem] sm:text-xs font-semibold text-slate-500 leading-tight select-none",children:["I agree to the"," ",u.jsx("button",{type:"button",onClick:()=>c(!0),className:"text-[#0066B2] hover:underline font-bold inline",children:"Terms & Conditions"})," ","and Acknowledge the Privacy Policy."]})]}),u.jsx("button",{type:"submit",disabled:!s.trim()||o.length!==10||!a||p,className:"w-full py-2.5 min-[375px]:py-3 sm:py-4 rounded-md font-display text-sm sm:text-lg tracking-widest disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2 text-white uppercase font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",style:{background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",boxShadow:"0 0.25rem 0.9375rem rgba(0, 102, 178, 0.3)"},children:p?u.jsxs(u.Fragment,{children:[u.jsx(vh,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:"Starting..."})]}):"Let's Go!"})]})]})}),u.jsx(it,{children:d&&u.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-md",onClick:()=>c(!1),children:u.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:P=>P.stopPropagation(),className:"bg-white p-6 rounded-2xl max-w-md w-full shadow-2xl border-4 border-[#0066B2] relative text-left",children:[u.jsx("button",{onClick:()=>c(!1),className:"absolute top-3 right-3 p-1 text-slate-400 hover:text-slate-600 transition-colors",children:u.jsx(Je,{className:"w-5 h-5"})}),u.jsx("h3",{className:"text-[#0066B2] font-black text-lg uppercase mb-4 tracking-tight",children:"Terms & Conditions"}),u.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 space-y-3 font-medium leading-relaxed max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[u.jsx("p",{children:"I hereby authorize Bajaj Life Insurance Limited to call me on the contact number made available by me on the website with a specific request to call back. I further declare that, irrespective of my contact number being registered on National Customer Preference Register (NCPR) or on National Do Not Call Registry (NDNC), any call made, SMS or WhatsApp sent in response to my request shall not be construed as an Unsolicited Commercial Communication even though the content of the call may be for the purposes of explaining various insurance products and services or solicitation and procurement of insurance business."}),u.jsx("p",{children:"Please refer to BALIC Privacy Policy."})]}),u.jsx("button",{onClick:()=>{c(!1),l(!0)},className:"w-full mt-6 py-3 bg-[#0066B2] text-white font-bold rounded-lg hover:bg-blue-700 transition-colors text-sm uppercase tracking-wider",children:"I Agree"})]})})}),u.jsx(it,{children:b&&u.jsxs(M.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[120] px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 ${b.type==="error"?"bg-red-500 text-white":"bg-blue-600 text-white"}`,children:[b.type==="error"?u.jsx(Je,{size:20,className:"stroke-[3]"}):u.jsx(Li,{size:20,className:"stroke-[3]"}),u.jsx("span",{className:"font-bold text-sm",children:b.message})]})})]})});Eo.propTypes={onSubmit:V.func.isRequired,onClose:V.func.isRequired};const Do=m.memo(function({onStart:t}){const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},i=[{icon:u.jsx(Th,{className:"text-white w-7 h-7 stroke-[3]"}),iconBg:"from-blue-400 to-blue-600",iconShadow:"#1e40af",glowColor:"from-blue-500 to-cyan-500",title:"Move Your Shield",desc:"Use arrow keys or on-screen controls to navigate the grid."},{icon:u.jsx(oh,{className:"text-white w-7 h-7 stroke-[3]"}),iconBg:"from-red-400 to-red-600",iconShadow:"#991b1b",glowColor:"from-red-500 to-orange-500",title:"Plant Bombs",desc:"Press Space or the bomb button to eliminate risk blocks nearby."},{icon:u.jsx(Mo,{className:"text-white w-7 h-7 stroke-[3]"}),iconBg:"from-emerald-400 to-emerald-600",iconShadow:"#065f46",glowColor:"from-emerald-500 to-teal-500",title:"Protect Your Health",desc:"You have 3 lives. Avoid your own explosions to stay alive."},{icon:u.jsx(os,{className:"text-white w-7 h-7 stroke-[3]"}),iconBg:"from-amber-400 to-amber-600",iconShadow:"#92400e",glowColor:"from-amber-500 to-orange-500",title:"90 Seconds",desc:"Destroy as many financial risks as you can before time runs out."}];return u.jsxs(M.div,{variants:n,initial:"hidden",animate:"visible",className:"fixed inset-0 z-50 flex flex-col items-center w-full h-full overflow-hidden bg-[#050B14]",style:{backgroundImage:`
                    radial-gradient(circle at 50% 0%, #1e3a8a 0%, #050B14 60%),
                    repeating-linear-gradient(45deg, rgba(255,255,255,0.03) 0rem, rgba(255,255,255,0.03) 0.0625rem, transparent 0.0625rem, transparent 2.5rem),
                    repeating-linear-gradient(-45deg, rgba(255,255,255,0.03) 0rem, rgba(255,255,255,0.03) 0.0625rem, transparent 0.0625rem, transparent 2.5rem)
                `},children:[u.jsxs("div",{className:"flex-1 w-full max-w-md px-6 pt-10 pb-32 overflow-y-auto custom-scrollbar flex flex-col items-center gap-6",children:[u.jsxs(M.div,{variants:s,className:"text-center shrink-0",children:[u.jsx("h1",{className:"font-display text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-b from-blue-200 via-blue-400 to-blue-600 drop-shadow-[0_0.25rem_0_rgba(0,0,0,0.5)]",children:"HOW TO PLAY"}),u.jsx("p",{className:"text-blue-200/80 text-xs font-semibold tracking-wide mt-2 uppercase",children:"Plant bombs. Destroy risks. Protect your future."})]}),u.jsx("div",{className:"w-full space-y-4 shrink-0",children:i.map((o,r)=>u.jsxs(M.div,{variants:s,className:"relative group",children:[u.jsx("div",{className:`absolute -inset-0.5 bg-gradient-to-r ${o.glowColor} rounded-2xl opacity-40 blur`}),u.jsxs("div",{className:"relative bg-[#0a1529] border border-blue-500/50 rounded-2xl p-4 flex items-center gap-5 shadow-[inset_0_0_1.25rem_rgba(59,130,246,0.2)]",children:[u.jsx("div",{className:`w-12 h-12 rounded-md bg-gradient-to-br ${o.iconBg} flex items-center justify-center border border-white/20`,style:{boxShadow:`0 0.25rem 0 ${o.iconShadow}`},children:o.icon}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-wide mb-1",children:o.title}),u.jsx("p",{className:"text-blue-200/60 text-xs leading-tight font-medium",children:o.desc})]})]})]},r))}),u.jsxs(M.div,{variants:s,className:"w-full relative group",children:[u.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl opacity-60 blur"}),u.jsxs("div",{className:"relative bg-gradient-to-b from-[#1e3a8a] to-[#0f172a] border border-indigo-400/50 rounded-md p-4 shadow-xl",children:[u.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-[#0f172a] px-3 py-0.5 rounded-full border border-indigo-400/50",children:u.jsx("span",{className:"text-[0.6rem] font-black text-indigo-300 tracking-widest uppercase",children:"Scoring"})}),u.jsx("div",{className:"flex justify-between items-center gap-2 pt-2",children:[{label:"Per Risk",points:"+10",color:"text-blue-400"},{label:"Health ",points:"+5",color:"text-emerald-400"},{label:"Time ",points:"+0.5",color:"text-amber-400"}].map(o=>u.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[u.jsx("span",{className:`font-display text-2xl font-extrabold ${o.color}`,children:o.points}),u.jsx("span",{className:"text-[0.5rem] text-white/60 font-bold uppercase",children:o.label})]},o.label))})]})]}),u.jsxs(M.div,{variants:s,className:"w-full mt-2",children:[u.jsx("h3",{className:"text-center text-blue-200/80 text-[0.625rem] font-bold uppercase tracking-[0.2em] mb-4",children:"Financial Risks"}),u.jsx("div",{className:"grid grid-cols-2 gap-3 bg-[#0a1529]/50 p-4 rounded-md border border-white/5",children:[{icon:"",label:"Medical Risk",color:"#EF4444"},{icon:"",label:"Debt Trap",color:"#F59E0B"},{icon:"",label:"Inflation",color:"#8B5CF6"},{icon:"",label:"Emergency",color:"#F97316"}].map(o=>u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-md flex items-center justify-center shrink-0",style:{background:`${o.color}22`,border:`0.0625rem solid ${o.color}44`},children:u.jsx("span",{className:"text-base",children:o.icon})}),u.jsx("span",{className:"text-white/70 text-[0.625rem] font-bold uppercase tracking-wide",children:o.label})]},o.label))})]})]}),u.jsx(M.div,{variants:s,className:"absolute bottom-0 left-0 w-full p-6 bg-[#050B14]/95 backdrop-blur-xl border-t border-white/10 z-20",children:u.jsx("div",{className:"w-full max-w-md mx-auto",children:u.jsxs("button",{onClick:t,className:"w-full py-4 rounded-md font-display text-xl font-extrabold tracking-wider text-white uppercase relative overflow-hidden group transition-transform active:scale-[0.98] shadow-[0_0.375rem_0_#1e40af,0_0.9375rem_1.25rem_rgba(0,0,0,0.4)] hover:shadow-[0_0.5rem_0_#1e40af,0_1.25rem_1.5625rem_rgba(0,0,0,0.4)] active:shadow-[0_0.125rem_0_#1e40af] active:translate-y-[0.0625rem]",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#60A5FA] via-[#3B82F6] to-[#1D4ED8]"}),u.jsx("div",{className:"absolute inset-x-0 top-0 h-[0.125rem] bg-white/60"}),u.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/2 bg-gradient-to-t from-black/10 to-transparent"}),u.jsxs("div",{className:"relative flex items-center justify-center gap-3 drop-shadow-md",children:[u.jsx("span",{children:"START PLAYING"}),u.jsx(jh,{className:"w-6 h-6 fill-white",strokeWidth:3})]})]})})})]})});Do.propTypes={onStart:V.func.isRequired};const Vo=m.memo(function({timeLeft:t,health:n,score:s,onExit:i}){const o=Math.floor(t/60),r=t%60,a=`${o}:${r.toString().padStart(2,"0")}`,l=t<=15;return u.jsxs("div",{className:"glass-header w-full px-5 py-4 flex items-center justify-between relative z-30 border-b border-white/10",children:[u.jsxs("div",{className:`flex flex-col items-start ${l?"text-red-400":"text-white/80"}`,children:[u.jsxs("div",{className:"flex items-center gap-1.5 opacity-60",children:[u.jsx(os,{className:"w-3.5 h-3.5"}),u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Time"})]}),u.jsx("span",{className:`font-display text-xl font-black tabular-nums leading-none ${l?"animate-pulse text-red-500":"text-white"}`,children:a})]}),u.jsx("div",{className:"bg-white/5 px-3 py-2 rounded-2xl flex items-center gap-1.5 border border-white/10 shadow-inner",children:[...Array(3)].map((d,c)=>u.jsx(Ao,{className:`w-5 h-5 transition-all duration-500 ${c<n?"text-red-500 fill-red-500 drop-shadow-[0_0_8px_rgba(239,68,68,0.6)] scale-110":"text-white/10 grayscale opacity-30 shadow-none scale-90"}`,strokeWidth:2.5},c))}),u.jsxs("div",{className:"flex flex-col items-end text-bb-gold",children:[u.jsxs("div",{className:"flex items-center gap-1.5 opacity-60",children:[u.jsx(Ro,{className:"w-3.5 h-3.5 fill-bb-gold"}),u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Score"})]}),u.jsx("span",{className:"font-display text-xl font-black tabular-nums leading-none text-white drop-shadow-[0_0_10px_rgba(251,191,36,0.3)]",children:s})]})]})});Vo.propTypes={timeLeft:V.number.isRequired,health:V.number.isRequired,score:V.number.isRequired,onExit:V.func.isRequired};const as=m.memo(function({isDamaged:t}){return u.jsxs("div",{className:`relative w-full h-full flex items-center justify-center player-character-container ${t?"animate-pulse opacity-70":""}`,children:[u.jsx("div",{className:"absolute bottom-1 w-7 h-2 bg-black/40 blur-[4px] rounded-full scale-x-110"}),u.jsx("svg",{viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full drop-shadow-2xl animate-knight-hero-float",children:u.jsxs("g",{children:[u.jsx("path",{d:"M15 32L14 36H18L19 32H15Z",fill:"#94A3B8"})," ",u.jsx("path",{d:"M23 32L24 36H20L21 32H23Z",fill:"#94A3B8"})," ",u.jsx("path",{d:"M16 26V32L19 32V26H16Z",fill:"#64748B"})," ",u.jsx("path",{d:"M21 26V32L24 32V26H21Z",fill:"#64748B"})," ",u.jsx("path",{d:"M14 16H26V28L20 31L14 28V16Z",fill:"#1D4ED8"})," ",u.jsx("path",{d:"M17 16H23V28L20 30L17 28V16Z",fill:"white"}),"  ",u.jsx("path",{d:"M14 15V19C14 19 12 18 11 16L12 13L15 13L14 15Z",fill:"#CBD5E1"})," ",u.jsx("path",{d:"M26 15V19C26 19 28 18 29 16L28 13L25 13L26 15Z",fill:"#CBD5E1"})," ",u.jsx("path",{d:"M14 16L12 25L14 26L16 19",fill:"#94A3B8"})," ",u.jsx("path",{d:"M26 16L28 25L26 26L24 19",fill:"#94A3B8"})," ",u.jsx("circle",{cx:"20",cy:"9",r:"3.5",fill:"#FDE68A"})," ",u.jsx("path",{d:"M16.5 7.5C16.5 6 18 5 20 5C22 5 23.5 6 23.5 7.5V10H16.5V7.5Z",fill:"#78350F"})," ",u.jsxs("g",{transform:"translate(-1, 0)",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"shieldGoldGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#FBDB8A"}),u.jsx("stop",{offset:"100%",stopColor:"#B45309"})]})}),u.jsx("path",{d:"M2 15V24C2 29 6 34 10 36L11 37L12 36C16 34 20 29 20 24V15H2Z",fill:"#E2E8F0",stroke:"url(#shieldGoldGrad)",strokeWidth:"1.2"}),u.jsx("path",{d:"M5 18V23C5 26 8 29 11 31C14 29 17 26 17 23V18H5Z",fill:"#3B82F6"}),u.jsx("path",{d:"M8 21L11 24L14 21",stroke:"white",strokeWidth:"1",strokeLinecap:"round"})]}),u.jsx("path",{d:"M28 18L34 28L32 29L27 19",fill:"#94A3B8"})," ",u.jsx("path",{d:"M27 19L29 17L31 19",fill:"#B45309"})," "]})}),u.jsx("style",{dangerouslySetInnerHTML:{__html:`
                @keyframes knight-hero-float {
                    0%, 100% { transform: translateY(-2px); }
                    50% { transform: translateY(1px); }
                }
                .animate-knight-hero-float { 
                    animation: knight-hero-float 3s ease-in-out infinite;
                }
            `}})]})});as.propTypes={isDamaged:V.bool};const Lo=m.memo(function({cell:t,isPlayer:n,isExploding:s}){return s?u.jsx("div",{className:"explosion-effect"}):n?u.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:u.jsx(as,{})}):t.hasBomb?u.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:u.jsx("div",{className:"animate-bomb-pulse flex items-center justify-center",children:u.jsx("span",{className:"text-[1rem] drop-shadow-xl",children:""})})}):t.type===q.RISK&&t.riskData?u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-[11px] h-[11px] flex items-center justify-center overflow-hidden",title:t.riskData.label,children:u.jsx("span",{className:"text-[11px] leading-none select-none pointer-events-none display-block",style:{fontSize:"11px",width:"11px",height:"11px",textAlign:"center"},children:t.riskData.icon})})}):t.type===q.EXIT?u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("span",{className:"text-[1rem] animate-pulse drop-shadow-lg",children:""})}):t.type===q.WALL?u.jsx("div",{className:"absolute inset-[0.125rem] rounded-sm",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",border:"0.0625rem solid rgba(255,255,255,0.1)"}}):null});Lo.propTypes={cell:V.object.isRequired,isPlayer:V.bool.isRequired,isExploding:V.bool.isRequired};const Io=m.memo(function({grid:t,playerPos:n,explosionCells:s,floatingScores:i,activePraise:o}){const r=m.useMemo(()=>{const l=new Set;return s&&s.forEach(d=>l.add(`${d.row},${d.col}`)),l},[s]),a=l=>{switch(l.type){case q.WALL:return"cell-wall";case q.RISK:return"cell-risk";case q.EXIT:return"cell-exit";default:return"cell-floor"}};return u.jsxs("div",{className:"relative w-full max-w-[30rem] mx-auto px-4 py-6",children:[u.jsx("div",{className:"absolute inset-0 -z-10",style:{background:"radial-gradient(circle at center, rgba(59,130,246,0.12) 0%, transparent 75%)",filter:"blur(2rem)"}}),u.jsx("div",{className:"bomber-grid border-2 border-white/10 shadow-lg",style:{gridTemplateColumns:`repeat(${z}, 1fr)`,aspectRatio:"1"},children:t.map((l,d)=>l.map((c,h)=>{const f=n.row===d&&n.col===h,p=r.has(`${d},${h}`);return u.jsx("div",{className:`grid-cell ${a(c)}`,style:{border:"1px solid rgba(255,255,255,0.05)"},children:u.jsx(Lo,{cell:c,isPlayer:f,isExploding:p})},`${d}-${h}`)}))}),i.map(l=>u.jsx("div",{className:"float-point",style:{top:`${l.row/z*100}%`,left:`${l.col/z*100}%`},children:l.value},l.id)),o&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50 pointer-events-none",children:u.jsx("div",{className:"animate-pop-in px-8 py-3 rounded-xl bg-[#0F2A55]/95 backdrop-blur-md border-2 border-bb-accent shadow-[0_0_30px_rgba(59,130,246,0.5)]",children:u.jsx("span",{className:"font-display text-xl font-black text-white uppercase tracking-tighter drop-shadow-[0_2px_2px_rgba(0,0,0,0.5)] bg-clip-text text-transparent bg-gradient-to-b from-white to-gray-300",children:o})})})]})});Io.propTypes={grid:V.array.isRequired,playerPos:V.object.isRequired,explosionCells:V.array.isRequired,floatingScores:V.array.isRequired,activePraise:V.string};const Bo=m.memo(function({onMove:t,onBomb:n}){const s=m.useRef(!1),i=m.useCallback(l=>d=>{d.preventDefault(),s.current=!0,t(l)},[t]),o=m.useCallback(l=>()=>{if(s.current){s.current=!1;return}t(l)},[t]),r=m.useCallback(l=>{l.preventDefault(),s.current=!0,n()},[n]),a=m.useCallback(()=>{if(s.current){s.current=!1;return}n()},[n]);return u.jsxs("div",{className:"w-full flex items-center justify-between px-8 py-6 relative z-20 pb-10",children:[u.jsxs("div",{className:"relative w-[10rem] h-[10rem] bg-white/5 rounded-full border border-white/10 shadow-2xl overflow-hidden backdrop-blur-sm",children:[u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:[u.jsx("div",{className:"w-full h-[0.0625rem] bg-white"}),u.jsx("div",{className:"h-full w-[0.0625rem] bg-white absolute"})]}),u.jsx("button",{onTouchStart:i("UP"),onMouseDown:o("UP"),className:"dpad-btn absolute top-2 left-1/2 -translate-x-1/2 shadow-lg","aria-label":"Move Up",children:u.jsx(gh,{className:"w-7 h-7",strokeWidth:3})}),u.jsx("button",{onTouchStart:i("DOWN"),onMouseDown:o("DOWN"),className:"dpad-btn absolute bottom-2 left-1/2 -translate-x-1/2 shadow-lg","aria-label":"Move Down",children:u.jsx(Co,{className:"w-7 h-7",strokeWidth:3})}),u.jsx("button",{onTouchStart:i("LEFT"),onMouseDown:o("LEFT"),className:"dpad-btn absolute left-2 top-1/2 -translate-y-1/2 shadow-lg","aria-label":"Move Left",children:u.jsx(hh,{className:"w-7 h-7",strokeWidth:3})}),u.jsx("button",{onTouchStart:i("RIGHT"),onMouseDown:o("RIGHT"),className:"dpad-btn absolute right-2 top-1/2 -translate-y-1/2 shadow-lg","aria-label":"Move Right",children:u.jsx(mh,{className:"w-7 h-7",strokeWidth:3})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:u.jsx("div",{className:"w-4 h-4 rounded-full bg-bb-accent/40 blur-[2px] border border-white/20 shadow-[0_0_10px_rgba(59,130,246,0.5)]"})})]}),u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx("button",{onTouchStart:r,onMouseDown:a,className:"bomb-btn w-[4.5rem] h-[4.5rem] flex items-center justify-center border-4 shadow-2xl active:translate-y-1 transition-all","aria-label":"Place Bomb",children:u.jsx("span",{className:"text-2xl drop-shadow-md",children:""})}),u.jsx("span",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest",children:"Bomb"})]})]})});Bo.propTypes={onMove:V.func.isRequired,onBomb:V.func.isRequired};const Eh=m.memo(function({score:t}){const n=m.useRef(null),[s,i]=m.useState(0),o=isNaN(t)?0:t,r=Math.min(Math.max(Number(o),0),100),a=d=>d<40?"#FF3D00":d<75?"#FFD600":"#00E676";m.useEffect(()=>{const d=n.current;if(!d)return;const c=d.getContext("2d");let h;const f=.8*Math.PI,p=2.2*Math.PI,g=p-f,b=d.width,y=d.height,x=b/2,w=y/2,v=Math.min(b,y)/2-20,T=20;let S=0;const N=()=>{const P=r-S;Math.abs(P)>.5?S+=P*.08:S=r,i(Math.round(S)),c.clearRect(0,0,b,y),c.beginPath(),c.arc(x,w,v,f,p),c.lineWidth=T,c.strokeStyle="rgba(255, 255, 255, 0.1)",c.lineCap="round",c.stroke();const k=S/100,C=f+k*g,R=a(S);c.save(),c.beginPath(),c.arc(x,w,v,f,C),c.lineWidth=T,c.strokeStyle=R,c.lineCap="round",c.shadowBlur=20,c.shadowColor=R,c.stroke(),c.restore();const F=40;c.save(),c.shadowBlur=0;for(let A=0;A<=F;A++){const G=A/F,E=f+G*g,U=A%10===0,oe=U?12:6,Q=v-T/2-5,ae=Q-oe,Ue=x+Math.cos(E)*Q,ct=w+Math.sin(E)*Q,Et=x+Math.cos(E)*ae,Dt=w+Math.sin(E)*ae;c.beginPath(),c.moveTo(Ue,ct),c.lineTo(Et,Dt),c.lineWidth=U?2:1,c.strokeStyle=G<=k?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.2)",c.stroke()}c.restore();const re=v-10,I=x+Math.cos(C)*re,K=w+Math.sin(C)*re;c.save(),c.beginPath(),c.moveTo(x,w),c.lineTo(I,K),c.lineWidth=4,c.strokeStyle="#fff",c.lineCap="round",c.shadowBlur=15,c.shadowColor="#fff",c.stroke(),c.beginPath(),c.arc(x,w,8,0,Math.PI*2),c.fillStyle="#fff",c.fill(),c.restore(),Math.abs(P)>.5&&(h=requestAnimationFrame(N))};return N(),()=>{h&&cancelAnimationFrame(h)}},[r]);const l=a(s);return u.jsxs("div",{className:"relative flex flex-col items-center justify-center select-none w-full max-w-[21.875rem] mx-auto",children:[u.jsx("canvas",{ref:n,width:350,height:300,className:"w-full h-auto drop-shadow-xl"}),u.jsx("div",{className:"text-center pointer-events-none z-10 -mt-10 mb-4",children:u.jsxs("div",{className:"text-5xl sm:text-6xl font-black text-white italic tracking-tighter",style:{textShadow:`0 0 1.25rem ${l}, 0 0 2.5rem ${l}`},children:[s,u.jsx("span",{className:"text-2xl sm:text-3xl font-bold not-italic ml-1 text-white/50",children:"/100"})]})})]})}),Fo=m.memo(function(){const t=m.useRef(null);return m.useEffect(()=>{const n=t.current;if(!n)return;const s=n.getContext("2d");let i=window.innerWidth,o=window.innerHeight;n.width=i,n.height=o;const r=[],a=150,l=["#0066B2","#FF8C00","#ffffff","#FFD700","#00A3E0"];class d{constructor(){this.init()}init(){this.x=Math.random()*i,this.y=Math.random()*o-o,this.rotation=Math.random()*360,this.size=Math.random()*8+4,this.color=l[Math.floor(Math.random()*l.length)],this.vx=Math.random()*2-1,this.vy=Math.random()*2+2}update(){this.x+=this.vx,this.y+=this.vy,this.rotation+=2,this.y>o&&(this.init(),this.y=-20)}draw(){s.save(),s.translate(this.x,this.y),s.rotate(this.rotation*Math.PI/180),s.fillStyle=this.color,s.fillRect(-this.size/2,-this.size/2,this.size,this.size),s.restore()}}for(let g=0;g<a;g++)r.push(new d);let c;const h=()=>{s.clearRect(0,0,i,o),r.forEach(g=>{g.update(),g.draw()}),c=requestAnimationFrame(h)};h();const f=setTimeout(()=>{cancelAnimationFrame(c),s.clearRect(0,0,i,o)},5e3),p=()=>{i=window.innerWidth,o=window.innerHeight,n.width=i,n.height=o};return window.addEventListener("resize",p),()=>{cancelAnimationFrame(c),clearTimeout(f),window.removeEventListener("resize",p)}},[]),u.jsx("canvas",{ref:t,className:"fixed inset-0 pointer-events-none z-[100]"})}),Oo=m.memo(function({finalScore:t,risksDestroyed:n,health:s,timeLeft:i,score:o,onBookSlot:r,onShowThankYou:a,onRestart:l,entryDetails:d}){const[c,h]=m.useState(!1),[f,p]=m.useState(!1),[g,b]=m.useState(!1),[y,x]=m.useState({}),[w,v]=m.useState(!0),[T,S]=m.useState({name:(d==null?void 0:d.name)||"",mobile:(d==null?void 0:d.mobile)||"",date:"",time:""}),N=(d==null?void 0:d.name)||"Player",P=t||0,k=m.useMemo(()=>new Date().toISOString().split("T")[0],[]),C=m.useMemo(()=>{const A=new Date;return A.setMonth(A.getMonth()+1),A.toISOString().split("T")[0]},[]),R=(A,G)=>{S(E=>({...E,[A]:G})),y[A]&&x(E=>({...E,[A]:null}))},F=()=>{const A={};if(T.name.trim()?/^[A-Za-z\s]+$/.test(T.name.trim())||(A.name="Invalid name"):A.name="Name is required",T.mobile?/^\d{10}$/.test(T.mobile)||(A.mobile="Invalid mobile"):A.mobile="Mobile is required",!T.date)A.date="Required";else{const G=new Date(T.date),E=new Date(k),U=new Date(C);G<E&&(A.date="Cannot select past date"),G>U&&(A.date="Max 1 month ahead")}return T.time||(A.time="Required"),w||(A.terms="Please agree"),x(A),Object.keys(A).length===0},re=async A=>{if(A.preventDefault(),!!F()){b(!0);try{await r(T),h(!1)}catch{}finally{b(!1)}}},I=async()=>{const A=`I scored ${P}/100 in Life Shield Bomber by Bajaj Life Insurance! Can you beat my score? `;try{navigator.share?await navigator.share({title:"Life Shield Bomber",text:A,url:window.location.href}):await navigator.clipboard.writeText(A+" "+window.location.href)}catch{}},K=[{icon:u.jsx(Mo,{className:"w-5 h-5 text-blue-400"}),label:`Risks Destroyed: ${n}`,value:`+${n*10}`,desc:"10 pts each"},{icon:u.jsx(Ao,{className:"w-5 h-5 text-red-400"}),label:`Health Remaining: ${s}`,value:`+${s*5}`,desc:"5 pts each"},{icon:u.jsx(os,{className:"w-5 h-5 text-amber-400"}),label:`Time Left: ${i}s`,value:`+${Math.floor(i*.5)}`,desc:"0.5 pts/sec"},{icon:u.jsx(Ro,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"}),label:"Raw Score",value:`${o+s*5+Math.floor(i*.5)}`,desc:"Total raw pts"}];return u.jsxs("div",{className:"w-full h-full overflow-y-auto overflow-x-hidden custom-scrollbar flex flex-col items-center pt-4 pb-8 px-4",style:{background:"linear-gradient(180deg, #00509E 0%, #003366 100%)"},children:[u.jsx(Fo,{}),u.jsx("button",{onClick:I,className:"fixed top-4 right-4 z-50 text-white/90 hover:text-white transition-opacity p-2 bg-black/10 rounded-full backdrop-blur-sm",children:u.jsx(Ii,{className:"w-5 h-5 drop-shadow-md",strokeWidth:2.5})}),u.jsxs("div",{className:"relative z-10 w-full max-w-[500px] flex flex-col items-center shrink-0",children:[u.jsxs("div",{className:"text-center mb-2 w-full",children:[u.jsxs(M.h1,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"text-base sm:text-lg md:text-xl font-medium text-white uppercase tracking-wide italic mb-1",children:["Hi ",u.jsxs("span",{className:"ml-1 text-2xl sm:text-3xl md:text-4xl font-black",children:[N,"!"]})]}),u.jsxs(M.h2,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"text-sm sm:text-base md:text-lg text-white uppercase tracking-wide italic mb-2 opacity-90",children:["Your ",u.jsx("span",{className:"font-black text-lg sm:text-xl text-[#FF8C00]",children:"Life Shield"})," score is"]}),u.jsx(M.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"transform scale-90 sm:scale-100 mb-1 origin-top",children:u.jsx(Eh,{score:P})}),u.jsx("div",{className:"flex justify-center -mt-4 mb-4 relative z-20",children:u.jsxs("button",{onClick:()=>p(!0),className:"text-white/80 hover:text-white text-[10px] sm:text-xs font-bold uppercase tracking-[0.15em] flex items-center gap-1 bg-white/10 px-4 py-2 rounded-full backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-all shadow-lg",children:["Score Breakdown ",u.jsx(Co,{size:12})]})}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("button",{onClick:I,className:"bg-gradient-to-r from-[#FF8C00] to-[#FF7000] hover:from-[#FF7000] hover:to-[#E65C00] text-white font-black py-2.5 px-8 shadow-[0_3px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center gap-2 text-xs border-2 border-white/20 uppercase tracking-widest rounded-full",children:[u.jsx(Ii,{className:"w-4 h-4"})," Share"]})})]}),u.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"w-full bg-white p-5 sm:p-6 shadow-[0_20px_50px_rgba(0,0,0,0.5)] border-4 border-white/50 mb-6 shrink-0 rounded-xl relative z-20",children:[u.jsx("p",{className:"text-slate-600 text-[11px] sm:text-sm font-bold text-center mb-4 leading-relaxed uppercase tracking-wide",children:"To know more, connect with our Relationship Manager."}),u.jsxs("button",{onClick:()=>window.open("tel:18002099999","_self"),className:"w-full bg-[#0066B2] hover:bg-[#004C85] text-white font-black py-4 shadow-[0_4px_0_#00335C] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-sm sm:text-lg uppercase tracking-widest border-2 border-white/10 rounded-lg mb-4",children:[u.jsx(kh,{className:"w-5 h-5"})," Call Now"]}),u.jsxs("div",{className:"relative py-2 mb-4",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t-2 border-slate-100"})}),u.jsx("div",{className:"relative flex justify-center text-[10px] sm:text-xs uppercase",children:u.jsx("span",{className:"px-4 bg-white text-slate-400 font-black tracking-widest",children:"Or"})})]}),u.jsxs("button",{onClick:()=>h(!0),className:"w-full bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black py-4 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-sm sm:text-lg uppercase tracking-widest border-2 border-white/10 rounded-lg",children:[u.jsx(lh,{className:"w-5 h-5"})," Book a Slot"]})]}),u.jsx("div",{className:"shrink-0 text-center pb-8",children:u.jsxs("button",{onClick:l,className:"text-blue-100/60 hover:text-white text-[11px] sm:text-sm font-black uppercase tracking-[0.2em] transition-colors flex items-center justify-center gap-2 mx-auto drop-shadow-md hover:scale-105 active:scale-95",children:[u.jsx(No,{className:"w-4 h-4"})," Try Again"]})})]}),u.jsx(it,{children:f&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:u.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white p-6 w-full max-w-sm shadow-2xl relative border-4 border-white/50 rounded-xl",children:[u.jsx("button",{onClick:()=>p(!1),className:"absolute right-4 top-4 text-slate-300 hover:text-slate-500 transition-colors bg-slate-100 p-1 rounded-full",children:u.jsx(Je,{className:"w-5 h-5"})}),u.jsx("h3",{className:"text-[#0066B2] font-black text-center mb-6 uppercase tracking-wider text-sm",children:"Score Breakdown"}),u.jsx("div",{className:"space-y-3",children:K.map((A,G)=>u.jsxs("div",{className:"flex items-center justify-between gap-3 py-2 border-b border-slate-100 last:border-b-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-9 h-9 rounded-lg bg-slate-50 flex items-center justify-center border border-slate-100 shadow-sm",children:A.icon}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-700 text-sm font-semibold",children:A.label}),u.jsx("p",{className:"text-slate-400 text-[10px]",children:A.desc})]})]}),u.jsx("span",{className:"text-[#FF8C00] font-black text-sm",children:A.value})]},G))}),u.jsxs("div",{className:"mt-4 pt-3 border-t-2 border-slate-100 flex items-center justify-between",children:[u.jsx("span",{className:"text-slate-600 font-bold text-sm uppercase tracking-wider",children:"Final Score"}),u.jsxs("span",{className:"text-[#0066B2] font-black text-xl",children:[P,"/100"]})]})]})})}),u.jsx(it,{children:c&&u.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:u.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:A=>A.stopPropagation(),className:"bg-white p-6 w-full max-w-sm shadow-2xl relative border-4 border-white/50 rounded-xl",children:[u.jsx("button",{onClick:()=>h(!1),className:"absolute right-4 top-4 text-slate-300 hover:text-slate-500 transition-colors bg-slate-100 p-1 rounded-full",children:u.jsx(Je,{className:"w-5 h-5"})}),u.jsx("h2",{className:"text-[#0066B2] font-black text-center mb-6 text-sm sm:text-base uppercase tracking-tight pt-2",children:"Book a convenient slot"}),u.jsxs("form",{onSubmit:re,className:"space-y-3 sm:space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Your Name"}),u.jsx("input",{value:T.name,onChange:A=>R("name",A.target.value),className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-xs font-bold px-3 rounded",placeholder:"Full Name"}),y.name&&u.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:y.name})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mobile Number"}),u.jsx("input",{value:T.mobile,onChange:A=>R("mobile",A.target.value.replace(/\D/g,"").slice(0,10)),type:"tel",className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-xs font-bold px-3 rounded",placeholder:"9876543210"}),y.mobile&&u.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:y.mobile})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Preferred Date"}),u.jsx("input",{type:"date",min:k,max:C,value:T.date,onChange:A=>R("date",A.target.value),className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-[10px] font-bold px-2 rounded"}),y.date&&u.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:y.date})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Preferred Time"}),u.jsxs("select",{value:T.time,onChange:A=>R("time",A.target.value),className:"w-full bg-slate-50 h-10 border-2 border-slate-100 text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-100 text-[10px] font-bold px-2 appearance-none rounded",children:[u.jsx("option",{value:"",children:"Select"}),[...Array(12)].map((A,G)=>{const E=9+G,U=E+1,oe=ae=>{const Ue=ae>=12?"PM":"AM";return`${ae>12?ae-12:ae}:00 ${Ue}`},Q=`${oe(E)} - ${oe(U)}`;return u.jsx("option",{value:Q,children:Q},E)})]}),y.time&&u.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:y.time})]})]}),u.jsxs("label",{className:"flex items-start gap-2 cursor-pointer pt-1",children:[u.jsx("input",{type:"checkbox",checked:w,onChange:A=>{v(A.target.checked),y.terms&&x(G=>({...G,terms:null}))},className:"mt-0.5 w-4 h-4 accent-[#0066B2] rounded shrink-0"}),u.jsx("span",{className:"text-[10px] text-slate-500 leading-tight font-semibold",children:"I agree to receive a callback from Bajaj Life Insurance regarding my booking."})]}),y.terms&&u.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:y.terms}),u.jsx("button",{type:"submit",disabled:g,className:"w-full bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black py-4 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all uppercase tracking-widest text-xs mt-3 border-2 border-white/20 rounded-lg disabled:opacity-60",children:g?"Confirming...":"Confirm Booking"})]})]})})})]})});Oo.propTypes={finalScore:V.number.isRequired,risksDestroyed:V.number.isRequired,health:V.number.isRequired,timeLeft:V.number.isRequired,score:V.number.isRequired,onBookSlot:V.func.isRequired,onShowThankYou:V.func.isRequired,onRestart:V.func.isRequired,entryDetails:V.object};const _o=m.memo(function({onRestart:t,entryDetails:n}){const s=(n==null?void 0:n.name)||"Player";return u.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-[100dvh] flex flex-col items-center justify-center px-6 relative",style:{background:"radial-gradient(circle at 50% 30%, #0f2a55 0%, #081c3a 80%, #051421 100%)"},children:[u.jsx(Fo,{}),u.jsxs("div",{className:"flex flex-col items-center gap-5 z-10 text-center max-w-sm",children:[u.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:12},className:"w-28 h-28 rounded-full bg-gradient-to-br from-blue-500/20 to-blue-700/20 flex items-center justify-center shadow-2xl border-4 border-white/10 backdrop-blur-sm",children:u.jsx("div",{className:"w-20 h-20",children:u.jsx(as,{})})}),u.jsxs(M.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"font-display text-4xl font-extrabold text-white",children:["Thank You ",s,"!"]}),u.jsx(M.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-white/60 text-sm font-medium leading-relaxed",children:"Your details have been recorded."}),u.jsx(M.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-white/50 text-sm font-medium leading-relaxed",children:"Our relationship manager will connect with you shortly."}),u.jsxs(M.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},onClick:t,className:"flex items-center gap-2 px-6 py-2 rounded-full border border-white/10 bg-white/5 text-white/50 font-bold text-xs uppercase tracking-wider hover:bg-white/10 transition-all hover:scale-[1.02] active:scale-[0.98] mt-2",children:[u.jsx(No,{className:"w-3.5 h-3.5",strokeWidth:2.5}),"Try Again"]})]})]})});_o.propTypes={onRestart:V.func.isRequired,entryDetails:V.object};function Lh(){const{gamePhase:e,grid:t,playerPos:n,health:s,score:i,risksDestroyed:o,timeLeft:r,explosionCells:a,activePraise:l,floatingScores:d,entryDetails:c,shakeScreen:h,finalScore:f,movePlayer:p,placeBomb:g,handleEntrySubmit:b,startGame:y,exitGame:x,goToHowToPlay:w,handleBookSlot:v,showThankYou:T}=Kd(),[S,N]=m.useState(!1),P=m.useCallback(()=>{c?w():N(!0)},[c,w]),k=m.useCallback(async(R,F)=>{await b(R,F),N(!1)},[b]),C=m.useCallback(()=>{N(!1)},[]);return u.jsxs("div",{className:"relative w-full h-[100dvh] flex flex-col overflow-hidden",children:[u.jsx(Yd,{}),e===$.LANDING&&u.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-10",children:[u.jsx(Po,{onStart:P}),u.jsx(it,{children:S&&u.jsx(Eo,{onSubmit:k,onClose:C})})]}),e===$.HOW_TO_PLAY&&u.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-20",children:u.jsx(Do,{onStart:y})}),(e===$.PLAYING||e===$.FINISHED)&&u.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`relative z-10 flex flex-col h-full ${h?"animate-shake":""}`,children:[u.jsx(Vo,{timeLeft:r,health:s,score:i,onExit:x}),u.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden",children:u.jsx(Io,{grid:t,playerPos:n,explosionCells:a,floatingScores:d,activePraise:l})}),e===$.PLAYING&&u.jsx(Bo,{onMove:p,onBomb:g}),e===$.FINISHED&&u.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:u.jsxs(M.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:15},className:"text-center",children:[u.jsx("h2",{className:"font-display text-4xl font-extrabold text-white mb-2",children:s<=0?" Game Over":r<=0?" Time Up!":" Mission Complete!"}),u.jsx("p",{className:"text-white/60 font-medium",children:"Calculating your protection score..."})]})})]}),e===$.RESULT&&u.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-20",children:u.jsx(Oo,{finalScore:f,risksDestroyed:o,health:s,timeLeft:r,score:i,onBookSlot:v,onShowThankYou:T,onRestart:w,entryDetails:c})}),e===$.THANK_YOU&&u.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-20",children:u.jsx(_o,{onRestart:w,entryDetails:c})})]})}export{Lh as default};
