import{r as p,j as l}from"./index-CBqTldyQ.js";function $o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const js=p.createContext({});function ks(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bi=typeof window<"u",Oi=Bi?p.useLayoutEffect:p.useEffect,St=p.createContext(null);function Ps(e,t){e.indexOf(t)===-1&&e.push(t)}function mt(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const ae=(e,t,s)=>s>t?t:s<e?e:s;let Ns=()=>{};const le={},_i=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function $i(e){return typeof e=="object"&&e!==null}const zi=e=>/^0[^.\s]+$/u.test(e);function Ui(e){let t;return()=>(t===void 0&&(t=e()),t)}const Q=e=>e,zo=(e,t)=>s=>t(e(s)),et=(...e)=>e.reduce(zo),qe=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n};class Es{constructor(){this.subscriptions=[]}add(t){return Ps(this.subscriptions,t),()=>mt(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const se=e=>e*1e3,J=e=>e/1e3;function Wi(e,t){return t?e*(1e3/t):0}const Hi=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Uo=1e-7,Wo=12;function Ho(e,t,s,n,i){let o,r,a=0;do r=t+(s-t)/2,o=Hi(r,n,i)-e,o>0?s=r:t=r;while(Math.abs(o)>Uo&&++a<Wo);return r}function tt(e,t,s,n){if(e===t&&s===n)return Q;const i=o=>Ho(o,0,1,e,s);return o=>o===0||o===1?o:Hi(i(o),t,n)}const Gi=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ki=e=>t=>1-e(1-t),qi=tt(.33,1.53,.69,.99),Ms=Ki(qi),Yi=Gi(Ms),Xi=e=>(e*=2)<1?.5*Ms(e):.5*(2-Math.pow(2,-10*(e-1))),As=e=>1-Math.sin(Math.acos(e)),Zi=Ki(As),Ji=Gi(As),Go=tt(.42,0,1,1),Ko=tt(0,0,.58,1),Qi=tt(.42,0,.58,1),qo=e=>Array.isArray(e)&&typeof e[0]!="number",er=e=>Array.isArray(e)&&typeof e[0]=="number",Yo={linear:Q,easeIn:Go,easeInOut:Qi,easeOut:Ko,circIn:As,circInOut:Ji,circOut:Zi,backIn:Ms,backInOut:Yi,backOut:qi,anticipate:Xi},Xo=e=>typeof e=="string",hn=e=>{if(er(e)){Ns(e.length===4);const[t,s,n,i]=e;return tt(t,s,n,i)}else if(Xo(e))return Yo[e];return e},it=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Zo(e,t){let s=new Set,n=new Set,i=!1,o=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(d){r.has(d)&&(u.schedule(d),e()),d(a)}const u={schedule:(d,h=!1,f=!1)=>{const g=f&&i?s:n;return h&&r.add(d),g.has(d)||g.add(d),d},cancel:d=>{n.delete(d),r.delete(d)},process:d=>{if(a=d,i){o=!0;return}i=!0,[s,n]=[n,s],s.forEach(c),s.clear(),i=!1,o&&(o=!1,u.process(d))}};return u}const Jo=40;function tr(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,r=it.reduce((b,T)=>(b[T]=Zo(o),b),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:g}=r,x=()=>{const b=le.useManualTiming?i.timestamp:performance.now();s=!1,le.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,Jo),1)),i.timestamp=b,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),m.process(i),g.process(i),i.isProcessing=!1,s&&t&&(n=!1,e(x))},v=()=>{s=!0,n=!0,i.isProcessing||e(x)};return{schedule:it.reduce((b,T)=>{const S=r[T];return b[T]=(M,A=!1,j=!1)=>(s||v(),S.schedule(M,A,j)),b},{}),cancel:b=>{for(let T=0;T<it.length;T++)r[it[T]].cancel(b)},state:i,steps:r}}const{schedule:F,cancel:ge,state:W,steps:Mt}=tr(typeof requestAnimationFrame<"u"?requestAnimationFrame:Q,!0);let lt;function Qo(){lt=void 0}const q={now:()=>(lt===void 0&&q.set(W.isProcessing||le.useManualTiming?W.timestamp:performance.now()),lt),set:e=>{lt=e,queueMicrotask(Qo)}},sr=e=>t=>typeof t=="string"&&t.startsWith(e),nr=sr("--"),ea=sr("var(--"),Rs=e=>ea(e)?ta.test(e.split("/*")[0].trim()):!1,ta=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function fn(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Ie={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ye={...Ie,transform:e=>ae(0,1,e)},rt={...Ie,default:1},Ue=e=>Math.round(e*1e5)/1e5,Ds=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sa(e){return e==null}const na=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vs=(e,t)=>s=>!!(typeof s=="string"&&na.test(s)&&s.startsWith(e)||t&&!sa(s)&&Object.prototype.hasOwnProperty.call(s,t)),ir=(e,t,s)=>n=>{if(typeof n!="string")return n;const[i,o,r,a]=n.match(Ds);return{[e]:parseFloat(i),[t]:parseFloat(o),[s]:parseFloat(r),alpha:a!==void 0?parseFloat(a):1}},ia=e=>ae(0,255,e),At={...Ie,transform:e=>Math.round(ia(e))},Se={test:Vs("rgb","red"),parse:ir("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+At.transform(e)+", "+At.transform(t)+", "+At.transform(s)+", "+Ue(Ye.transform(n))+")"};function ra(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Zt={test:Vs("#"),parse:ra,transform:Se.transform},st=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fe=st("deg"),oe=st("%"),C=st("px"),oa=st("vh"),aa=st("vw"),mn={...oe,parse:e=>oe.parse(e)/100,transform:e=>oe.transform(e*100)},Pe={test:Vs("hsl","hue"),parse:ir("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+oe.transform(Ue(t))+", "+oe.transform(Ue(s))+", "+Ue(Ye.transform(n))+")"},$={test:e=>Se.test(e)||Zt.test(e)||Pe.test(e),parse:e=>Se.test(e)?Se.parse(e):Pe.test(e)?Pe.parse(e):Zt.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Se.transform(e):Pe.transform(e),getAnimatableNone:e=>{const t=$.parse(e);return t.alpha=0,$.transform(t)}},la=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ca(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ds))==null?void 0:t.length)||0)+(((s=e.match(la))==null?void 0:s.length)||0)>0}const rr="number",or="color",ua="var",da="var(",pn="${}",ha=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xe(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(ha,c=>($.test(c)?(n.color.push(o),i.push(or),s.push($.parse(c))):c.startsWith(da)?(n.var.push(o),i.push(ua),s.push(c)):(n.number.push(o),i.push(rr),s.push(parseFloat(c))),++o,pn)).split(pn);return{values:s,split:a,indexes:n,types:i}}function ar(e){return Xe(e).values}function lr(e){const{split:t,types:s}=Xe(e),n=t.length;return i=>{let o="";for(let r=0;r<n;r++)if(o+=t[r],i[r]!==void 0){const a=s[r];a===rr?o+=Ue(i[r]):a===or?o+=$.transform(i[r]):o+=i[r]}return o}}const fa=e=>typeof e=="number"?0:$.test(e)?$.getAnimatableNone(e):e;function ma(e){const t=ar(e);return lr(e)(t.map(fa))}const ne={test:ca,parse:ar,createTransformer:lr,getAnimatableNone:ma};function Rt(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function pa({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,o=0,r=0;if(!t)i=o=r=s;else{const a=s<.5?s*(1+t):s+t-s*t,c=2*s-a;i=Rt(c,a,e+1/3),o=Rt(c,a,e),r=Rt(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:n}}function pt(e,t){return s=>s>0?t:e}const O=(e,t,s)=>e+(t-e)*s,Dt=(e,t,s)=>{const n=e*e,i=s*(t*t-n)+n;return i<0?0:Math.sqrt(i)},ga=[Zt,Se,Pe],xa=e=>ga.find(t=>t.test(e));function gn(e){const t=xa(e);if(!t)return!1;let s=t.parse(e);return t===Pe&&(s=pa(s)),s}const xn=(e,t)=>{const s=gn(e),n=gn(t);if(!s||!n)return pt(e,t);const i={...s};return o=>(i.red=Dt(s.red,n.red,o),i.green=Dt(s.green,n.green,o),i.blue=Dt(s.blue,n.blue,o),i.alpha=O(s.alpha,n.alpha,o),Se.transform(i))},Jt=new Set(["none","hidden"]);function ya(e,t){return Jt.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function ba(e,t){return s=>O(e,t,s)}function Is(e){return typeof e=="number"?ba:typeof e=="string"?Rs(e)?pt:$.test(e)?xn:Sa:Array.isArray(e)?cr:typeof e=="object"?$.test(e)?xn:va:pt}function cr(e,t){const s=[...e],n=s.length,i=e.map((o,r)=>Is(o)(o,t[r]));return o=>{for(let r=0;r<n;r++)s[r]=i[r](o);return s}}function va(e,t){const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=Is(e[i])(e[i],t[i]));return i=>{for(const o in n)s[o]=n[o](i);return s}}function wa(e,t){const s=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],r=e.indexes[o][n[o]],a=e.values[r]??0;s[i]=a,n[o]++}return s}const Sa=(e,t)=>{const s=ne.createTransformer(t),n=Xe(e),i=Xe(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Jt.has(e)&&!i.values.length||Jt.has(t)&&!n.values.length?ya(e,t):et(cr(wa(n,i),i.values),s):pt(e,t)};function ur(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?O(e,t,s):Is(e)(e,t)}const Ta=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>F.update(t,s),stop:()=>ge(t),now:()=>W.isProcessing?W.timestamp:q.now()}},dr=(e,t,s=10)=>{let n="";const i=Math.max(Math.round(t/s),2);for(let o=0;o<i;o++)n+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},gt=2e4;function Ls(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<gt;)t+=s,n=e.next(t);return t>=gt?1/0:t}function Ca(e,t=100,s){const n=s({...e,keyframes:[0,t]}),i=Math.min(Ls(n),gt);return{type:"keyframes",ease:o=>n.next(i*o).value/t,duration:J(i)}}const ja=5;function hr(e,t,s){const n=Math.max(t-ja,0);return Wi(s-e(n),t-n)}const _={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vt=.001;function ka({duration:e=_.duration,bounce:t=_.bounce,velocity:s=_.velocity,mass:n=_.mass}){let i,o,r=1-t;r=ae(_.minDamping,_.maxDamping,r),e=ae(_.minDuration,_.maxDuration,J(e)),r<1?(i=u=>{const d=u*r,h=d*e,f=d-s,m=Qt(u,r),g=Math.exp(-h);return Vt-f/m*g},o=u=>{const h=u*r*e,f=h*s+s,m=Math.pow(r,2)*Math.pow(u,2)*e,g=Math.exp(-h),x=Qt(Math.pow(u,2),r);return(-i(u)+Vt>0?-1:1)*((f-m)*g)/x}):(i=u=>{const d=Math.exp(-u*e),h=(u-s)*e+1;return-Vt+d*h},o=u=>{const d=Math.exp(-u*e),h=(s-u)*(e*e);return d*h});const a=5/e,c=Na(i,o,a);if(e=se(e),isNaN(c))return{stiffness:_.stiffness,damping:_.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:r*2*Math.sqrt(n*u),duration:e}}}const Pa=12;function Na(e,t,s){let n=s;for(let i=1;i<Pa;i++)n=n-e(n)/t(n);return n}function Qt(e,t){return e*Math.sqrt(1-t*t)}const Ea=["duration","bounce"],Ma=["stiffness","damping","mass"];function yn(e,t){return t.some(s=>e[s]!==void 0)}function Aa(e){let t={velocity:_.velocity,stiffness:_.stiffness,damping:_.damping,mass:_.mass,isResolvedFromDuration:!1,...e};if(!yn(e,Ma)&&yn(e,Ea))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,o=2*ae(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:_.mass,stiffness:i,damping:o}}else{const s=ka(e);t={...t,...s,mass:_.mass},t.isResolvedFromDuration=!0}return t}function xt(e=_.visualDuration,t=_.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=s;const o=s.keyframes[0],r=s.keyframes[s.keyframes.length-1],a={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=Aa({...s,velocity:-J(s.velocity||0)}),g=f||0,x=u/(2*Math.sqrt(c*d)),v=r-o,y=J(Math.sqrt(c/d)),w=Math.abs(v)<5;n||(n=w?_.restSpeed.granular:_.restSpeed.default),i||(i=w?_.restDelta.granular:_.restDelta.default);let b;if(x<1){const S=Qt(y,x);b=M=>{const A=Math.exp(-x*y*M);return r-A*((g+x*y*v)/S*Math.sin(S*M)+v*Math.cos(S*M))}}else if(x===1)b=S=>r-Math.exp(-y*S)*(v+(g+y*v)*S);else{const S=y*Math.sqrt(x*x-1);b=M=>{const A=Math.exp(-x*y*M),j=Math.min(S*M,300);return r-A*((g+x*y*v)*Math.sinh(j)+S*v*Math.cosh(j))/S}}const T={calculatedDuration:m&&h||null,next:S=>{const M=b(S);if(m)a.done=S>=h;else{let A=S===0?g:0;x<1&&(A=S===0?se(g):hr(b,S,M));const j=Math.abs(A)<=n,R=Math.abs(r-M)<=i;a.done=j&&R}return a.value=a.done?r:M,a},toString:()=>{const S=Math.min(Ls(T),gt),M=dr(A=>T.next(S*A).value,S,30);return S+"ms "+M},toTransition:()=>{}};return T}xt.applyToOptions=e=>{const t=Ca(e,100,xt);return e.ease=t.ease,e.duration=se(t.duration),e.type="keyframes",e};function es({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:a,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=j=>a!==void 0&&j<a||c!==void 0&&j>c,g=j=>a===void 0?c:c===void 0||Math.abs(a-j)<Math.abs(c-j)?a:c;let x=s*t;const v=h+x,y=r===void 0?v:r(v);y!==v&&(x=y-h);const w=j=>-x*Math.exp(-j/n),b=j=>y+w(j),T=j=>{const R=w(j),P=b(j);f.done=Math.abs(R)<=u,f.value=f.done?y:P};let S,M;const A=j=>{m(f.value)&&(S=j,M=xt({keyframes:[f.value,g(f.value)],velocity:hr(b,j,f.value),damping:i,stiffness:o,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:j=>{let R=!1;return!M&&S===void 0&&(R=!0,T(j),A(j)),S!==void 0&&j>=S?M.next(j-S):(!R&&T(j),f)}}}function Ra(e,t,s){const n=[],i=s||le.mix||ur,o=e.length-1;for(let r=0;r<o;r++){let a=i(e[r],e[r+1]);if(t){const c=Array.isArray(t)?t[r]||Q:t;a=et(c,a)}n.push(a)}return n}function Da(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const o=e.length;if(Ns(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Ra(t,n,i),c=a.length,u=d=>{if(r&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=qe(e[h],e[h+1],d);return a[h](f)};return s?d=>u(ae(e[0],e[o-1],d)):u}function Va(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=qe(0,t,n);e.push(O(s,1,i))}}function Ia(e){const t=[0];return Va(t,e.length-1),t}function La(e,t){return e.map(s=>s*t)}function Fa(e,t){return e.map(()=>t||Qi).splice(0,e.length-1)}function We({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=qo(n)?n.map(hn):hn(n),o={done:!1,value:t[0]},r=La(s&&s.length===t.length?s:Ia(t),e),a=Da(r,t,{ease:Array.isArray(i)?i:Fa(t,i)});return{calculatedDuration:e,next:c=>(o.value=a(c),o.done=c>=e,o)}}const Ba=e=>e!==null;function Fs(e,{repeat:t,repeatType:s="loop"},n,i=1){const o=e.filter(Ba),a=i<0||t&&s!=="loop"&&t%2===1?0:o.length-1;return!a||n===void 0?o[a]:n}const Oa={decay:es,inertia:es,tween:We,keyframes:We,spring:xt};function fr(e){typeof e.type=="string"&&(e.type=Oa[e.type])}class Bs{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const _a=e=>e/100;class Os extends Bs{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:s}=this.options;s&&s.updatedAt!==q.now()&&this.tick(q.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;fr(t);const{type:s=We,repeat:n=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=t;let{keyframes:a}=t;const c=s||We;c!==We&&typeof a[0]!="number"&&(this.mixKeyframes=et(_a,ur(a[0],a[1])),a=[0,100]);const u=c({...t,keyframes:a});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...a].reverse(),velocity:-r})),u.calculatedDuration===null&&(u.calculatedDuration=Ls(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:n,totalDuration:i,mixKeyframes:o,mirroredGenerator:r,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:g,onUpdate:x,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,T=n;if(h){const j=Math.min(this.currentTime,i)/a;let R=Math.floor(j),P=j%1;!P&&j>=1&&(P=1),P===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(f==="reverse"?(P=1-P,m&&(P-=m/a)):f==="mirror"&&(T=r)),b=ae(0,1,P)*a}const S=w?{done:!1,value:d[0]}:T.next(b);o&&(S.value=o(S.value));let{done:M}=S;!w&&c!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return A&&g!==es&&(S.value=Fs(d,this.options,v,this.speed)),x&&x(S.value),A&&this.finish(),S}then(t,s){return this.finished.then(t,s)}get duration(){return J(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+J(t)}get time(){return J(this.currentTime)}set time(t){var s;t=se(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(q.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=J(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:t=Ta,startTime:s}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),(o=(i=this.options).onPlay)==null||o.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(q.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function $a(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Te=e=>e*180/Math.PI,ts=e=>{const t=Te(Math.atan2(e[1],e[0]));return ss(t)},za={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ts,rotateZ:ts,skewX:e=>Te(Math.atan(e[1])),skewY:e=>Te(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ss=e=>(e=e%360,e<0&&(e+=360),e),bn=ts,vn=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),wn=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Ua={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vn,scaleY:wn,scale:e=>(vn(e)+wn(e))/2,rotateX:e=>ss(Te(Math.atan2(e[6],e[5]))),rotateY:e=>ss(Te(Math.atan2(-e[2],e[0]))),rotateZ:bn,rotate:bn,skewX:e=>Te(Math.atan(e[4])),skewY:e=>Te(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ns(e){return e.includes("scale")?1:0}function is(e,t){if(!e||e==="none")return ns(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(s)n=Ua,i=s;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=za,i=a}if(!i)return ns(t);const o=n[t],r=i[1].split(",").map(Ha);return typeof o=="function"?o(r):r[o]}const Wa=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return is(s,t)};function Ha(e){return parseFloat(e.trim())}const Le=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fe=new Set(Le),Sn=e=>e===Ie||e===C,Ga=new Set(["x","y","z"]),Ka=Le.filter(e=>!Ga.has(e));function qa(e){const t=[];return Ka.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const pe={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>is(t,"x"),y:(e,{transform:t})=>is(t,"y")};pe.translateX=pe.x;pe.translateY=pe.y;const Ce=new Set;let rs=!1,os=!1,as=!1;function mr(){if(os){const e=Array.from(Ce).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const i=qa(n);i.length&&(s.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([o,r])=>{var a;(a=n.getValue(o))==null||a.set(r)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}os=!1,rs=!1,Ce.forEach(e=>e.complete(as)),Ce.clear()}function pr(){Ce.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(os=!0)})}function Ya(){as=!0,pr(),mr(),as=!1}class _s{constructor(t,s,n,i,o,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(Ce.add(this),rs||(rs=!0,F.read(pr),F.resolveKeyframes(mr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),r=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&s){const a=n.readValue(s,r);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=r),i&&o===void 0&&i.set(t[0])}$a(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ce.delete(this)}cancel(){this.state==="scheduled"&&(Ce.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Xa=e=>e.startsWith("--");function Za(e,t,s){Xa(t)?e.style.setProperty(t,s):e.style[t]=s}const Ja={};function gr(e,t){const s=Ui(e);return()=>Ja[t]??s()}const Qa=gr(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),xr=gr(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ze=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Tn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ze([0,.65,.55,1]),circOut:ze([.55,0,1,.45]),backIn:ze([.31,.01,.66,-.59]),backOut:ze([.33,1.53,.69,.99])};function yr(e,t){if(e)return typeof e=="function"?xr()?dr(e,t):"ease-out":er(e)?ze(e):Array.isArray(e)?e.map(s=>yr(s,t)||Tn.easeOut):Tn[e]}function el(e,t,s,{delay:n=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:a="easeOut",times:c}={},u=void 0){const d={[t]:s};c&&(d.offset=c);const h=yr(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function br(e){return typeof e=="function"&&"applyToOptions"in e}function tl({type:e,...t}){return br(e)&&xr()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class vr extends Bs{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:s,name:n,keyframes:i,pseudoElement:o,allowFlatten:r=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=r,this.options=t,Ns(typeof t.type!="string");const u=tl(t);this.animation=el(s,n,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=Fs(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):Za(s,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,n,i;const t=(s=this.options)==null?void 0:s.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((i=(n=this.animation).commitStyles)==null||i.call(n))}get duration(){var s,n;const t=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return J(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+J(t)}get time(){return J(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=se(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Qa()?(this.animation.timeline=t,Q):s(this)}}const wr={anticipate:Xi,backInOut:Yi,circInOut:Ji};function sl(e){return e in wr}function nl(e){typeof e.ease=="string"&&sl(e.ease)&&(e.ease=wr[e.ease])}const It=10;class il extends vr{constructor(t){nl(t),fr(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:n,onComplete:i,element:o,...r}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const a=new Os({...r,autoplay:!1}),c=Math.max(It,q.now()-this.startTime),u=ae(0,It,c-It);s.setWithVelocity(a.sample(Math.max(0,c-u)).value,a.sample(c).value,u),a.stop()}}const Cn=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ne.test(e)||e==="0")&&!e.startsWith("url("));function rl(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function ol(e,t,s,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],r=Cn(i,t),a=Cn(o,t);return!r||!a?!1:rl(e)||(s==="spring"||br(s))&&n}function ls(e){e.duration=0,e.type="keyframes"}const al=new Set(["opacity","clipPath","filter","transform"]),ll=Ui(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cl(e){var d;const{motionValue:t,name:s,repeatDelay:n,repeatType:i,damping:o,type:r}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return ll()&&s&&al.has(s)&&(s!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&o!==0&&r!=="inertia"}const ul=40;class dl extends Bs{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:r="loop",keyframes:a,name:c,motionValue:u,element:d,...h}){var g;super(),this.stop=()=>{var x,v;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=q.now();const f={autoplay:t,delay:s,type:n,repeat:i,repeatDelay:o,repeatType:r,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||_s;this.keyframeResolver=new m(a,(x,v,y)=>this.onKeyframesResolved(x,v,f,!y),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,s,n,i){var v,y;this.keyframeResolver=void 0;const{name:o,type:r,velocity:a,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=q.now(),ol(t,o,r,a)||((le.instantAnimations||!c)&&(d==null||d(Fs(t,n,s))),t[0]=t[t.length-1],ls(n),n.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>ul?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:t},m=!u&&cl(f),g=(y=(v=f.motionValue)==null?void 0:v.owner)==null?void 0:y.current,x=m?new il({...f,element:g}):new Os(f);x.finished.then(()=>{this.notifyFinished()}).catch(Q),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Ya()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function Sr(e,t,s,n=0,i=1){const o=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),r=e.size,a=(r-1)*n;return typeof s=="function"?s(o,r):i===1?o*n:a-o*n}const hl=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fl(e){const t=hl.exec(e);if(!t)return[,];const[,s,n,i]=t;return[`--${s??n}`,i]}function Tr(e,t,s=1){const[n,i]=fl(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const r=o.trim();return _i(r)?parseFloat(r):r}return Rs(i)?Tr(i,t,s+1):i}const ml={type:"spring",stiffness:500,damping:25,restSpeed:10},pl=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gl={type:"keyframes",duration:.8},xl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yl=(e,{keyframes:t})=>t.length>2?gl:Fe.has(e)?e.startsWith("scale")?pl(t[1]):ml:xl,bl=e=>e!==null;function vl(e,{repeat:t,repeatType:s="loop"},n){const i=e.filter(bl),o=t&&s!=="loop"&&t%2===1?0:i.length-1;return i[o]}function Cr(e,t){if(e!=null&&e.inherit&&t){const{inherit:s,...n}=e;return{...t,...n}}return e}function $s(e,t){const s=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return s!==e?Cr(s,e):s}function wl({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const zs=(e,t,s,n={},i,o)=>r=>{const a=$s(n,e)||{},c=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-se(c);const d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{r(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};wl(a)||Object.assign(d,yl(e,d)),d.duration&&(d.duration=se(d.duration)),d.repeatDelay&&(d.repeatDelay=se(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(ls(d),d.delay===0&&(h=!0)),(le.instantAnimations||le.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(h=!0,ls(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!o&&t.get()!==void 0){const f=vl(d.keyframes,a);if(f!==void 0){F.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new Os(d):new dl(d)};function jn(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function Us(e,t,s,n){if(typeof t=="function"){const[i,o]=jn(n);t=t(s!==void 0?s:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=jn(n);t=t(s!==void 0?s:e.custom,i,o)}return t}function Re(e,t,s){const n=e.getProps();return Us(n,t,s!==void 0?s:n.custom,e)}const jr=new Set(["width","height","top","left","right","bottom",...Le]),kn=30,Sl=e=>!isNaN(parseFloat(e));class Tl{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var o;const i=q.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=q.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Sl(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Es);const n=this.events[t].add(s);return t==="change"?()=>{n(),F.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=q.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>kn)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,kn);return Wi(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ve(e,t){return new Tl(e,t)}const cs=e=>Array.isArray(e);function Cl(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Ve(s))}function jl(e){return cs(e)?e[e.length-1]||0:e}function kl(e,t){const s=Re(e,t);let{transitionEnd:n={},transition:i={},...o}=s||{};o={...o,...n};for(const r in o){const a=jl(o[r]);Cl(e,r,a)}}const G=e=>!!(e&&e.getVelocity);function Pl(e){return!!(G(e)&&e.add)}function us(e,t){const s=e.getValue("willChange");if(Pl(s))return s.add(t);if(!s&&le.WillChange){const n=new le.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Ws(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Nl="framerAppearId",kr="data-"+Ws(Nl);function Pr(e){return e.props[kr]}function El({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function Nr(e,t,{delay:s=0,transitionOverride:n,type:i}={}){let{transition:o,transitionEnd:r,...a}=t;const c=e.getDefaultTransition();o=o?Cr(o,c):c;const u=o==null?void 0:o.reduceMotion;n&&(o=n);const d=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in a){const m=e.getValue(f,e.latestValues[f]??null),g=a[f];if(g===void 0||h&&El(h,f))continue;const x={delay:s,...$s(o||{},f)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===v&&!x.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const T=Pr(e);if(T){const S=window.MotionHandoffAnimation(T,f,F);S!==null&&(x.startTime=S,y=!0)}}us(e,f);const w=u??e.shouldReduceMotion;m.start(zs(f,m,g,w&&jr.has(f)?{type:!1}:x,e,y));const b=m.animation;b&&d.push(b)}if(r){const f=()=>F.update(()=>{r&&kl(e,r)});d.length?Promise.all(d).then(f):f()}return d}function ds(e,t,s={}){var c;const n=Re(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(i=s.transitionOverride);const o=n?()=>Promise.all(Nr(e,n,s)):()=>Promise.resolve(),r=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return Ml(e,t,u,d,h,f,s)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,d]=a==="beforeChildren"?[o,r]:[r,o];return u().then(()=>d())}else return Promise.all([o(),r(s.delay)])}function Ml(e,t,s=0,n=0,i=0,o=1,r){const a=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),a.push(ds(c,t,{...r,delay:s+(typeof n=="function"?0:n)+Sr(e.variantChildren,c,n,i,o)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(a)}function Al(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(o=>ds(e,o,s));n=Promise.all(i)}else if(typeof t=="string")n=ds(e,t,s);else{const i=typeof t=="function"?Re(e,t,s.custom):t;n=Promise.all(Nr(e,i,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Rl={test:e=>e==="auto",parse:e=>e},Er=e=>t=>t.test(e),Mr=[Ie,C,oe,fe,aa,oa,Rl],Pn=e=>Mr.find(Er(e));function Dl(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||zi(e):!0}const Vl=new Set(["brightness","contrast","saturate","opacity"]);function Il(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Ds)||[];if(!n)return e;const i=s.replace(n,"");let o=Vl.has(t)?1:0;return n!==s&&(o*=100),t+"("+o+i+")"}const Ll=/\b([a-z-]*)\(.*?\)/gu,hs={...ne,getAnimatableNone:e=>{const t=e.match(Ll);return t?t.map(Il).join(" "):e}},fs={...ne,getAnimatableNone:e=>{const t=ne.parse(e);return ne.createTransformer(e)(t.map(n=>typeof n=="number"?0:typeof n=="object"?{...n,alpha:1}:n))}},Nn={...Ie,transform:Math.round},Fl={rotate:fe,rotateX:fe,rotateY:fe,rotateZ:fe,scale:rt,scaleX:rt,scaleY:rt,scaleZ:rt,skew:fe,skewX:fe,skewY:fe,distance:C,translateX:C,translateY:C,translateZ:C,x:C,y:C,z:C,perspective:C,transformPerspective:C,opacity:Ye,originX:mn,originY:mn,originZ:C},Hs={borderWidth:C,borderTopWidth:C,borderRightWidth:C,borderBottomWidth:C,borderLeftWidth:C,borderRadius:C,borderTopLeftRadius:C,borderTopRightRadius:C,borderBottomRightRadius:C,borderBottomLeftRadius:C,width:C,maxWidth:C,height:C,maxHeight:C,top:C,right:C,bottom:C,left:C,inset:C,insetBlock:C,insetBlockStart:C,insetBlockEnd:C,insetInline:C,insetInlineStart:C,insetInlineEnd:C,padding:C,paddingTop:C,paddingRight:C,paddingBottom:C,paddingLeft:C,paddingBlock:C,paddingBlockStart:C,paddingBlockEnd:C,paddingInline:C,paddingInlineStart:C,paddingInlineEnd:C,margin:C,marginTop:C,marginRight:C,marginBottom:C,marginLeft:C,marginBlock:C,marginBlockStart:C,marginBlockEnd:C,marginInline:C,marginInlineStart:C,marginInlineEnd:C,fontSize:C,backgroundPositionX:C,backgroundPositionY:C,...Fl,zIndex:Nn,fillOpacity:Ye,strokeOpacity:Ye,numOctaves:Nn},Bl={...Hs,color:$,backgroundColor:$,outlineColor:$,fill:$,stroke:$,borderColor:$,borderTopColor:$,borderRightColor:$,borderBottomColor:$,borderLeftColor:$,filter:hs,WebkitFilter:hs,mask:fs,WebkitMask:fs},Ar=e=>Bl[e],Ol=new Set([hs,fs]);function Rr(e,t){let s=Ar(e);return Ol.has(s)||(s=ne),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const _l=new Set(["auto","none","0"]);function $l(e,t,s){let n=0,i;for(;n<e.length&&!i;){const o=e[n];typeof o=="string"&&!_l.has(o)&&Xe(o).values.length&&(i=e[n]),n++}if(i&&s)for(const o of t)e[o]=Rr(s,i)}class zl extends _s{constructor(t,s,n,i,o){super(t,s,n,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),Rs(h))){const f=Tr(h,s.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!jr.has(n)||t.length!==2)return;const[i,o]=t,r=Pn(i),a=Pn(o),c=fn(i),u=fn(o);if(c!==u&&pe[n]){this.needsMeasurement=!0;return}if(r!==a)if(Sn(r)&&Sn(a))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else pe[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||Dl(t[i]))&&n.push(i);n.length&&$l(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pe[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const o=n.length-1,r=n[o];n[o]=pe[s](t.measureViewportBox(),window.getComputedStyle(t.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Ul=new Set(["opacity","clipPath","filter","transform"]);function Dr(e,t,s){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=(s==null?void 0:s[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(n=>n!=null)}const Vr=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ms(e){return $i(e)&&"offsetHeight"in e}const{schedule:Gs}=tr(queueMicrotask,!1),te={x:!1,y:!1};function Ir(){return te.x||te.y}function Wl(e){return e==="x"||e==="y"?te[e]?null:(te[e]=!0,()=>{te[e]=!1}):te.x||te.y?null:(te.x=te.y=!0,()=>{te.x=te.y=!1})}function Lr(e,t){const s=Dr(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[s,i,()=>n.abort()]}function Hl(e){return!(e.pointerType==="touch"||Ir())}function Gl(e,t,s={}){const[n,i,o]=Lr(e,s);return n.forEach(r=>{let a=!1,c=!1,u;const d=()=>{r.removeEventListener("pointerleave",g)},h=v=>{u&&(u(v),u=void 0),d()},f=v=>{a=!1,window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",f),c&&(c=!1,h(v))},m=()=>{a=!0,window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",f,i)},g=v=>{if(v.pointerType!=="touch"){if(a){c=!0;return}h(v)}},x=v=>{if(!Hl(v))return;c=!1;const y=t(r,v);typeof y=="function"&&(u=y,r.addEventListener("pointerleave",g,i))};r.addEventListener("pointerenter",x,i),r.addEventListener("pointerdown",m,i)}),o}const Fr=(e,t)=>t?e===t?!0:Fr(e,t.parentElement):!1,Ks=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Kl=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ql(e){return Kl.has(e.tagName)||e.isContentEditable===!0}const Yl=new Set(["INPUT","SELECT","TEXTAREA"]);function Xl(e){return Yl.has(e.tagName)||e.isContentEditable===!0}const ct=new WeakSet;function En(e){return t=>{t.key==="Enter"&&e(t)}}function Lt(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Zl=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=En(()=>{if(ct.has(s))return;Lt(s,"down");const i=En(()=>{Lt(s,"up")}),o=()=>Lt(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",o,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function Mn(e){return Ks(e)&&!Ir()}const An=new WeakSet;function Jl(e,t,s={}){const[n,i,o]=Lr(e,s),r=a=>{const c=a.currentTarget;if(!Mn(a)||An.has(a))return;ct.add(c),s.stopPropagation&&An.add(a);const u=t(c,a),d=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),ct.has(c)&&ct.delete(c),Mn(m)&&typeof u=="function"&&u(m,{success:g})},h=m=>{d(m,c===window||c===document||s.useGlobalTarget||Fr(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return n.forEach(a=>{(s.useGlobalTarget?window:a).addEventListener("pointerdown",r,i),ms(a)&&(a.addEventListener("focus",u=>Zl(u,i)),!ql(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function qs(e){return $i(e)&&"ownerSVGElement"in e}const ut=new WeakMap;let me;const Br=(e,t,s)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:qs(n)&&"getBBox"in n?n.getBBox()[t]:n[s],Ql=Br("inline","width","offsetWidth"),ec=Br("block","height","offsetHeight");function tc({target:e,borderBoxSize:t}){var s;(s=ut.get(e))==null||s.forEach(n=>{n(e,{get width(){return Ql(e,t)},get height(){return ec(e,t)}})})}function sc(e){e.forEach(tc)}function nc(){typeof ResizeObserver>"u"||(me=new ResizeObserver(sc))}function ic(e,t){me||nc();const s=Dr(e);return s.forEach(n=>{let i=ut.get(n);i||(i=new Set,ut.set(n,i)),i.add(t),me==null||me.observe(n)}),()=>{s.forEach(n=>{const i=ut.get(n);i==null||i.delete(t),i!=null&&i.size||me==null||me.unobserve(n)})}}const dt=new Set;let Ne;function rc(){Ne=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};dt.forEach(t=>t(e))},window.addEventListener("resize",Ne)}function oc(e){return dt.add(e),Ne||rc(),()=>{dt.delete(e),!dt.size&&typeof Ne=="function"&&(window.removeEventListener("resize",Ne),Ne=void 0)}}function Rn(e,t){return typeof e=="function"?oc(e):ic(e,t)}function ac(e){return qs(e)&&e.tagName==="svg"}const lc=[...Mr,$,ne],cc=e=>lc.find(Er(e)),Dn=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ee=()=>({x:Dn(),y:Dn()}),Vn=()=>({min:0,max:0}),z=()=>({x:Vn(),y:Vn()}),uc=new WeakMap;function Tt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ze(e){return typeof e=="string"||Array.isArray(e)}const Ys=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xs=["initial",...Ys];function Ct(e){return Tt(e.animate)||Xs.some(t=>Ze(e[t]))}function Or(e){return!!(Ct(e)||e.variants)}function dc(e,t,s){for(const n in t){const i=t[n],o=s[n];if(G(i))e.addValue(n,i);else if(G(o))e.addValue(n,Ve(i,{owner:e}));else if(o!==i)if(e.hasValue(n)){const r=e.getValue(n);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(n);e.addValue(n,Ve(r!==void 0?r:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const ps={current:null},_r={current:!1},hc=typeof window<"u";function fc(){if(_r.current=!0,!!hc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ps.current=e.matches;e.addEventListener("change",t),t()}else ps.current=!1}const In=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let yt={};function $r(e){yt=e}function mc(){return yt}class pc{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,skipAnimations:o,blockInitialAnimation:r,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=_s,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=q.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,F.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=s.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=o,this.options=c,this.blockInitialAnimation=!!r,this.isControllingVariants=Ct(s),this.isVariantNode=Or(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in f){const g=f[m];u[m]!==void 0&&G(g)&&g.set(u[m])}}mount(t){var s,n;if(this.hasBeenMounted)for(const i in this.initialValues)(s=this.values.get(i))==null||s.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=t,uc.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(_r.current||fc(),this.shouldReduceMotion=ps.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),ge(this.notifyUpdate),ge(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const n=this.features[s];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),s.accelerate&&Ul.has(t)&&this.current instanceof HTMLElement){const{factory:r,keyframes:a,times:c,ease:u,duration:d}=s.accelerate,h=new vr({element:this.current,name:t,keyframes:a,times:c,ease:u,duration:se(d)}),f=r(h);this.valueSubscriptions.set(t,()=>{f(),h.cancel()});return}const n=Fe.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",r=>{this.latestValues[t]=r,this.props.onUpdate&&F.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yt){const s=yt[t];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):z()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<In.length;n++){const i=In[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,r=t[o];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=dc(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=Ve(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(_i(n)||zi(n))?n=parseFloat(n):!cc(n)&&ne.test(s)&&(n=Rr(t,s)),this.setBaseTarget(t,G(n)?n.get():n)),G(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var o;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const r=Us(this.props,s,(o=this.presenceContext)==null?void 0:o.custom);r&&(n=r[t])}if(s&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!G(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Es),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){Gs.render(this.render)}}class zr extends pc{constructor(){super(...arguments),this.KeyframeResolver=zl}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){const n=t.style;return n?n[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;G(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class xe{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Ur({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function gc({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xc(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Ft(e){return e===void 0||e===1}function gs({scale:e,scaleX:t,scaleY:s}){return!Ft(e)||!Ft(t)||!Ft(s)}function we(e){return gs(e)||Wr(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Wr(e){return Ln(e.x)||Ln(e.y)}function Ln(e){return e&&e!=="0%"}function bt(e,t,s){const n=e-s,i=t*n;return s+i}function Fn(e,t,s,n,i){return i!==void 0&&(e=bt(e,i,n)),bt(e,s,n)+t}function xs(e,t=0,s=1,n,i){e.min=Fn(e.min,t,s,n,i),e.max=Fn(e.max,t,s,n,i)}function Hr(e,{x:t,y:s}){xs(e.x,t.translate,t.scale,t.originPoint),xs(e.y,s.translate,s.scale,s.originPoint)}const Bn=.999999999999,On=1.0000000000001;function yc(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let o,r;for(let a=0;a<i;a++){o=s[a],r=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ae(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,Hr(e,r)),n&&we(o.latestValues)&&Ae(e,o.latestValues))}t.x<On&&t.x>Bn&&(t.x=1),t.y<On&&t.y>Bn&&(t.y=1)}function Me(e,t){e.min=e.min+t,e.max=e.max+t}function _n(e,t,s,n,i=.5){const o=O(e.min,e.max,i);xs(e,t,s,o,n)}function Ae(e,t){_n(e.x,t.x,t.scaleX,t.scale,t.originX),_n(e.y,t.y,t.scaleY,t.scale,t.originY)}function Gr(e,t){return Ur(xc(e.getBoundingClientRect(),t))}function bc(e,t,s){const n=Gr(e,s),{scroll:i}=t;return i&&(Me(n.x,i.offset.x),Me(n.y,i.offset.y)),n}const vc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wc=Le.length;function Sc(e,t,s){let n="",i=!0;for(let o=0;o<wc;o++){const r=Le[o],a=e[r];if(a===void 0)continue;let c=!0;if(typeof a=="number")c=a===(r.startsWith("scale")?1:0);else{const u=parseFloat(a);c=r.startsWith("scale")?u===1:u===0}if(!c||s){const u=Vr(a,Hs[r]);if(!c){i=!1;const d=vc[r]||r;n+=`${d}(${u}) `}s&&(t[r]=u)}}return n=n.trim(),s?n=s(t,i?"":n):i&&(n="none"),n}function Zs(e,t,s){const{style:n,vars:i,transformOrigin:o}=e;let r=!1,a=!1;for(const c in t){const u=t[c];if(Fe.has(c)){r=!0;continue}else if(nr(c)){i[c]=u;continue}else{const d=Vr(u,Hs[c]);c.startsWith("origin")?(a=!0,o[c]=d):n[c]=d}}if(t.transform||(r||s?n.transform=Sc(t,e.transform,s):n.transform&&(n.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;n.transformOrigin=`${c} ${u} ${d}`}}function Kr(e,{style:t,vars:s},n,i){const o=e.style;let r;for(r in t)o[r]=t[r];i==null||i.applyProjectionStyles(o,n);for(r in s)o.setProperty(r,s[r])}function $n(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _e={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(C.test(e))e=parseFloat(e);else return e;const s=$n(e,t.target.x),n=$n(e,t.target.y);return`${s}% ${n}%`}},Tc={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=ne.parse(e);if(i.length>5)return n;const o=ne.createTransformer(e),r=typeof i[0]!="number"?1:0,a=s.x.scale*t.x,c=s.y.scale*t.y;i[0+r]/=a,i[1+r]/=c;const u=O(a,c,.5);return typeof i[2+r]=="number"&&(i[2+r]/=u),typeof i[3+r]=="number"&&(i[3+r]/=u),o(i)}},ys={borderRadius:{..._e,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomLeftRadius:_e,borderBottomRightRadius:_e,boxShadow:Tc};function qr(e,{layout:t,layoutId:s}){return Fe.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!ys[e]||e==="opacity")}function Js(e,t,s){var r;const n=e.style,i=t==null?void 0:t.style,o={};if(!n)return o;for(const a in n)(G(n[a])||i&&G(i[a])||qr(a,e)||((r=s==null?void 0:s.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(o[a]=n[a]);return o}function Cc(e){return window.getComputedStyle(e)}class jc extends zr{constructor(){super(...arguments),this.type="html",this.renderInstance=Kr}readValueFromInstance(t,s){var n;if(Fe.has(s))return(n=this.projection)!=null&&n.isProjecting?ns(s):Wa(t,s);{const i=Cc(t),o=(nr(s)?i.getPropertyValue(s):i[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Gr(t,s)}build(t,s,n){Zs(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return Js(t,s,n)}}const kc={offset:"stroke-dashoffset",array:"stroke-dasharray"},Pc={offset:"strokeDashoffset",array:"strokeDasharray"};function Nc(e,t,s=1,n=0,i=!0){e.pathLength=1;const o=i?kc:Pc;e[o.offset]=`${-n}`,e[o.array]=`${t} ${s}`}const Ec=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Yr(e,{attrX:t,attrY:s,attrScale:n,pathLength:i,pathSpacing:o=1,pathOffset:r=0,...a},c,u,d){if(Zs(e,a,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const m of Ec)h[m]!==void 0&&(f[m]=h[m],delete h[m]);t!==void 0&&(h.x=t),s!==void 0&&(h.y=s),n!==void 0&&(h.scale=n),i!==void 0&&Nc(h,i,o,r,!1)}const Xr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Zr=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Mc(e,t,s,n){Kr(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(Xr.has(i)?i:Ws(i),t.attrs[i])}function Jr(e,t,s){const n=Js(e,t,s);for(const i in e)if(G(e[i])||G(t[i])){const o=Le.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[o]=e[i]}return n}class Ac extends zr{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=z}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Fe.has(s)){const n=Ar(s);return n&&n.default||0}return s=Xr.has(s)?s:Ws(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return Jr(t,s,n)}build(t,s,n){Yr(t,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,s,n,i){Mc(t,s,n,i)}mount(t){this.isSVGTag=Zr(t.tagName),super.mount(t)}}const Rc=Xs.length;function Qr(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Qr(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Rc;s++){const n=Xs[s],i=e.props[n];(Ze(i)||i===!1)&&(t[n]=i)}return t}function eo(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}const Dc=[...Ys].reverse(),Vc=Ys.length;function Ic(e){return t=>Promise.all(t.map(({animation:s,options:n})=>Al(e,s,n)))}function Lc(e){let t=Ic(e),s=zn(),n=!0;const i=c=>(u,d)=>{var f;const h=Re(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:g,...x}=h;u={...u,...x,...g}}return u};function o(c){t=c(e)}function r(c){const{props:u}=e,d=Qr(e.parent)||{},h=[],f=new Set;let m={},g=1/0;for(let v=0;v<Vc;v++){const y=Dc[v],w=s[y],b=u[y]!==void 0?u[y]:d[y],T=Ze(b),S=y===c?w.isActive:null;S===!1&&(g=v);let M=b===d[y]&&b!==u[y]&&T;if(M&&n&&e.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...m},!w.isActive&&S===null||!b&&!w.prevProp||Tt(b)||typeof b=="boolean")continue;if(y==="exit"&&w.isActive&&S!==!0){w.prevResolvedValues&&(m={...m,...w.prevResolvedValues});continue}const A=Fc(w.prevProp,b);let j=A||y===c&&w.isActive&&!M&&T||v>g&&T,R=!1;const P=Array.isArray(b)?b:[b];let D=P.reduce(i(y),{});S===!1&&(D={});const{prevResolvedValues:I={}}=w,K={...I,...D},Z=E=>{j=!0,f.has(E)&&(R=!0,f.delete(E)),w.needsAnimating[E]=!0;const V=e.getValue(E);V&&(V.liveStyle=!1)};for(const E in K){const V=D[E],L=I[E];if(m.hasOwnProperty(E))continue;let X=!1;cs(V)&&cs(L)?X=!eo(V,L):X=V!==L,X?V!=null?Z(E):f.add(E):V!==void 0&&f.has(E)?Z(E):w.protectedKeys[E]=!0}w.prevProp=b,w.prevResolvedValues=D,w.isActive&&(m={...m,...D}),n&&e.blockInitialAnimation&&(j=!1);const ce=M&&A;j&&(!ce||R)&&h.push(...P.map(E=>{const V={type:y};if(typeof E=="string"&&n&&!ce&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,X=Re(L,E);if(L.enteringChildren&&X){const{delayChildren:ue}=X.transition||{};V.delay=Sr(L.enteringChildren,e,ue)}}return{animation:E,options:V}}))}if(f.size){const v={};if(typeof u.initial!="boolean"){const y=Re(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(v.transition=y.transition)}f.forEach(y=>{const w=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),v[y]=w??null}),h.push({animation:v})}let x=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(h):Promise.resolve()}function a(c,u){var h;if(s[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),s[c].isActive=u;const d=r(c);for(const f in s)s[f].protectedKeys={};return d}return{animateChanges:r,setActive:a,setAnimateFunction:o,getState:()=>s,reset:()=>{s=zn()}}}function Fc(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!eo(t,e):!1}function be(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zn(){return{animate:be(!0),whileInView:be(),whileHover:be(),whileTap:be(),whileDrag:be(),whileFocus:be(),exit:be()}}function Un(e,t){e.min=t.min,e.max=t.max}function ee(e,t){Un(e.x,t.x),Un(e.y,t.y)}function Wn(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const to=1e-4,Bc=1-to,Oc=1+to,so=.01,_c=0-so,$c=0+so;function Y(e){return e.max-e.min}function zc(e,t,s){return Math.abs(e-t)<=s}function Hn(e,t,s,n=.5){e.origin=n,e.originPoint=O(t.min,t.max,e.origin),e.scale=Y(s)/Y(t),e.translate=O(s.min,s.max,e.origin)-e.originPoint,(e.scale>=Bc&&e.scale<=Oc||isNaN(e.scale))&&(e.scale=1),(e.translate>=_c&&e.translate<=$c||isNaN(e.translate))&&(e.translate=0)}function He(e,t,s,n){Hn(e.x,t.x,s.x,n?n.originX:void 0),Hn(e.y,t.y,s.y,n?n.originY:void 0)}function Gn(e,t,s){e.min=s.min+t.min,e.max=e.min+Y(t)}function Uc(e,t,s){Gn(e.x,t.x,s.x),Gn(e.y,t.y,s.y)}function Kn(e,t,s){e.min=t.min-s.min,e.max=e.min+Y(t)}function vt(e,t,s){Kn(e.x,t.x,s.x),Kn(e.y,t.y,s.y)}function qn(e,t,s,n,i){return e-=t,e=bt(e,1/s,n),i!==void 0&&(e=bt(e,1/i,n)),e}function Wc(e,t=0,s=1,n=.5,i,o=e,r=e){if(oe.test(t)&&(t=parseFloat(t),t=O(r.min,r.max,t/100)-r.min),typeof t!="number")return;let a=O(o.min,o.max,n);e===o&&(a-=t),e.min=qn(e.min,t,s,a,i),e.max=qn(e.max,t,s,a,i)}function Yn(e,t,[s,n,i],o,r){Wc(e,t[s],t[n],t[i],t.scale,o,r)}const Hc=["x","scaleX","originX"],Gc=["y","scaleY","originY"];function Xn(e,t,s,n){Yn(e.x,t,Hc,s?s.x:void 0,n?n.x:void 0),Yn(e.y,t,Gc,s?s.y:void 0,n?n.y:void 0)}function Zn(e){return e.translate===0&&e.scale===1}function no(e){return Zn(e.x)&&Zn(e.y)}function Jn(e,t){return e.min===t.min&&e.max===t.max}function Kc(e,t){return Jn(e.x,t.x)&&Jn(e.y,t.y)}function Qn(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function io(e,t){return Qn(e.x,t.x)&&Qn(e.y,t.y)}function ei(e){return Y(e.x)/Y(e.y)}function ti(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function re(e){return[e("x"),e("y")]}function qc(e,t,s){let n="";const i=e.x.translate/t.x,o=e.y.translate/t.y,r=(s==null?void 0:s.z)||0;if((i||o||r)&&(n=`translate3d(${i}px, ${o}px, ${r}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:g}=s;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(n+=`scale(${a}, ${c})`),n||"none"}const ro=["TopLeft","TopRight","BottomLeft","BottomRight"],Yc=ro.length,si=e=>typeof e=="string"?parseFloat(e):e,ni=e=>typeof e=="number"||C.test(e);function Xc(e,t,s,n,i,o){i?(e.opacity=O(0,s.opacity??1,Zc(n)),e.opacityExit=O(t.opacity??1,0,Jc(n))):o&&(e.opacity=O(t.opacity??1,s.opacity??1,n));for(let r=0;r<Yc;r++){const a=`border${ro[r]}Radius`;let c=ii(t,a),u=ii(s,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ni(c)===ni(u)?(e[a]=Math.max(O(si(c),si(u),n),0),(oe.test(u)||oe.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||s.rotate)&&(e.rotate=O(t.rotate||0,s.rotate||0,n))}function ii(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Zc=oo(0,.5,Zi),Jc=oo(.5,.95,Q);function oo(e,t,s){return n=>n<e?0:n>t?1:s(qe(e,t,n))}function Qc(e,t,s){const n=G(e)?e:Ve(e);return n.start(zs("",n,t,s)),n.animation}function Je(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}const eu=(e,t)=>e.depth-t.depth;class tu{constructor(){this.children=[],this.isDirty=!1}add(t){Ps(this.children,t),this.isDirty=!0}remove(t){mt(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(eu),this.isDirty=!1,this.children.forEach(t)}}function su(e,t){const s=q.now(),n=({timestamp:i})=>{const o=i-s;o>=t&&(ge(n),e(o-t))};return F.setup(n,!0),()=>ge(n)}function ht(e){return G(e)?e.get():e}class nu{constructor(){this.members=[]}add(t){Ps(this.members,t);for(let s=this.members.length-1;s>=0;s--){const n=this.members[s];if(n===t||n===this.lead||n===this.prevLead)continue;const i=n.instance;i&&i.isConnected===!1&&n.isPresent!==!1&&!n.snapshot&&mt(this.members,n)}t.scheduleRender()}remove(t){if(mt(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const o=this.members[i],r=o.instance;if(o.isPresent!==!1&&(!r||r.isConnected!==!1)){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const i=n.options.layoutDependency,o=t.options.layoutDependency;if(!(i!==void 0&&o!==void 0&&i===o)){const c=n.instance;c&&c.isConnected===!1&&!n.snapshot||(t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ft={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Bt=["","X","Y","Z"],iu=1e3;let ru=0;function Ot(e,t,s,n){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function ao(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Pr(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",F,!(i||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&ao(n)}function lo({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(r={},a=t==null?void 0:t()){this.id=ru++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lu),this.nodes.forEach(hu),this.nodes.forEach(fu),this.nodes.forEach(cu)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new tu)}addEventListener(r,a){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new Es),this.eventHandlers.get(r).add(a)}notifyListeners(r,...a){const c=this.eventHandlers.get(r);c&&c.notify(...a)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=qs(r)&&!ac(r),this.instance=r;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;F.read(()=>{h=window.innerWidth}),e(r,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=su(f,250),ft.hasAnimatedSinceResize&&(ft.hasAnimatedSinceResize=!1,this.nodes.forEach(ai)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||yu,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),y=!this.targetLayout||!io(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...$s(g,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,w)}else h||ai(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ge(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mu),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ao(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ri);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(oi);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(du),this.nodes.forEach(ou),this.nodes.forEach(au)):this.nodes.forEach(oi),this.clearAllSnapshots();const a=q.now();W.delta=ae(0,1e3/60,a-W.timestamp),W.timestamp=a,W.isProcessing=!0,Mt.update.process(W),Mt.preRender.process(W),Mt.render.process(W),W.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uu),this.sharedNodes.forEach(pu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,F.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){F.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Y(this.snapshot.measuredBox.x)&&!Y(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=z(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(a=!1),a&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!no(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;r&&this.instance&&(a||we(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return r&&(c=this.removeTransform(c)),bu(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:r}=this.options;if(!r)return z();const a=r.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(vu))){const{scroll:d}=this.root;d&&(Me(a.x,d.offset.x),Me(a.y,d.offset.y))}return a}removeElementScroll(r){var c;const a=z();if(ee(a,r),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ee(a,r),Me(a.x,h.offset.x),Me(a.y,h.offset.y))}return a}applyTransform(r,a=!1){const c=z();ee(c,r);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ae(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),we(d.latestValues)&&Ae(c,d.latestValues)}return we(this.latestValues)&&Ae(c,this.latestValues),c}removeTransform(r){const a=z();ee(a,r);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!we(u.latestValues))continue;gs(u.latestValues)&&u.updateSnapshot();const d=z(),h=u.measurePageBox();ee(d,h),Xn(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return we(this.latestValues)&&Xn(a,this.latestValues),a}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==W.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(r||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=W.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=z(),this.targetWithTransforms=z()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Uc(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ee(this.target,this.layout.layoutBox),Hr(this.target,this.targetDelta)):ee(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||gs(this.parent.latestValues)||Wr(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(r,a,c){this.relativeParent=r,this.linkedParentVersion=r.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=z(),this.relativeTargetOrigin=z(),vt(this.relativeTargetOrigin,a,c),ee(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const r=this.getLead(),a=!!this.resumingFrom||this!==r;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===W.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ee(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;yc(this.layoutCorrected,this.treeScale,this.path,a),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=z());const{target:m}=r;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wn(this.prevProjectionDelta.x,this.projectionDelta.x),Wn(this.prevProjectionDelta.y,this.projectionDelta.y)),He(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!ti(this.projectionDelta.x,this.prevProjectionDelta.x)||!ti(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),r){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ee(),this.projectionDelta=Ee(),this.projectionDeltaWithTransform=Ee()}setAnimationOrigin(r,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Ee();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=z(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=m!==g,v=this.getStack(),y=!v||v.members.length<=1,w=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(xu));this.animationProgress=0;let b;this.mixTargetDelta=T=>{const S=T/1e3;li(h.x,r.x,S),li(h.y,r.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vt(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gu(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&Kc(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=z()),ee(b,this.relativeTarget)),x&&(this.animationValues=d,Xc(d,u,this.latestValues,S,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ge(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=F.update(()=>{ft.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ve(0)),this.motionValue.jump(0,!1),this.currentAnimation=Qc(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),r.onUpdate&&r.onUpdate(d)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iu),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=r;if(!(!a||!c||!u)){if(this!==r&&this.layout&&u&&co(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||z();const h=Y(this.layout.layoutBox.x);c.x.min=r.target.x.min,c.x.max=c.x.min+h;const f=Y(this.layout.layoutBox.y);c.y.min=r.target.y.min,c.y.max=c.y.min+f}ee(a,c),Ae(a,d),He(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(r,a){this.sharedNodes.has(r)||this.sharedNodes.set(r,new nu),this.sharedNodes.get(r).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var a;const{layoutId:r}=this.options;return r?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:r}=this.options;return r?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),r&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let a=!1;const{latestValues:c}=r;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&Ot("z",r,u,this.animationValues);for(let d=0;d<Bt.length;d++)Ot(`rotate${Bt[d]}`,r,u,this.animationValues),Ot(`skew${Bt[d]}`,r,u,this.animationValues);r.render();for(const d in u)r.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);r.scheduleRender()}applyProjectionStyles(r,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=ht(a==null?void 0:a.pointerEvents)||"",r.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=ht(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!we(this.latestValues)&&(r.transform=c?c({},""):"none",this.hasProjected=!1);return}r.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=qc(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),r.transform=h;const{x:f,y:m}=this.projectionDelta;r.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?r.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:r.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in ys){if(d[g]===void 0)continue;const{correct:x,applyTo:v,isCSSVariable:y}=ys[g],w=h==="none"?d[g]:x(d[g],u);if(v){const b=v.length;for(let T=0;T<b;T++)r[v[T]]=w}else y?this.options.visualElement.renderState.vars[g]=w:r[g]=w}this.options.layoutId&&(r.pointerEvents=u===this?ht(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var a;return(a=r.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(ri),this.root.sharedNodes.clear()}}}function ou(e){e.updateLayout()}function au(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:o}=e.options,r=t.source!==e.layout.source;o==="size"?re(h=>{const f=r?t.measuredBox[h]:t.layoutBox[h],m=Y(f);f.min=n[h].min,f.max=f.min+m}):co(o,t.layoutBox,n)&&re(h=>{const f=r?t.measuredBox[h]:t.layoutBox[h],m=Y(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=Ee();He(a,n,t.layoutBox);const c=Ee();r?He(c,e.applyTransform(i,!0),t.measuredBox):He(c,n,t.layoutBox);const u=!no(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const g=z();vt(g,t.layoutBox,f.layoutBox);const x=z();vt(x,n,m.layoutBox),io(g,x)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function lu(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uu(e){e.clearSnapshot()}function ri(e){e.clearMeasurements()}function oi(e){e.isLayoutDirty=!1}function du(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ai(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hu(e){e.resolveTargetDelta()}function fu(e){e.calcProjection()}function mu(e){e.resetSkewAndRotation()}function pu(e){e.removeLeadSnapshot()}function li(e,t,s){e.translate=O(t.translate,0,s),e.scale=O(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function ci(e,t,s,n){e.min=O(t.min,s.min,n),e.max=O(t.max,s.max,n)}function gu(e,t,s,n){ci(e.x,t.x,s.x,n),ci(e.y,t.y,s.y,n)}function xu(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const yu={duration:.45,ease:[.4,0,.1,1]},ui=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),di=ui("applewebkit/")&&!ui("chrome/")?Math.round:Q;function hi(e){e.min=di(e.min),e.max=di(e.max)}function bu(e){hi(e.x),hi(e.y)}function co(e,t,s){return e==="position"||e==="preserve-aspect"&&!zc(ei(t),ei(s),.2)}function vu(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const wu=lo({attachResizeListener:(e,t)=>Je(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),_t={current:void 0},uo=lo({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_t.current){const e=new wu({});e.mount(window),e.setOptions({layoutScroll:!0}),_t.current=e}return _t.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Qs=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function fi(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Su(...e){return t=>{let s=!1;const n=e.map(i=>{const o=fi(i,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():fi(e[i],null)}}}}function Tu(...e){return p.useCallback(Su(...e),e)}class Cu extends p.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const n=s.offsetParent,i=ms(n)&&n.offsetWidth||0,o=ms(n)&&n.offsetHeight||0,r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft,r.right=i-r.width-r.left,r.bottom=o-r.height-r.top}return null}componentDidUpdate(){}render(){return this.props.children}}function ju({children:e,isPresent:t,anchorX:s,anchorY:n,root:i,pop:o}){var f;const r=p.useId(),a=p.useRef(null),c=p.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=p.useContext(Qs),d=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),h=Tu(a,d);return p.useInsertionEffect(()=>{const{width:m,height:g,top:x,left:v,right:y,bottom:w}=c.current;if(t||o===!1||!a.current||!m||!g)return;const b=s==="left"?`left: ${v}`:`right: ${y}`,T=n==="bottom"?`bottom: ${w}`:`top: ${x}`;a.current.dataset.motionPopId=r;const S=document.createElement("style");u&&(S.nonce=u);const M=i??document.head;return M.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${b}px !important;
            ${T}px !important;
          }
        `),()=>{M.contains(S)&&M.removeChild(S)}},[t]),l.jsx(Cu,{isPresent:t,childRef:a,sizeRef:c,pop:o,children:o===!1?e:p.cloneElement(e,{ref:h})})}const ku=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:o,mode:r,anchorX:a,anchorY:c,root:u})=>{const d=ks(Pu),h=p.useId();let f=!0,m=p.useMemo(()=>(f=!1,{id:h,initial:t,isPresent:s,custom:i,onExitComplete:g=>{d.set(g,!0);for(const x of d.values())if(!x)return;n&&n()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[s,d,n]);return o&&f&&(m={...m}),p.useMemo(()=>{d.forEach((g,x)=>d.set(x,!1))},[s]),p.useEffect(()=>{!s&&!d.size&&n&&n()},[s]),e=l.jsx(ju,{pop:r==="popLayout",isPresent:s,anchorX:a,anchorY:c,root:u,children:e}),l.jsx(St.Provider,{value:m,children:e})};function Pu(){return new Map}function ho(e=!0){const t=p.useContext(St);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=t,o=p.useId();p.useEffect(()=>{if(e)return i(o)},[e]);const r=p.useCallback(()=>e&&n&&n(o),[o,n,e]);return!s&&n?[!1,r]:[!0]}const ot=e=>e.key||"";function mi(e){const t=[];return p.Children.forEach(e,s=>{p.isValidElement(s)&&t.push(s)}),t}const De=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:o="sync",propagate:r=!1,anchorX:a="left",anchorY:c="top",root:u})=>{const[d,h]=ho(r),f=p.useMemo(()=>mi(e),[e]),m=r&&!d?[]:f.map(ot),g=p.useRef(!0),x=p.useRef(f),v=ks(()=>new Map),y=p.useRef(new Set),[w,b]=p.useState(f),[T,S]=p.useState(f);Oi(()=>{g.current=!1,x.current=f;for(let j=0;j<T.length;j++){const R=ot(T[j]);m.includes(R)?(v.delete(R),y.current.delete(R)):v.get(R)!==!0&&v.set(R,!1)}},[T,m.length,m.join("-")]);const M=[];if(f!==w){let j=[...f];for(let R=0;R<T.length;R++){const P=T[R],D=ot(P);m.includes(D)||(j.splice(R,0,P),M.push(P))}return o==="wait"&&M.length&&(j=M),S(mi(j)),b(f),null}const{forceRender:A}=p.useContext(js);return l.jsx(l.Fragment,{children:T.map(j=>{const R=ot(j),P=r&&!d?!1:f===T||m.includes(R),D=()=>{if(y.current.has(R))return;if(y.current.add(R),v.has(R))v.set(R,!0);else return;let I=!0;v.forEach(K=>{K||(I=!1)}),I&&(A==null||A(),S(x.current),r&&(h==null||h()),n&&n())};return l.jsx(ku,{isPresent:P,initial:!g.current||s?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,root:u,onExitComplete:P?void 0:D,anchorX:a,anchorY:c,children:j},R)})})},fo=p.createContext({strict:!1}),pi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let gi=!1;function Nu(){if(gi)return;const e={};for(const t in pi)e[t]={isEnabled:s=>pi[t].some(n=>!!s[n])};$r(e),gi=!0}function mo(){return Nu(),mc()}function Eu(e){const t=mo();for(const s in e)t[s]={...t[s],...e[s]};$r(t)}const Mu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function wt(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Mu.has(e)}let po=e=>!wt(e);function Au(e){typeof e=="function"&&(po=t=>t.startsWith("on")?!wt(t):e(t))}try{Au(require("@emotion/is-prop-valid").default)}catch{}function Ru(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(po(i)||s===!0&&wt(i)||!t&&!wt(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const jt=p.createContext({});function Du(e,t){if(Ct(e)){const{initial:s,animate:n}=e;return{initial:s===!1||Ze(s)?s:void 0,animate:Ze(n)?n:void 0}}return e.inherit!==!1?t:{}}function Vu(e){const{initial:t,animate:s}=Du(e,p.useContext(jt));return p.useMemo(()=>({initial:t,animate:s}),[xi(t),xi(s)])}function xi(e){return Array.isArray(e)?e.join(" "):e}const en=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function go(e,t,s){for(const n in t)!G(t[n])&&!qr(n,s)&&(e[n]=t[n])}function Iu({transformTemplate:e},t){return p.useMemo(()=>{const s=en();return Zs(s,t,e),Object.assign({},s.vars,s.style)},[t])}function Lu(e,t){const s=e.style||{},n={};return go(n,s,e),Object.assign(n,Iu(e,t)),n}function Fu(e,t){const s={},n=Lu(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const xo=()=>({...en(),attrs:{}});function Bu(e,t,s,n){const i=p.useMemo(()=>{const o=xo();return Yr(o,t,Zr(n),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};go(o,e.style,e),i.style={...o,...i.style}}return i}const Ou=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tn(e){return typeof e!="string"||e.includes("-")?!1:!!(Ou.indexOf(e)>-1||/[A-Z]/u.test(e))}function _u(e,t,s,{latestValues:n},i,o=!1,r){const c=(r??tn(e)?Bu:Fu)(t,n,i,e),u=Ru(t,typeof e=="string",o),d=e!==p.Fragment?{...u,...c,ref:s}:{},{children:h}=t,f=p.useMemo(()=>G(h)?h.get():h,[h]);return p.createElement(e,{...d,children:f})}function $u({scrapeMotionValuesFromProps:e,createRenderState:t},s,n,i){return{latestValues:zu(s,n,i,e),renderState:t()}}function zu(e,t,s,n){const i={},o=n(e,{});for(const f in o)i[f]=ht(o[f]);let{initial:r,animate:a}=e;const c=Ct(e),u=Or(e);t&&u&&!c&&e.inherit!==!1&&(r===void 0&&(r=t.initial),a===void 0&&(a=t.animate));let d=s?s.initial===!1:!1;d=d||r===!1;const h=d?a:r;if(h&&typeof h!="boolean"&&!Tt(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const g=Us(e,f[m]);if(g){const{transitionEnd:x,transition:v,...y}=g;for(const w in y){let b=y[w];if(Array.isArray(b)){const T=d?b.length-1:0;b=b[T]}b!==null&&(i[w]=b)}for(const w in x)i[w]=x[w]}}}return i}const yo=e=>(t,s)=>{const n=p.useContext(jt),i=p.useContext(St),o=()=>$u(e,t,n,i);return s?o():ks(o)},Uu=yo({scrapeMotionValuesFromProps:Js,createRenderState:en}),Wu=yo({scrapeMotionValuesFromProps:Jr,createRenderState:xo}),Hu=Symbol.for("motionComponentSymbol");function Gu(e,t,s){const n=p.useRef(s);p.useInsertionEffect(()=>{n.current=s});const i=p.useRef(null);return p.useCallback(o=>{var a;o&&((a=e.onMount)==null||a.call(e,o)),t&&(o?t.mount(o):t.unmount());const r=n.current;if(typeof r=="function")if(o){const c=r(o);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):r(o);else r&&(r.current=o)},[t])}const bo=p.createContext({});function ke(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ku(e,t,s,n,i,o){var b,T;const{visualElement:r}=p.useContext(jt),a=p.useContext(fo),c=p.useContext(St),u=p.useContext(Qs),d=u.reducedMotion,h=u.skipAnimations,f=p.useRef(null),m=p.useRef(!1);n=n||a.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:r,props:s,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d,skipAnimations:h,isSVG:o}),m.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const g=f.current,x=p.useContext(bo);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&qu(f.current,s,i,x);const v=p.useRef(!1);p.useInsertionEffect(()=>{g&&v.current&&g.update(s,c)});const y=s[kr],w=p.useRef(!!y&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,y))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,y)));return Oi(()=>{m.current=!0,g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),w.current&&g.animationState&&g.animationState.animateChanges())}),p.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,y)}),w.current=!1),g.enteringChildren=void 0)}),g}function qu(e,t,s,n){const{layoutId:i,layout:o,drag:r,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:vo(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!r||a&&ke(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function vo(e){if(e)return e.options.allowProjection!==!1?e.projection:vo(e.parent)}function $t(e,{forwardMotionProps:t=!1,type:s}={},n,i){n&&Eu(n);const o=s?s==="svg":tn(e),r=o?Wu:Uu;function a(u,d){let h;const f={...p.useContext(Qs),...u,layoutId:Yu(u)},{isStatic:m}=f,g=Vu(u),x=r(u,m);if(!m&&Bi){Xu();const v=Zu(f);h=v.MeasureLayout,g.visualElement=Ku(e,x,f,i,v.ProjectionNode,o)}return l.jsxs(jt.Provider,{value:g,children:[h&&g.visualElement?l.jsx(h,{visualElement:g.visualElement,...f}):null,_u(e,u,Gu(x,g.visualElement,d),x,m,t,o)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=p.forwardRef(a);return c[Hu]=e,c}function Yu({layoutId:e}){const t=p.useContext(js).id;return t&&e!==void 0?t+"-"+e:e}function Xu(e,t){p.useContext(fo).strict}function Zu(e){const t=mo(),{drag:s,layout:n}=t;if(!s&&!n)return{};const i={...s,...n};return{MeasureLayout:s!=null&&s.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Ju(e,t){if(typeof Proxy>"u")return $t;const s=new Map,n=(o,r)=>$t(o,r,e,t),i=(o,r)=>n(o,r);return new Proxy(i,{get:(o,r)=>r==="create"?n:(s.has(r)||s.set(r,$t(r,void 0,e,t)),s.get(r))})}const Qu=(e,t)=>t.isSVG??tn(e)?new Ac(t):new jc(t,{allowProjection:e!==p.Fragment});class ed extends xe{constructor(t){super(t),t.animationState||(t.animationState=Lc(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Tt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let td=0;class sd extends xe{constructor(){super(...arguments),this.id=td++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const nd={animation:{Feature:ed},exit:{Feature:sd}};function nt(e){return{point:{x:e.pageX,y:e.pageY}}}const id=e=>t=>Ks(t)&&e(t,nt(t));function Ge(e,t,s,n){return Je(e,t,id(s),n)}const wo=({current:e})=>e?e.ownerDocument.defaultView:null,yi=(e,t)=>Math.abs(e-t);function rd(e,t){const s=yi(e.x,t.x),n=yi(e.y,t.y);return Math.sqrt(s**2+n**2)}const bi=new Set(["auto","scroll"]);class So{constructor(t,s,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:r=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Ut(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=rd(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:v}=m,{timestamp:y}=W;this.history.push({...v,timestamp:y});const{onStart:w,onMove:b}=this.handlers;g||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=zt(g,this.transformPagePoint),F.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ut(m.type==="pointercancel"?this.lastMoveEventInfo:zt(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,w),v&&v(m,w)},!Ks(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=r,this.contextWindow=i||window;const c=nt(t),u=zt(c,this.transformPagePoint),{point:d}=u,{timestamp:h}=W;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=s;f&&f(t,Ut(u,this.history)),this.removeListeners=et(Ge(this.contextWindow,"pointermove",this.handlePointerMove),Ge(this.contextWindow,"pointerup",this.handlePointerUp),Ge(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let s=t.parentElement;for(;s;){const n=getComputedStyle(s);(bi.has(n.overflowX)||bi.has(n.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const s=this.scrollPositions.get(t);if(!s)return;const n=t===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:i.x-s.x,y:i.y-s.y};o.x===0&&o.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,i),F.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ge(this.updatePoint)}}function zt(e,t){return t?{point:t(e.point)}:e}function vi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ut({point:e},t){return{point:e,delta:vi(e,To(t)),offset:vi(e,od(t)),velocity:ad(t,.1)}}function od(e){return e[0]}function To(e){return e[e.length-1]}function ad(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=To(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>se(t)));)s--;if(!n)return{x:0,y:0};n===e[0]&&e.length>2&&i.timestamp-n.timestamp>se(t)*2&&(n=e[1]);const o=J(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function ld(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?O(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?O(s,e,n.max):Math.min(e,s)),e}function wi(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function cd(e,{top:t,left:s,bottom:n,right:i}){return{x:wi(e.x,s,i),y:wi(e.y,t,n)}}function Si(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function ud(e,t){return{x:Si(e.x,t.x),y:Si(e.y,t.y)}}function dd(e,t){let s=.5;const n=Y(e),i=Y(t);return i>n?s=qe(t.min,t.max-n,e.min):n>i&&(s=qe(e.min,e.max-i,t.min)),ae(0,1,s)}function hd(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const bs=.35;function fd(e=bs){return e===!1?e=0:e===!0&&(e=bs),{x:Ti(e,"left","right"),y:Ti(e,"top","bottom")}}function Ti(e,t,s){return{min:Ci(e,t),max:Ci(e,s)}}function Ci(e,t){return typeof e=="number"?e:e[t]||0}const md=new WeakMap;class pd{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=z(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=h=>{s&&this.snapToCursor(nt(h).point),this.stopAnimation()},r=(h,f)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Wl(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),re(y=>{let w=this.getAxisMotionValue(y).get()||0;if(oe.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const T=b.layout.layoutBox[y];T&&(w=Y(T)*(parseFloat(w)/100))}}this.originPoint[y]=w}),x&&F.update(()=>x(h,f),!1,!0),us(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=f;if(g&&this.currentDirection===null){this.currentDirection=xd(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),v&&F.update(()=>v(h,f),!1,!0)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:h}=this.getProps();(h||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:d}=this.getProps();this.panSession=new So(t,{onSessionStart:o,onStart:r,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:wo(this.visualElement),element:this.visualElement.current})}stop(t,s){const n=t||this.latestPointerEvent,i=s||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!n)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&F.postRender(()=>a(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!at(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let r=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(r=ld(r,this.constraints[t],this.elastic[t])),o.set(r)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&ke(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=cd(n.layoutBox,t):this.constraints=!1,this.elastic=fd(s),i!==this.constraints&&!ke(t)&&n&&this.constraints&&!this.hasMutatedConstraints&&re(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=hd(n.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!ke(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=bc(n,i.root,this.visualElement.getTransformPagePoint());let r=ud(i.layout.layoutBox,o);if(s){const a=s(gc(r));this.hasMutatedConstraints=!!a,a&&(r=Ur(a))}return r}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=re(d=>{if(!at(d,s,this.currentDirection))return;let h=c&&c[d]||{};r&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(a)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return us(this.visualElement,t),n.start(zs(t,n,0,s,this.visualElement,!1))}stopAnimation(){re(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){re(s=>{const{drag:n}=this.getProps();if(!at(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(s);if(i&&i.layout){const{min:r,max:a}=i.layout.layoutBox[s],c=o.get()||0;o.set(t[s]-O(r,a,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!ke(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};re(r=>{const a=this.getAxisMotionValue(r);if(a&&this.constraints!==!1){const c=a.get();i[r]=dd({min:c,max:c},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),re(r=>{if(!at(r,t,null))return;const a=this.getAxisMotionValue(r),{min:c,max:u}=this.constraints[r];a.set(O(c,u,i[r]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;md.set(this.visualElement,this);const t=this.visualElement.current,s=Ge(t,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps(),f=u.target,m=f!==t&&Xl(f);d&&h&&!m&&this.start(u)});let n;const i=()=>{const{dragConstraints:u}=this.getProps();ke(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),n||(n=gd(t,u.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,r=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),F.read(i);const a=Je(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(re(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())}));return()=>{a(),s(),r(),c&&c(),n&&n()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=bs,dragMomentum:a=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:a}}}function ji(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function gd(e,t,s){const n=Rn(e,ji(s)),i=Rn(t,ji(s));return()=>{n(),i()}}function at(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function xd(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class yd extends xe{constructor(t){super(t),this.removeGroupControls=Q,this.removeListeners=Q,this.controls=new pd(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Q}update(){const{dragControls:t}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};t!==s&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Wt=e=>(t,s)=>{e&&F.update(()=>e(t,s),!1,!0)};class bd extends xe{constructor(){super(...arguments),this.removePointerDownListener=Q}onPointerDown(t){this.session=new So(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wo(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Wt(t),onStart:Wt(s),onMove:Wt(n),onEnd:(o,r)=>{delete this.session,i&&F.postRender(()=>i(o,r))}}}mount(){this.removePointerDownListener=Ge(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Ht=!1;class vd extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=t;o&&(s.group&&s.group.add(o),n&&n.register&&i&&n.register(o),Ht&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),ft.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:o}=this.props,{projection:r}=n;return r&&(r.isPresent=o,t.layoutDependency!==s&&r.setOptions({...r.options,layoutDependency:s}),Ht=!0,i||t.layoutDependency!==s||s===void 0||t.isPresent!==o?r.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?r.promote():r.relegate()||F.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Gs.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;Ht=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Co(e){const[t,s]=ho(),n=p.useContext(js);return l.jsx(vd,{...e,layoutGroup:n,switchLayoutGroup:p.useContext(bo),isPresent:t,safeToRemove:s})}const wd={pan:{Feature:bd},drag:{Feature:yd,ProjectionNode:uo,MeasureLayout:Co}};function ki(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,o=n[i];o&&F.postRender(()=>o(t,nt(t)))}class Sd extends xe{mount(){const{current:t}=this.node;t&&(this.unmount=Gl(t,(s,n)=>(ki(this.node,n,"Start"),i=>ki(this.node,i,"End"))))}unmount(){}}class Td extends xe{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=et(Je(this.node.current,"focus",()=>this.onFocus()),Je(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pi(e,t,s){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),o=n[i];o&&F.postRender(()=>o(t,nt(t)))}class Cd extends xe{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:s,propagate:n}=this.node.props;this.unmount=Jl(t,(i,o)=>(Pi(this.node,o,"Start"),(r,{success:a})=>Pi(this.node,r,a?"End":"Cancel")),{useGlobalTarget:s,stopPropagation:(n==null?void 0:n.tap)===!1})}unmount(){}}const vs=new WeakMap,Gt=new WeakMap,jd=e=>{const t=vs.get(e.target);t&&t(e)},kd=e=>{e.forEach(jd)};function Pd({root:e,...t}){const s=e||document;Gt.has(s)||Gt.set(s,{});const n=Gt.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(kd,{root:e,...t})),n[i]}function Nd(e,t,s){const n=Pd(t);return vs.set(e,s),n.observe(e),()=>{vs.delete(e),n.unobserve(e)}}const Ed={some:0,all:1};class Md extends xe{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:o}=t,r={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Ed[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return Nd(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(Ad(t,s))&&this.startObserver()}unmount(){}}function Ad({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Rd={inView:{Feature:Md},tap:{Feature:Cd},focus:{Feature:Td},hover:{Feature:Sd}},Dd={layout:{ProjectionNode:uo,MeasureLayout:Co}},Vd={...nd,...Rd,...wd,...Dd},N=Ju(Vd,Qu),ws=[{id:"first-job",label:"First Job",emoji:"",ageRange:"2225",description:"Starting your career journey",order:1,color:"#0066B2"},{id:"marriage",label:"Marriage",emoji:"",ageRange:"2530",description:"Building a life together",order:2,color:"#0066B2"},{id:"parenthood",label:"Parenthood",emoji:"",ageRange:"3035",description:"Welcoming a new life",order:3,color:"#0066B2"},{id:"mid-career",label:"Mid-Career",emoji:"",ageRange:"3550",description:"Peak responsibilities",order:4,color:"#0066B2"},{id:"retirement",label:"Approaching Retirement",emoji:"",ageRange:"5560",description:"Securing your golden years",order:5,color:"#0066B2"}],Id=5,he={LOW:{max:35,label:"Low Protection",color:"#EF4444"},MEDIUM:{max:70,label:"Medium Protection",color:"#FF8C00"},HIGH:{label:"High Protection",color:"#10B981"}},Kt=50,Ni={EXPOSED:"exposed"},B={INTRO:"intro",STAGE_SELECTION:"stage_selection",RACING:"racing",EVENT_FEEDBACK:"event_feedback",FINISH:"finish",SCORE_REVEAL:"score_reveal",TIMELINE:"timeline",CONVERSION:"conversion",LEAD_FORM:"lead_form",THANK_YOU:"thank_you"},Ld=[{id:"fj-01",stage:"first-job",title:"Medical Emergency & Hospitalization",severity:"high",description:"Sudden illness requires hospitalization. Employer cover is minimal or absent.",impactProtected:10,impactExposed:-10,icon:""},{id:"fj-02",stage:"first-job",title:"Job Loss or Income Interruption",severity:"high",description:"Unexpected job loss. EMIs and monthly expenses continue but income stops.",impactProtected:10,impactExposed:-10,icon:""},{id:"fj-03",stage:"first-job",title:"Family Dependency - Death of Earning Member",severity:"high",description:"Loss of parent impacts family. Your income becomes critical for family support.",impactProtected:10,impactExposed:-10,icon:""},{id:"fj-04",stage:"first-job",title:"Temporary Disability Due to Accident",severity:"high",description:"Accident leaves you temporarily unable to work. Income loss for weeks/months.",impactProtected:10,impactExposed:-10,icon:""},{id:"fj-05",stage:"first-job",title:"Down Payment for Dream Home",severity:"medium",description:"Need to save for home down payment while managing monthly expenses.",impactProtected:10,impactExposed:-10,icon:""},{id:"mr-01",stage:"marriage",title:"Medical Emergency of One Spouse",severity:"high",description:"Spouse hospitalized with high medical bills. Employer cover is limited.",impactProtected:10,impactExposed:-10,icon:""},{id:"mr-02",stage:"marriage",title:"Accidental Death of One Spouse",severity:"high",description:"Loss of spouse disrupts lifestyle and creates financial liabilities.",impactProtected:10,impactExposed:-10,icon:""},{id:"mr-03",stage:"marriage",title:"Critical Illness of Earning Spouse",severity:"high",description:"Cancer, heart disease diagnosed. Treatment costs + recovery period affects income.",impactProtected:10,impactExposed:-10,icon:""},{id:"mr-04",stage:"marriage",title:"Job Loss of One Spouse",severity:"high",description:"One spouse loses job. Household depends entirely on one income.",impactProtected:10,impactExposed:-10,icon:""},{id:"mr-05",stage:"marriage",title:"Disability Due to Accident",severity:"high",description:"Accident disables spouse long-term. Medical care + lost income creates crisis.",impactProtected:10,impactExposed:-10,icon:""},{id:"ph-01",stage:"parenthood",title:"Child Education Needs",severity:"medium",description:"Need funds for school admission, board, and ongoing education costs.",impactProtected:10,impactExposed:-10,icon:""},{id:"ph-02",stage:"parenthood",title:"Death of Earning Parent",severity:"high",description:"Loss of parent threatens child's education and family's future security.",impactProtected:10,impactExposed:-10,icon:""},{id:"ph-03",stage:"parenthood",title:"Medical Emergency - Self/Spouse/Child",severity:"high",description:"Health crisis in family. High hospitalization costs and time off work.",impactProtected:10,impactExposed:-10,icon:""},{id:"ph-04",stage:"parenthood",title:"Critical Illness of Earning Parent",severity:"high",description:"Cancer, heart disease diagnosed. Goals and income both at risk.",impactProtected:10,impactExposed:-10,icon:""},{id:"ph-05",stage:"parenthood",title:"Permanent Disability Due to Accident",severity:"high",description:"Accident causes long-term disability. Family's future income security threatened.",impactProtected:10,impactExposed:-10,icon:""},{id:"mc-01",stage:"mid-career",title:"Job Loss or Business Income Disruption",severity:"high",description:"Sudden job loss or business crisis. Re-employment risk is high in competitive market.",impactProtected:10,impactExposed:-10,icon:""},{id:"mc-02",stage:"mid-career",title:"Parental Care Needs",severity:"high",description:"Parent requires medical care and financial support. Ongoing expenses and time commitment.",impactProtected:10,impactExposed:-10,icon:""},{id:"mc-03",stage:"mid-career",title:"Critical Illness - Peak Risk Phase",severity:"high",description:"Cancer, heart disease, stroke diagnosed. High treatment costs and long recovery.",impactProtected:10,impactExposed:-10,icon:""},{id:"mc-04",stage:"mid-career",title:"Death of Earning Member",severity:"high",description:"Loss of you exposes multiple dependents and liabilities. Family lifestyle disrupted.",impactProtected:10,impactExposed:-10,icon:""},{id:"mc-05",stage:"mid-career",title:"Investment Loss - Market Downturn",severity:"medium",description:"Market crash affects investments. Retirement plans delayed.",impactProtected:10,impactExposed:-10,icon:""},{id:"rt-01",stage:"retirement",title:"Loss of Regular Income",severity:"high",description:"Retirement means end of regular salary. Income sources become critical.",impactProtected:10,impactExposed:-10,icon:""},{id:"rt-02",stage:"retirement",title:"Longevity Risk - Outliving Savings",severity:"high",description:"Living longer than planned. Savings need to last 30-40 years in retirement.",impactProtected:10,impactExposed:-10,icon:""},{id:"rt-03",stage:"retirement",title:"Healthcare Inflation",severity:"high",description:"Medical costs rise faster than expected. Inflation erodes purchasing power.",impactProtected:10,impactExposed:-10,icon:""},{id:"rt-04",stage:"retirement",title:"Legacy Planning - Inheritance Needs",severity:"medium",description:"Need to leave inheritance for family. Estate planning becomes critical.",impactProtected:10,impactExposed:-10,icon:""},{id:"rt-05",stage:"retirement",title:"Critical Health Crisis in Retirement",severity:"high",description:"Major health issue in retirement. No employer cover. High out-of-pocket costs.",impactProtected:10,impactExposed:-10,icon:""}];function jo(e){return Math.max(0,Math.min(100,e))}function Fd(e,t,s,n){let i=t;if(s&&n>1){const r=1+(n-1)*.25;i=Math.round(t*r)}return{newScore:jo(e+i),appliedDelta:i}}function Bd(e){return e<=he.LOW.max?{label:he.LOW.label,color:he.LOW.color,key:"LOW"}:e<=he.MEDIUM.max?{label:he.MEDIUM.label,color:he.MEDIUM.color,key:"MEDIUM"}:{label:he.HIGH.label,color:he.HIGH.color,key:"HIGH"}}function Od(e){return jo(Math.round(e))}function _d(e){return e.filter(t=>t.decision==="exposed").map(t=>`${t.stage}: ${t.title} (${t.severity})`)}function $d(e){return e==="high"}function zd(e){return{high:"Critical",medium:"Significant",moderate:"Moderate"}[e]??"Unknown"}function Ud(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function Wd(e){const t=[...e];for(let s=t.length-1;s>0;s--){const n=Math.floor(Math.random()*(s+1));[t[s],t[n]]=[t[n],t[s]]}return t}function Hd(e){const t=Ld.filter(n=>n.stage===e);return Wd(t).slice(0,Id)}function Gd(){const[e,t]=p.useState(""),[s,n]=p.useState(B.INTRO),[i,o]=p.useState(Kt),[r,a]=p.useState(null),[c,u]=p.useState([]),[d,h]=p.useState(0),[f,m]=p.useState([]),[g,x]=p.useState(null),[v,y]=p.useState(!1),[w,b]=p.useState(""),[T,S]=p.useState(""),M=p.useRef(0),A=p.useMemo(()=>c[d]??null,[c,d]),j=p.useMemo(()=>d>=c.length-1,[d,c.length]),R=p.useMemo(()=>Bd(i),[i]),P=p.useMemo(()=>Od(i),[i]),D=p.useMemo(()=>_d(f),[f]),I=p.useMemo(()=>c.length===0?0:Math.round((d+1)/c.length*100),[d,c.length]),K=p.useMemo(()=>r?ws.find(U=>U.id===r)??null:null,[r]),Z=p.useCallback((U,ye)=>{U&&b(U),ye&&S(ye),n(B.STAGE_SELECTION)},[]),ce=p.useCallback(U=>{const ye=Ud(),Pt=Hd(U);t(ye),a(U),u(Pt),h(0),o(Kt),m([]),x(null),M.current=0,n(B.RACING),y(!0)},[]),ie=p.useCallback(U=>{if(!A)return;y(!1);const ye=U===Ni.EXPOSED,Pt=ye?A.impactExposed:A.impactProtected,cn=ye&&$d(A.severity);cn?M.current+=1:M.current=0;const{newScore:un,appliedDelta:dn}=Fd(i,Pt,cn,M.current),Nt=ws.find(Et=>Et.id===A.stage),_o={eventId:A.id,stage:(Nt==null?void 0:Nt.label)??A.stage,stageId:A.stage,title:A.title,severity:A.severity,decision:U,scoreDelta:dn,scoreAfter:un};o(un),m(Et=>[...Et,_o]),x({decision:U,delta:dn,severity:A.severity,title:A.title}),n(B.EVENT_FEEDBACK)},[A,i]),E=p.useCallback(()=>{ie(Ni.EXPOSED)},[ie]),V=p.useCallback(()=>{if(j){y(!1),n(B.FINISH);return}h(U=>U+1),x(null),n(B.RACING),y(!0)},[j]),L=p.useCallback(()=>{n(B.SCORE_REVEAL)},[]),X=p.useCallback(()=>{n(B.TIMELINE)},[]),ue=p.useCallback(()=>{n(B.CONVERSION)},[]),je=p.useCallback(()=>{n(B.LEAD_FORM)},[]),de=p.useCallback(U=>{U&&b(U),n(B.THANK_YOU)},[]),Oe=p.useCallback(()=>{t(""),n(B.INTRO),o(Kt),a(null),u([]),h(0),m([]),x(null),y(!1),b(""),M.current=0},[]);return{gameId:e,phase:s,score:i,selectedStage:r,selectedStageData:K,currentEvent:A,currentEventIndex:d,eventQueue:c,timeline:f,lastFeedback:g,isTimerActive:v,isLastEvent:j,protectionCategory:R,finalScore:P,riskGaps:D,progressPercent:I,userName:w,userPhone:T,startGame:Z,selectStage:ce,makeDecision:ie,handleTimerExpire:E,advanceToNextEvent:V,showScoreReveal:L,showTimeline:X,showConversion:ue,showLeadForm:je,showThankYou:de,restartGame:Oe}}function Kd(e,t,s){const[n,i]=p.useState(e),o=p.useRef(null),r=p.useRef(t),a=p.useRef(!1);p.useEffect(()=>{r.current=t},[t]);const c=p.useCallback(()=>{o.current&&(clearInterval(o.current),o.current=null)},[]),u=p.useCallback(()=>{c()},[c]),d=p.useCallback(()=>{c(),a.current=!1,i(e)},[c,e]);p.useEffect(()=>{if(!s){c();return}return a.current=!1,i(e),o.current=setInterval(()=>{i(f=>{const m=f-1;return m<=0&&!a.current?(a.current=!0,clearInterval(o.current),o.current=null,setTimeout(()=>{var g;(g=r.current)==null||g.call(r)},0),0):m})},1e3),c},[s,e,c]),p.useEffect(()=>c,[c]);const h=n/e*100;return{timeLeft:n,resetTimer:d,stopTimer:u,progress:h}}var qt={exports:{}},Yt,Ei;function qd(){if(Ei)return Yt;Ei=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Yt=e,Yt}var Xt,Mi;function Yd(){if(Mi)return Xt;Mi=1;var e=qd();function t(){}function s(){}return s.resetWarningCache=t,Xt=function(){function n(r,a,c,u,d,h){if(h!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:t};return o.PropTypes=o,o},Xt}var Ai;function Xd(){return Ai||(Ai=1,qt.exports=Yd()()),qt.exports}var Zd=Xd();const k=$o(Zd),sn=p.memo(function({children:t,className:s="",fullScreen:n=!1}){return l.jsxs("div",{className:`race-container ${s} bg-[#020617] h-[100dvh] overflow-hidden flex items-center justify-center`,children:[!n&&l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":"true",children:[l.jsx("div",{className:"absolute top-[10%] left-[15%] w-[20rem] h-[20rem] bg-bajaj-blue/5 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-[15%] right-[10%] w-[25rem] h-[25rem] bg-bajaj-orange/5 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute top-[50%] left-[60%] w-[15rem] h-[15rem] bg-race-accent/5 rounded-full blur-3xl"})]}),l.jsx("div",{className:"relative z-10 w-full max-w-[480px] h-[100dvh] mx-auto flex flex-col shadow-2xl bg-white overflow-hidden",children:t})]})});sn.displayName="RaceLayout";sn.propTypes={children:k.node.isRequired,className:k.string,fullScreen:k.bool};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,n)=>n?n.toUpperCase():s.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=e=>{const t=Qd(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:r,...a},c)=>p.createElement("svg",{ref:c,...eh,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:ko("lucide",i),...!o&&!th(a)&&{"aria-hidden":"true"},...a},[...r.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=(e,t)=>{const s=p.forwardRef(({className:n,...i},o)=>p.createElement(sh,{ref:o,iconNode:t,className:ko(`lucide-${Jd(Ri(e))}`,`lucide-${e}`,n),...i}));return s.displayName=Ri(e),s};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Di=H("calendar-clock",nh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Po=H("calendar",ih);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ss=H("check",rh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ah=H("chevron-down",oh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],No=H("chevron-right",lh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ts=H("circle-alert",ch);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dh=H("circle-check-big",uh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fh=H("clock",hh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Eo=H("loader-circle",mh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],nn=H("phone",ph);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xh=H("refresh-cw",gh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bh=H("send",yh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Cs=H("share-2",vh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qe=H("shield",wh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mo=H("triangle-alert",Sh);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ch=H("user",Th);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ke=H("x",jh),Vi={primary:"race-button-primary",secondary:"race-button-secondary",protected:"race-button-protected",exposed:"race-button-exposed",ghost:"inline-flex items-center justify-center gap-2 rounded-xl px-6 py-3 font-semibold text-race-muted hover:text-white transition-colors duration-300 focus:outline-none"},Ii={sm:"text-[0.875rem] px-4 py-2",md:"text-[1rem] px-6 py-3",lg:"text-[1.125rem] px-8 py-4"},Be=p.memo(p.forwardRef(function({variant:t="primary",size:s="md",children:n,className:i="",disabled:o=!1,...r},a){const c=Vi[t]||Vi.primary,u=Ii[s]||Ii.md;return l.jsx("button",{ref:a,className:`${c} ${u} ${i} ${o?"opacity-50 cursor-not-allowed":""}`,disabled:o,...r,children:n})}));Be.displayName="Button";Be.propTypes={variant:k.oneOf(["primary","secondary","protected","exposed","ghost"]),size:k.oneOf(["sm","md","lg"]),children:k.node.isRequired,className:k.string,disabled:k.bool};const kh=""+new URL("Life-Milestone-Race-4WPRrUez.png",import.meta.url).href,Ao=async e=>{const t="https://bjuat.bajajlife.com/BalicLmsUtil/whatsappInhouse",s=new URLSearchParams(window.location.search),n=s.get("userId")||"",i=s.get("gameId")||"",o={cust_name:e.name||e.fullName||"",mobile_no:e.mobile_no||e.contact_number||"",dob:"",gender:"M",pincode:"",email_id:e.email_id||"",life_goal_category:"",investment_amount:"",product_id:"",p_source:"Marketing Assist",p_data_source:"GAMIFICATION",pasa_amount:"",product_name:"",pasa_product:"",associated_rider:"",customer_app_product:"",p_data_medium:" GAMIFICATION ",utmSource:"",userId:n,gameID:i,remarks:e.summary_dtls||"Life Milestone Race Lead",appointment_date:"",appointment_time:""};console.log("[API] Submitting lead to WhatsApp Inhouse API:",o);try{const r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),a=await r.json().catch(()=>({}));return{success:r.ok,...a}}catch(r){return console.error("LMS Submission Error:",r),{success:!1,error:r.message}}},Ph={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.2}}},Nh={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},rn=p.memo(function({onStart:t}){const[s,n]=p.useState(!1),[i,o]=p.useState(""),[r,a]=p.useState(""),[c,u]=p.useState(!0),[d,h]=p.useState(!1),f=p.useRef(null),[m,g]=p.useState({}),[x,v]=p.useState(!1),[y,w]=p.useState(()=>sessionStorage.getItem("lastSubmittedPhone")||null),[b,T]=p.useState(null);p.useEffect(()=>{y&&sessionStorage.setItem("lastSubmittedPhone",y)},[y]),p.useEffect(()=>{if(b){const P=setTimeout(()=>T(null),3e3);return()=>clearTimeout(P)}},[b]);const S=(P,D="error")=>{T({message:P,type:D})},M=()=>{n(!0)},A=(P,D)=>{let I="";return P==="name"?D.trim()?/^[A-Za-z\s]+$/.test(D.trim())||(I="Name must contain only letters."):I="Please enter your name":P==="phone"&&(D?/^\d{10}$/.test(D)||(I="Enter a valid 10-digit mobile number"):I="Please enter mobile number"),I?(g(K=>({...K,[P]:I})),!1):(g(K=>({...K,[P]:""})),!0)},j=()=>{const P=A("name",i),D=A("phone",r);return P&&D},R=async P=>{if(P.preventDefault(),!!j()&&c){if(y===r){S("You have already registered.","info"),setTimeout(()=>{t(i.trim(),r)},1e3);return}v(!0);try{const D=new Date;D.setDate(D.getDate()+1);const I=D.toISOString().split("T")[0],K={name:i.trim(),mobile_no:r,param4:I,param19:"09:00 AM",summary_dtls:"Game Lead Generator",p_data_source:"LIFE_MILESTONE_RACE_LEAD"};(await Ao(K)).success?(w(r),t(i.trim(),r)):S("Submission failed. Please try again.")}catch(D){console.error(D),S("Something went wrong.")}finally{v(!1)}}};return l.jsxs(N.div,{className:"w-full flex-1 min-h-[100dvh] flex flex-col items-center justify-end pb-6 pt-8 relative overflow-hidden",variants:Ph,initial:"hidden",animate:"visible",style:{backgroundImage:`url(${kh})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[l.jsx(N.div,{variants:Nh,className:"w-full max-w-xs z-10",children:l.jsxs(Be,{variant:"primary",size:"lg",className:"w-full shadow-lg text-white btn-5",onClick:M,id:"btn-start-race",style:{background:"linear-gradient(135deg, #FF6600 0%, #F59E0B 100%)"},children:["Start the Race",l.jsx(No,{size:20})]})}),l.jsx(De,{children:s&&l.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-md",onClick:()=>n(!1),children:l.jsxs(N.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:P=>P.stopPropagation(),className:"relative bg-white shadow-2xl w-full max-w-[320px] min-[375px]:max-w-[340px] p-5 min-[375px]:p-6 border-[4px] sm:border-[6px] border-[#0066B2] rounded-2xl",children:[l.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:l.jsx(Ke,{className:"w-5 h-5 min-[375px]:w-6 min-[375px]:h-6"})}),l.jsxs("div",{className:"text-center mb-4 min-[375px]:mb-6",children:[l.jsx("div",{className:"w-14 h-14 min-[375px]:w-16 min-[375px]:h-16 sm:w-20 sm:h-20 bg-[#0066B2] flex items-center justify-center mx-auto mb-3 min-[375px]:mb-4 shadow-xl border-4 border-white rounded-full",children:l.jsx("span",{className:"text-2xl min-[375px]:text-3xl sm:text-4xl",children:""})}),l.jsx("h2",{className:"text-[#0066B2] text-lg min-[375px]:text-xl sm:text-2xl font-black mb-1",children:"Welcome!"}),l.jsx("p",{className:"text-slate-500 font-bold text-xs min-[375px]:text-sm sm:text-base",children:"Enter your details to start."})]}),l.jsxs("form",{onSubmit:R,className:"space-y-3 min-[375px]:space-y-4",children:[l.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[l.jsx("label",{className:"block text-slate-700 text-[9px] min-[375px]:text-[10px] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"userName",children:"Your Name"}),l.jsx("input",{id:"userName",type:"text",value:i,onChange:P=>{o(P.target.value),/^[A-Za-z\s]*$/.test(P.target.value)&&g(D=>({...D,name:""}))},onBlur:P=>A("name",P.target.value),onKeyDown:P=>{var D;P.key==="Enter"&&(P.preventDefault(),A("name",i)&&((D=f.current)==null||D.focus()))},placeholder:"Full Name",autoFocus:!0,className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${m.name?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`}),m.name&&l.jsx("p",{className:"text-red-500 text-[9px] min-[375px]:text-[10px] font-black uppercase tracking-wider ml-1",children:m.name})]}),l.jsxs("div",{className:"space-y-1 min-[375px]:space-y-1.5 text-left",children:[l.jsx("label",{className:"block text-slate-700 text-[9px] min-[375px]:text-[10px] sm:text-xs font-black uppercase tracking-widest ml-1",htmlFor:"phone",children:"Mobile Number"}),l.jsx("input",{ref:f,id:"phone",type:"tel",maxLength:10,value:r,onChange:P=>{const D=P.target.value.replace(/\D/g,"").slice(0,10);a(D),g(I=>({...I,phone:""}))},onBlur:P=>A("phone",P.target.value),placeholder:"9876543210",className:`w-full px-3 py-2.5 min-[375px]:px-4 min-[375px]:py-3 sm:py-3.5 border-4 ${m.phone?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#0066B2]"} focus:outline-none focus:ring-4 focus:ring-[#0066B2]/10 text-slate-800 font-bold text-sm min-[375px]:text-base sm:text-lg transition-all rounded-lg`}),m.phone&&l.jsx("p",{className:"text-red-500 text-[9px] min-[375px]:text-[10px] font-black uppercase tracking-wider ml-1",children:m.phone})]}),l.jsxs("div",{className:"flex items-start space-x-3 pt-1 text-left",children:[l.jsxs("div",{className:"relative flex items-center",children:[l.jsx("input",{id:"terms",type:"checkbox",checked:c,onChange:P=>u(P.target.checked),className:"peer h-5 w-5 cursor-pointer appearance-none rounded border-2 border-slate-300 bg-slate-50 transition-all checked:border-[#0066B2] checked:bg-[#0066B2] hover:border-[#0066B2]"}),l.jsx(Ss,{className:"pointer-events-none absolute left-1/2 top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100",strokeWidth:4})]}),l.jsxs("label",{htmlFor:"terms",className:"text-[10px] sm:text-xs font-semibold text-slate-500 leading-tight select-none",children:["I agree to the"," ",l.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-[#0066B2] hover:underline font-bold inline",children:"Terms & Conditions"})," ","and Acknowledge the Privacy Policy."]})]}),l.jsx("button",{type:"submit",disabled:!i.trim()||r.length!==10||!c||x,className:"w-full py-2.5 min-[375px]:py-3 sm:py-4 rounded-xl font-game text-sm sm:text-lg tracking-widest disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2 text-white uppercase font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",style:{background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",boxShadow:"0 4px 15px rgba(0, 102, 178, 0.3)"},children:x?l.jsxs(l.Fragment,{children:[l.jsx(Eo,{className:"w-5 h-5 animate-spin"}),l.jsx("span",{children:"Starting..."})]}):"Let's Go!"})]})]})})}),l.jsx(De,{children:d&&l.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-md",onClick:()=>h(!1),children:l.jsxs(N.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:P=>P.stopPropagation(),className:"bg-white p-6 rounded-2xl max-w-md w-full shadow-2xl border-4 border-[#0066B2] relative text-left",children:[l.jsx("button",{onClick:()=>h(!1),className:"absolute top-3 right-3 p-1 text-slate-400 hover:text-slate-600 transition-colors",children:l.jsx(Ke,{className:"w-5 h-5"})}),l.jsx("h3",{className:"text-[#0066B2] font-black text-lg uppercase mb-4 tracking-tight",children:"Terms & Conditions"}),l.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 space-y-3 font-medium leading-relaxed max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[l.jsx("p",{children:"I hereby authorize Bajaj Life Insurance Limited to call me on the contact number made available by me on the website with a specific request to call back. I further declare that, irrespective of my contact number being registered on National Customer Preference Register (NCPR) or on National Do Not Call Registry (NDNC), any call made, SMS or WhatsApp sent in response to my request shall not be construed as an Unsolicited Commercial Communication even though the content of the call may be for the purposes of explaining various insurance products and services or solicitation and procurement of insurance business."}),l.jsx("p",{children:"Please refer to BALIC Privacy Policy."})]}),l.jsx("button",{onClick:()=>{h(!1),u(!0)},className:"w-full mt-6 py-3 bg-[#0066B2] text-white font-bold rounded-lg hover:bg-blue-700 transition-colors text-sm uppercase tracking-wider",children:"I Agree"})]})})}),l.jsx(De,{children:b&&l.jsxs(N.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[120] px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 ${b.type==="error"?"bg-red-500 text-white":"bg-blue-600 text-white"}`,children:[b.type==="error"?l.jsx(Ke,{size:20,className:"stroke-[3]"}):l.jsx(Ss,{size:20,className:"stroke-[3]"}),l.jsx("span",{className:"font-bold text-sm",children:b.message})]})})]})});rn.displayName="IntroScreen";rn.propTypes={onStart:k.func.isRequired};const Eh=["justify-start","justify-end","justify-center","justify-start","justify-end"],Mh={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.15}}},Ah={hidden:{opacity:0,y:30,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.175,.885,.32,1.275]}}},on=p.memo(function({onSelectStage:t}){const[s,n]=p.useState(null),i=p.useCallback(a=>{n(a)},[]),o=p.useCallback(()=>{s&&t(s)},[s,t]),r=p.useMemo(()=>l.jsx("svg",{className:"absolute top-0 left-0 w-full h-full z-[1] pointer-events-none",fill:"none",viewBox:"0 0 430 600",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:l.jsx("path",{d:"M100 60 C 250 100, 350 150, 300 220 C 250 290, 100 320, 150 400 C 200 480, 350 500, 300 580",stroke:"white",strokeWidth:"8",strokeDasharray:"16 16",strokeLinecap:"round",opacity:"0.4"})}),[]);return l.jsxs("div",{className:"absolute inset-0 map-bg flex flex-col overflow-hidden",children:[l.jsx("div",{className:"ray-burst","aria-hidden":"true"}),l.jsx("div",{className:"absolute top-[5rem] -left-[2.5rem] w-[8rem] h-[8rem] bg-white/30 blur-2xl rounded-full z-0","aria-hidden":"true"}),l.jsx("div",{className:"absolute bottom-[10rem] -right-[2.5rem] w-[12rem] h-[12rem] bg-yellow-200/20 blur-2xl rounded-full z-0","aria-hidden":"true"}),l.jsxs(N.div,{className:"px-4 pt-8 sm:pt-12 pb-1 sm:pb-2 text-center z-20 flex-shrink-0",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[l.jsx("h1",{className:"font-game text-[1.75rem] sm:text-[2.25rem] text-white drop-shadow-lg tracking-wide leading-tight mb-0.5 uppercase",children:"Select Your Stage"}),l.jsx("p",{className:"text-blue-900 font-game-body font-black text-[0.625rem] sm:text-[0.6875rem] uppercase tracking-widest opacity-80",children:"Tap a milestone to start the race"})]}),l.jsxs(N.div,{className:"flex-1 relative z-10 px-4 sm:px-6 py-2 flex flex-col justify-evenly gap-0 max-w-[26.875rem] mx-auto w-full min-h-0",variants:Mh,initial:"hidden",animate:"visible",children:[r,ws.map((a,c)=>{const u=s===a.id,d=Eh[c]||"justify-center";return l.jsx(N.div,{variants:Ah,className:`flex ${d} w-full z-10`,children:l.jsxs("div",{className:`glossy-card ${u?"glossy-selected":""} w-[8.5rem] sm:w-[10rem] p-2 sm:p-3 rounded-2xl sm:rounded-3xl flex flex-col items-center gap-1 sm:gap-1.5 cursor-pointer`,onClick:()=>i(a.id),role:"radio","aria-checked":u,"aria-label":`${a.label} (${a.ageRange})`,tabIndex:0,onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),i(a.id))},children:[l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"text-[2.25rem] sm:text-[3rem] drop-shadow-md block leading-none",children:a.emoji}),l.jsx("div",{className:`absolute -top-1 -right-1 w-[1.125rem] h-[1.125rem] sm:w-[1.375rem] sm:h-[1.375rem] rounded-full border-2 border-white flex items-center justify-center transition-colors duration-200 ${u?"bg-green-500":"bg-slate-200"}`,children:l.jsx("span",{className:`material-symbols-outlined text-[0.625rem] sm:text-[0.75rem] font-bold ${u?"text-white":"text-slate-400"}`,children:u?"check":"radio_button_unchecked"})})]}),l.jsx("span",{className:"font-game-body font-black text-[0.6875rem] sm:text-[0.8125rem] uppercase tracking-tight text-slate-800 text-center leading-tight",children:a.label}),l.jsx("span",{className:"text-[0.5625rem] sm:text-[0.6875rem] font-semibold text-slate-500 tracking-wider",children:a.ageRange})]})},a.id)})]}),l.jsx(N.div,{className:"px-4 sm:px-6 pb-6 pt-2 z-20 max-w-[26.875rem] mx-auto w-full flex-shrink-0",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.7,duration:.5,ease:"easeOut"},children:l.jsxs("button",{className:"chunky-btn w-full bg-blue-600 hover:bg-blue-500 text-white font-game text-[1.25rem] sm:text-[1.5rem] py-4 sm:py-5 rounded-2xl sm:rounded-3xl flex items-center justify-center gap-2 active:scale-95 disabled:hover:bg-blue-600",onClick:o,disabled:!s,id:"btn-confirm-stage",children:["BEGIN RACE",l.jsx("span",{className:"material-symbols-outlined text-[1.5rem] sm:text-[1.875rem]",children:"chevron_right"})]})})]})});on.displayName="StageSelection";on.propTypes={onSelectStage:k.func.isRequired};const Rh={hidden:{opacity:0,y:40,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.16,1,.3,1]}},exit:{opacity:0,y:-30,scale:.95,transition:{duration:.3,ease:"easeIn"}}},Li={high:{label:"High Impact",bg:"#FF8C00",text:"#fff",glow:"rgba(255, 140, 0, 0.4)",Icon:Mo},medium:{label:"Medium Impact",bg:"rgba(0, 102, 178, 0.15)",text:"#0066B2",glow:"none",Icon:Qe},moderate:{label:"Medium Impact",bg:"rgba(0, 102, 178, 0.15)",text:"#0066B2",glow:"none",Icon:Qe}},Ro=p.memo(function({event:t}){if(!t)return null;const s=Li[t.severity]||Li.medium,n=s.Icon;return l.jsx(N.div,{variants:Rh,initial:"hidden",animate:"visible",exit:"exit",className:"w-full",children:l.jsxs("div",{className:"w-full text-center space-y-4 flex flex-col items-center justify-center h-full",style:{background:"rgba(255, 255, 255, 0.92)",backdropFilter:"blur(16px)",borderRadius:"28px",border:"4px solid #FFFFFF",padding:"2rem 1.75rem",boxShadow:"0 12px 40px rgba(0, 74, 128, 0.1), 0 4px 12px rgba(0, 0, 0, 0.05)"},children:[l.jsx("div",{className:"flex justify-center mb-1",children:l.jsxs("span",{className:"inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full text-[0.85rem] font-black uppercase tracking-wider transform transition-transform",style:{backgroundColor:s.bg,color:s.text,boxShadow:s.glow!=="none"?`0 0 16px ${s.glow}`:void 0},children:[l.jsx(n,{size:16,strokeWidth:3}),s.label]})}),l.jsx("h3",{className:"font-black text-blue-950 leading-tight drop-shadow-sm",style:{fontSize:"1.75rem",letterSpacing:"-0.03em"},children:t.title}),l.jsx("p",{className:"text-blue-900/80 leading-relaxed max-w-[280px] mx-auto font-medium",style:{fontSize:"1.125rem"},children:t.description})]})},t.id)});Ro.displayName="EventCard";Ro.propTypes={event:k.shape({id:k.string.isRequired,title:k.string.isRequired,description:k.string.isRequired,severity:k.oneOf(["high","medium","moderate"]).isRequired,stage:k.string.isRequired})};const Do=p.memo(function({score:t,maxScore:s=100}){const n=p.useMemo(()=>Math.max(0,Math.min(100,t/s*100)),[t,s]),{label:i,pillColor:o}=p.useMemo(()=>n<=35?{label:"Low",pillColor:"#EF4444"}:n<=70?{label:"Medium",pillColor:"#FF8C00"}:{label:"High",pillColor:"#10B981"},[n]);return l.jsxs("div",{className:"w-full space-y-2",children:[l.jsxs("div",{className:"flex items-end justify-between px-1",children:[l.jsx("span",{className:"text-[0.9rem] font-bold text-blue-950/90 tracking-wide uppercase mb-0.5",children:"Protection Score"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[0.7rem] font-black uppercase tracking-wider px-2.5 py-0.5 rounded-full transition-colors duration-300",style:{backgroundColor:o,color:"#fff",boxShadow:`0 0 10px ${o}60`},children:i}),l.jsx("span",{className:"text-[1.75rem] font-black text-blue-950 leading-none tabular-nums tracking-tight",children:Math.round(t)})]})]}),l.jsx("div",{className:"relative w-full rounded-full overflow-hidden",style:{height:"16px",backgroundColor:"rgba(255, 255, 255, 0.5)",border:"1px solid rgba(255, 255, 255, 0.6)",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.05)"},children:l.jsx("div",{className:"h-full rounded-full transition-all duration-700 ease-out relative",style:{width:`${Math.max(5,n)}%`,background:"linear-gradient(90deg, #FF8C00 0%, #FF6600 100%)",boxShadow:"0 0 12px rgba(255, 140, 0, 0.4)"},children:l.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-gradient-to-b from-white/30 to-transparent"})})})]})});Do.displayName="ProtectionMeter";Do.propTypes={score:k.number.isRequired,maxScore:k.number};const Vo=p.memo(function({onDecision:t,timeLeft:s,timerProgress:n,disabled:i=!1}){const o=s<=2;return p.useMemo(()=>(s<=2||s<=3,"#FF8C00"),[s]),l.jsxs("div",{className:"w-full flex flex-col items-center gap-3",children:[l.jsx("div",{className:"flex flex-col items-center gap-1 -mb-2 z-10",children:l.jsx(N.div,{className:"relative flex items-center justify-center bg-white rounded-full p-1",style:{boxShadow:"0 8px 24px rgba(0,0,0,0.1)"},children:l.jsxs(N.div,{className:"relative flex items-center justify-center rounded-full",style:{width:76,height:76,background:"linear-gradient(135deg, #FF8C00 0%, #FF6600 100%)",boxShadow:"inset 0 4px 6px rgba(0,0,0,0.1)"},animate:o?{scale:[1,1.05,1]}:{scale:1},transition:{duration:.5,repeat:o?1/0:0},children:[l.jsx("span",{className:"text-[2.25rem] font-black text-white leading-none drop-shadow-md",children:s}),l.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",viewBox:"0 0 76 76",children:[l.jsx("circle",{cx:"38",cy:"38",r:"34",fill:"none",stroke:"rgba(255,255,255,0.2)",strokeWidth:"4"}),l.jsx("circle",{cx:"38",cy:"38",r:"34",fill:"none",stroke:"#fff",strokeWidth:"4",strokeDasharray:`${2*Math.PI*34}`,strokeDashoffset:`${2*Math.PI*34*(1-n/100)}`,strokeLinecap:"round",className:"transition-all duration-1000 ease-linear"})]})]})})}),l.jsxs("div",{className:"w-full flex flex-col gap-3 pt-2",children:[l.jsx(N.button,{onClick:()=>t("protected"),disabled:i,whileTap:{scale:.98},className:"w-full flex items-center justify-center gap-2 font-black text-white text-[1.2rem] uppercase tracking-wider transition-all duration-200 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",style:{height:"66px",borderRadius:"20px",background:"linear-gradient(135deg, #FF8C00 0%, #FF6600 100%)",boxShadow:"0 8px 20px rgba(255, 140, 0, 0.3), 0 4px 0 #CC5500",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},id:"btn-protected",children:" I'm Protected"}),l.jsx(N.button,{onClick:()=>t("exposed"),disabled:i,whileTap:{scale:.98},className:"w-full flex items-center justify-center gap-2 font-black text-white text-[1.2rem] uppercase tracking-wider transition-all duration-200 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",style:{height:"66px",borderRadius:"20px",background:"linear-gradient(135deg, #0066B2 0%, #3B82F6 100%)",border:"2px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 20px rgba(0, 74, 128, 0.25), 0 4px 0 #004A80",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},id:"btn-exposed",children:" I'm Exposed"})]})]})});Vo.displayName="DecisionButtons";Vo.propTypes={onDecision:k.func.isRequired,timeLeft:k.number.isRequired,timerProgress:k.number.isRequired,disabled:k.bool};const Io=({score:e})=>{const t=p.useRef(null),[s,n]=p.useState(0),i=isNaN(e)?0:e,o=Math.min(Math.max(Number(i),0),100),r=c=>c<40?"#FF3D00":c<75?"#FFD600":"#00E676";p.useEffect(()=>{const c=t.current;if(!c)return;const u=c.getContext("2d");let d;const h=.8*Math.PI,f=2.2*Math.PI,m=f-h,g=c.width,x=c.height,v=g/2,y=x/2,w=Math.min(g,x)/2-20,b=20;let T=0;const S=()=>{const M=o-T;Math.abs(M)>.5?T+=M*.08:T=o,n(Math.round(T)),u.clearRect(0,0,g,x),u.beginPath(),u.arc(v,y,w,h,f),u.lineWidth=b,u.strokeStyle="rgba(255, 255, 255, 0.1)",u.lineCap="round",u.stroke();const A=T/100,j=h+A*m,R=r(T);u.save(),u.beginPath(),u.arc(v,y,w,h,j),u.lineWidth=b,u.strokeStyle=R,u.lineCap="round",u.shadowBlur=20,u.shadowColor=R,u.stroke(),u.restore();const P=40;u.save(),u.shadowBlur=0;for(let Z=0;Z<=P;Z++){const ce=Z/P,ie=h+ce*m,E=Z%10===0,V=E?12:6,L=w-b/2-5,X=L-V,ue=v+Math.cos(ie)*L,je=y+Math.sin(ie)*L,de=v+Math.cos(ie)*X,Oe=y+Math.sin(ie)*X;u.beginPath(),u.moveTo(ue,je),u.lineTo(de,Oe),u.lineWidth=E?2:1,u.strokeStyle=ce<=A?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.2)",u.stroke()}u.restore();const D=w-10,I=v+Math.cos(j)*D,K=y+Math.sin(j)*D;u.save(),u.beginPath(),u.moveTo(v,y),u.lineTo(I,K),u.lineWidth=4,u.strokeStyle="#fff",u.lineCap="round",u.shadowBlur=15,u.shadowColor="#fff",u.stroke(),u.beginPath(),u.arc(v,y,8,0,Math.PI*2),u.fillStyle="#fff",u.fill(),u.restore(),Math.abs(M)>.5&&(d=requestAnimationFrame(S))};return S(),()=>{d&&cancelAnimationFrame(d)}},[o]);const a=r(s);return l.jsxs("div",{className:"relative flex flex-col items-center justify-center select-none w-full max-w-[350px] mx-auto",children:[l.jsx("canvas",{ref:t,width:350,height:300,className:"w-full h-auto drop-shadow-xl"}),l.jsx("div",{className:"text-center pointer-events-none z-10 -mt-12 mb-4",children:l.jsxs("div",{className:"text-5xl sm:text-6xl font-black text-white italic tracking-tighter",style:{textShadow:`0 0 20px ${a}, 0 0 40px ${a}`},children:[s,l.jsx("span",{className:"text-2xl sm:text-3xl font-bold not-italic ml-1 text-white/50",children:"/100"})]})})]})},Lo=p.memo(function({score:t,category:s,onViewTimeline:n}){const i=(s==null?void 0:s.color)||"#3B82F6";return l.jsxs(N.div,{className:"w-full flex flex-col items-center gap-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},children:[l.jsxs(N.div,{className:"text-center space-y-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:[l.jsx("h2",{className:"race-heading text-[2rem] text-blue-950",children:"Race Complete!"}),l.jsx("p",{className:"text-blue-900/60 text-[0.875rem] uppercase tracking-widest font-bold",children:"Your Life Protection Score"})]}),l.jsx("div",{className:"relative w-full flex justify-center",children:l.jsx(Io,{score:t})}),l.jsxs(N.div,{className:"text-center space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.5},children:[l.jsx("span",{className:"inline-flex items-center px-6 py-2 rounded-full text-[1rem] font-black uppercase tracking-wider",style:{backgroundColor:`${i}15`,color:i,border:`2px solid ${i}40`,boxShadow:`0 0 20px ${i}20`},children:s==null?void 0:s.label}),l.jsx("p",{className:"text-blue-900/70 text-[0.875rem] max-w-xs mx-auto leading-relaxed",children:"Life moves faster than planning. Let's strengthen your protection."})]}),l.jsx(N.div,{className:"w-full max-w-xs",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.4,duration:.5},children:l.jsxs(Be,{variant:"primary",size:"lg",className:"w-full py-4 text-[1rem] font-bold uppercase tracking-wider",onClick:n,id:"btn-view-timeline",children:["View Your Journey",l.jsx(No,{size:20})]})})]})});Lo.displayName="SpeedometerScore";Lo.propTypes={score:k.number.isRequired,category:k.shape({label:k.string,color:k.string,key:k.string}).isRequired,onViewTimeline:k.func.isRequired};const kt=p.memo(function({children:t,className:s="",padding:n="md",glow:i=!1,...o}){const r={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return l.jsx("div",{className:`race-glass-card ${r[n]||r.md} ${i?"glow-blue":""} ${s}`,...o,children:t})});kt.displayName="Card";kt.propTypes={children:k.node.isRequired,className:k.string,padding:k.oneOf(["none","sm","md","lg"]),glow:k.bool};const Dh={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.06,delayChildren:.1}}},Fi={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.35,ease:"easeOut"}}},an=p.memo(function({timeline:t,onContinue:s}){const n=t.filter(o=>o.decision==="protected").length,i=t.filter(o=>o.decision==="exposed").length;return l.jsxs(N.div,{className:"w-full flex flex-col gap-5 max-h-[85dvh] overflow-y-auto",variants:Dh,initial:"hidden",animate:"visible",children:[l.jsxs(N.div,{variants:Fi,className:"text-center space-y-2",children:[l.jsx("h2",{className:"race-subheading text-[1.5rem] text-blue-950",children:"Your Life Journey"}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsxs("span",{className:"inline-flex items-center gap-1 text-[0.8125rem] text-race-success",children:[l.jsx(Qe,{size:14})," ",n," Protected"]}),l.jsxs("span",{className:"inline-flex items-center gap-1 text-[0.8125rem] text-race-danger",children:[l.jsx(Ts,{size:14})," ",i," Exposed"]})]})]}),l.jsxs("div",{className:"relative space-y-3 pl-8",children:[l.jsx("div",{className:"absolute left-3 top-2 bottom-2 w-0.5 bg-gradient-to-b from-race-accent/40 via-race-border to-race-accent/40"}),t.map((o,r)=>{const a=o.decision==="protected";return l.jsxs(N.div,{variants:Fi,className:"relative",children:[l.jsx("div",{className:`absolute -left-5 top-4 w-3 h-3 rounded-full border-2 ${a?"bg-race-success border-race-success":"bg-race-danger border-race-danger"}`}),l.jsx(kt,{padding:"sm",className:"ml-1",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("span",{className:"text-[0.75rem] text-blue-900/60 font-medium",children:o.stage}),l.jsx("span",{className:`severity-badge severity-${o.severity}`,children:zd(o.severity)})]}),l.jsx("p",{className:"text-[0.875rem] font-medium text-blue-950 mt-1",children:o.title})]}),l.jsxs("div",{className:"flex-shrink-0 flex flex-col items-end gap-1",children:[l.jsx("span",{className:`inline-flex items-center gap-1 text-[0.6875rem] font-semibold rounded-full px-2 py-0.5 ${a?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:a?l.jsxs(l.Fragment,{children:[l.jsx(Qe,{size:10})," Safe"]}):l.jsxs(l.Fragment,{children:[l.jsx(Ts,{size:10})," Exposed"]})}),l.jsxs("span",{className:`text-[0.75rem] font-bold ${o.scoreDelta>=0?"text-green-400":"text-red-400"}`,children:[o.scoreDelta>0?"+":"",o.scoreDelta]})]})]})})]},`${o.eventId}-${r}`)})]})]})});an.displayName="TimelineSummary";an.propTypes={timeline:k.arrayOf(k.shape({eventId:k.string.isRequired,stage:k.string.isRequired,title:k.string.isRequired,severity:k.string.isRequired,decision:k.string.isRequired,scoreDelta:k.number.isRequired})).isRequired,onContinue:k.func.isRequired};const Vh={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.12,delayChildren:.1}}},$e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},Fo=p.memo(function({score:t,category:s,onBookSlot:n}){const i=async()=>{const r=`I scored ${t}/100 (${s==null?void 0:s.label}) on the Life Milestone Race! Check your Life Goals readiness and discover how prepared you are for your future. ${window.location.href}`,a={title:"My Life Protection Score",text:r,url:window.location.href};if(navigator.share)try{await navigator.share(a)}catch(c){console.log("Error sharing:",c)}else navigator.clipboard.writeText(r),alert("Result copied to clipboard!")},o=()=>{window.location.href="tel:18002099999"};return l.jsxs(N.div,{className:"w-full flex flex-col items-center gap-8",variants:Vh,initial:"hidden",animate:"visible",children:[l.jsxs(N.div,{variants:$e,className:"text-center space-y-3",children:[l.jsx("h2",{className:"race-heading text-[1.75rem] text-blue-950",children:"Strengthen Your Protection"}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[0.75rem] font-black uppercase tracking-[0.2em] text-blue-900/40 mb-1",children:"Your Score"}),l.jsxs("span",{className:"text-[2.5rem] font-black",style:{color:(s==null?void 0:s.color)||"#3B82F6",textShadow:`0 0 20px ${s==null?void 0:s.color}40`},children:[t,"/100"]})]})]}),l.jsxs(N.div,{variants:$e,className:"w-full bg-bajaj-blue/10 border border-bajaj-blue/30 rounded-2xl p-5 backdrop-blur-md relative overflow-hidden group",children:[l.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-bajaj-blue"}),l.jsx("p",{className:"text-[1rem] text-blue-900/90 leading-relaxed font-medium",children:"To know more about insurance and savings products, please connect with our relationship manager."}),l.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-5 group-hover:opacity-10 transition-opacity",children:l.jsx(Di,{size:100})})]}),l.jsxs("div",{className:"w-full flex flex-col gap-4",children:[l.jsx(N.div,{variants:$e,children:l.jsxs(Be,{variant:"primary",size:"lg",className:"w-full py-4 bg-orange-500 hover:bg-orange-600 border-orange-400 shadow-[0_4px_0_rgb(194,65,12)] active:shadow-none active:translate-y-1 transition-all",onClick:i,id:"btn-share",children:[l.jsx(Cs,{size:20}),"Share Your Result"]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(N.div,{variants:$e,children:l.jsxs("button",{onClick:o,className:"w-full h-14 bg-bajaj-blue/10 hover:bg-bajaj-blue/20 border-2 border-bajaj-blue/30 text-bajaj-blue font-bold rounded-xl flex items-center justify-center gap-2 transition-all active:scale-95",id:"btn-call",children:[l.jsx(nn,{size:18}),"Call Now"]})}),l.jsx(N.div,{variants:$e,children:l.jsxs("button",{onClick:n,className:"w-full h-14 bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-[0_4px_0_rgb(180,83,9)] active:shadow-none active:translate-y-1 transition-all",id:"btn-book-slot",children:[l.jsx(Di,{size:18}),"Book Slot"]})})]})]})]})});Fo.displayName="ConversionScreen";Fo.propTypes={score:k.number.isRequired,category:k.shape({label:k.string,color:k.string}),onBookSlot:k.func.isRequired};async function Ih(e){return console.log("[Dev] Mocking submitLead API call:",e),new Promise(t=>{setTimeout(()=>{t({success:!0,message:"Lead submitted successfully (Mock)",data:{leadId:"mock-lead-"+Date.now()}})},1e3)})}const Lh=["9:00 AM - 11:00 AM","11:00 AM - 1:00 PM","2:00 PM - 4:00 PM","4:00 PM - 6:00 PM","6:00 PM - 8:00 PM"],Fh={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.1}}},ve={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{duration:.35}}},Bo=p.memo(function({gameId:t,score:s,category:n,riskGaps:i,onSuccess:o}){const[r,a]=p.useState({name:"",mobile:"",preferredDate:"",preferredSlot:""}),[c,u]=p.useState({}),[d,h]=p.useState(!1),[f,m]=p.useState(""),g=p.useCallback(()=>{const w={};return r.name.trim()||(w.name="Name is required"),/^[6-9]\d{9}$/.test(r.mobile)||(w.mobile="Enter a valid 10-digit mobile number"),r.preferredDate||(w.preferredDate="Select a date"),r.preferredSlot||(w.preferredSlot="Select a time slot"),u(w),Object.keys(w).length===0},[r]),x=p.useCallback((w,b)=>{a(T=>({...T,[w]:b})),u(T=>({...T,[w]:""})),m("")},[]),v=p.useCallback(async w=>{if(w.preventDefault(),!!g()){h(!0),m("");try{await Ih({gameId:t,name:r.name.trim(),mobile:r.mobile.trim(),preferredDate:r.preferredDate,preferredSlot:r.preferredSlot,lifeProtectionScore:s,protectionCategory:(n==null?void 0:n.label)||"",riskSummary:i}),o==null||o()}catch{m("Something went wrong. Please try again.")}finally{h(!1)}}},[r,g,t,s,n,i,o]),y=new Date().toISOString().split("T")[0];return l.jsxs(N.form,{className:"w-full flex flex-col gap-4",variants:Fh,initial:"hidden",animate:"visible",onSubmit:v,noValidate:!0,children:[l.jsxs(N.div,{variants:ve,className:"text-center space-y-1",children:[l.jsx("h2",{className:"race-subheading text-[1.375rem] text-blue-950",children:"Book Your Slot"}),l.jsx("p",{className:"text-blue-900/60 text-[0.8125rem]",children:"A protection expert will call you at your preferred time"})]}),l.jsxs(N.div,{variants:ve,children:[l.jsx("label",{htmlFor:"lead-name",className:"block text-[0.8125rem] font-medium text-slate-600 mb-1.5",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ch,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-race-muted"}),l.jsx("input",{id:"lead-name",type:"text",value:r.name,onChange:w=>x("name",w.target.value),placeholder:"Enter your name",className:`w-full pl-10 pr-4 py-3 rounded-xl bg-white/60 border text-slate-900 placeholder-slate-500 text-[0.9375rem] transition-colors focus:outline-none focus:ring-2 focus:ring-race-accent ${c.name?"border-red-500":"border-white focus:border-race-accent"}`,autoComplete:"name"})]}),c.name&&l.jsx("p",{className:"text-red-400 text-[0.75rem] mt-1",children:c.name})]}),l.jsxs(N.div,{variants:ve,children:[l.jsx("label",{htmlFor:"lead-mobile",className:"block text-[0.8125rem] font-medium text-slate-600 mb-1.5",children:"Mobile Number"}),l.jsxs("div",{className:"relative",children:[l.jsx(nn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-race-muted"}),l.jsx("input",{id:"lead-mobile",type:"tel",value:r.mobile,onChange:w=>x("mobile",w.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit mobile number",className:`w-full pl-10 pr-4 py-3 rounded-xl bg-white/60 border text-slate-900 placeholder-slate-500 text-[0.9375rem] transition-colors focus:outline-none focus:ring-2 focus:ring-race-accent ${c.mobile?"border-red-500":"border-white focus:border-race-accent"}`,inputMode:"numeric",autoComplete:"tel"})]}),c.mobile&&l.jsx("p",{className:"text-red-400 text-[0.75rem] mt-1",children:c.mobile})]}),l.jsxs(N.div,{variants:ve,children:[l.jsx("label",{htmlFor:"lead-date",className:"block text-[0.8125rem] font-medium text-slate-600 mb-1.5",children:"Preferred Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(Po,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-race-muted"}),l.jsx("input",{id:"lead-date",type:"date",value:r.preferredDate,onChange:w=>x("preferredDate",w.target.value),min:y,className:`w-full pl-10 pr-4 py-3 rounded-xl bg-white/60 border text-slate-900 text-[0.9375rem] transition-colors focus:outline-none focus:ring-2 focus:ring-race-accent [color-scheme:light] ${c.preferredDate?"border-red-500":"border-white focus:border-race-accent"}`})]}),c.preferredDate&&l.jsx("p",{className:"text-red-400 text-[0.75rem] mt-1",children:c.preferredDate})]}),l.jsxs(N.div,{variants:ve,children:[l.jsxs("label",{className:"block text-[0.8125rem] font-medium text-slate-600 mb-1.5",children:[l.jsx(fh,{size:14,className:"inline mr-1"}),"Preferred Time Slot"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Lh.map(w=>l.jsx("button",{type:"button",onClick:()=>x("preferredSlot",w),className:`px-3 py-2 rounded-lg text-[0.75rem] font-medium transition-all duration-200 ${r.preferredSlot===w?"bg-race-accent text-white border border-race-accent":"bg-white/60 text-slate-600 border border-white hover:border-race-accent/50"}`,children:w},w))}),c.preferredSlot&&l.jsx("p",{className:"text-red-400 text-[0.75rem] mt-1",children:c.preferredSlot})]}),f&&l.jsx(N.div,{variants:ve,children:l.jsx(kt,{padding:"sm",className:"border-red-500/30 bg-red-500/10",children:l.jsx("p",{className:"text-red-400 text-[0.8125rem] text-center",children:f})})}),l.jsx(N.div,{variants:ve,children:l.jsx(Be,{variant:"primary",size:"lg",className:"w-full",disabled:d,type:"submit",id:"btn-submit-lead",children:d?l.jsxs(l.Fragment,{children:[l.jsx(Eo,{size:20,className:"animate-spin"}),"Submitting..."]}):l.jsxs(l.Fragment,{children:[l.jsx(bh,{size:18}),"Confirm Booking"]})})})]})});Bo.displayName="LeadForm";Bo.propTypes={gameId:k.string.isRequired,score:k.number.isRequired,category:k.shape({label:k.string,color:k.string}),riskGaps:k.arrayOf(k.string),onSuccess:k.func};const Oo=()=>{const e=p.useRef(null);return p.useEffect(()=>{const t=e.current;if(!t)return;const s=t.getContext("2d");let n=window.innerWidth,i=window.innerHeight;t.width=n,t.height=i;const o=[],r=150,a=["#0066B2","#FF8C00","#ffffff","#FFD700","#00A3E0"];class c{constructor(){this.init()}init(){this.x=Math.random()*n,this.y=Math.random()*i-i,this.rotation=Math.random()*360,this.size=Math.random()*8+4,this.speed=Math.random()*3+2,this.color=a[Math.floor(Math.random()*a.length)],this.vx=Math.random()*2-1,this.vy=Math.random()*2+2}update(){this.x+=this.vx,this.y+=this.vy,this.rotation+=2,this.y>i&&(this.init(),this.y=-20)}draw(){s.save(),s.translate(this.x,this.y),s.rotate(this.rotation*Math.PI/180),s.fillStyle=this.color,s.fillRect(-this.size/2,-this.size/2,this.size,this.size),s.restore()}}for(let m=0;m<r;m++)o.push(new c);let u;const d=()=>{s.clearRect(0,0,n,i),o.forEach(m=>{m.update(),m.draw()}),u=requestAnimationFrame(d)};d();const h=setTimeout(()=>{cancelAnimationFrame(u),s.clearRect(0,0,n,i)},5e3),f=()=>{n=window.innerWidth,i=window.innerHeight,t.width=n,t.height=i};return window.addEventListener("resize",f),()=>{cancelAnimationFrame(u),clearTimeout(h),window.removeEventListener("resize",f)}},[]),l.jsx("canvas",{ref:e,className:"fixed inset-0 pointer-events-none z-[100]"})},Bh=({onRestart:e,userName:t})=>l.jsxs("div",{className:"absolute inset-0 flex flex-col overflow-hidden",style:{background:"linear-gradient(180deg, #00509E 0%, #003366 100%)"},children:[l.jsx(Oo,{}),l.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none bg-cover bg-center opacity-60 mix-blend-overlay",style:{backgroundImage:"linear-gradient(radial-gradient, circle at center, rgba(255,255,255,0.2) 0%, transparent 70%)"}}),l.jsx("div",{className:"relative z-10 w-full h-full flex flex-col py-4 px-4 sm:px-8 overflow-y-auto overflow-x-hidden custom-scrollbar justify-between sm:justify-center",children:l.jsxs(N.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:20},className:"flex flex-col items-center justify-center my-auto flex-1 text-center px-4",children:[l.jsxs(N.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-5xl sm:text-6xl md:text-7xl font-black text-white italic tracking-tight drop-shadow-xl mb-6 leading-tight",children:["Thank You ",t]}),l.jsx(N.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-lg sm:text-xl md:text-2xl text-blue-100 font-bold drop-shadow-md mb-2",children:"For sharing your details"}),l.jsx(N.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-base sm:text-lg md:text-xl text-white/90 font-medium drop-shadow-md mb-12",children:"Our Relationship Manager will connect with you"}),l.jsx(N.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},onClick:e,className:"bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black text-sm py-3 px-8 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all uppercase tracking-widest border-2 border-white/20 rounded-full",children:"RETAKE"})]})})]}),Oh=""+new URL("FirstJob-DUJakzMD.png",import.meta.url).href,_h=""+new URL("Marriage-t4dEKDuw.png",import.meta.url).href,$h=""+new URL("ParentHood-BX-gawut.png",import.meta.url).href,zh=""+new URL("MidCareer-B3ED9UsF.png",import.meta.url).href,Uh=""+new URL("Approaching_Retirement-Dafh4g1V.png",import.meta.url).href,Wh={high:{label:"HIGH IMPACT",bg:"#ea580c",text:"#FFF",icon:Mo},medium:{label:"MEDIUM IMPACT",bg:"#f97316",text:"#FFF",icon:Qe}},ln=p.memo(function({stageData:t,questionNumber:s,totalQuestions:n,currentEvent:i,timeLeft:o,timerProgress:r,onDecision:a}){const c=p.useMemo(()=>({"first-job":{image:Oh,label:"FIRST JOB",icon:"",posBtn:"I'M PROTECTED"},marriage:{image:_h,label:"MARRIAGE",icon:"",posBtn:"I'M PROTECTED"},parenthood:{image:$h,label:"PARENTHOOD",icon:"",posBtn:"I'M PROTECTED"},"mid-career":{image:zh,label:"MID-CAREER",icon:"",posBtn:"I'M PROTECTED"},retirement:{image:Uh,label:"APPROACHING RETIREMENT",icon:"",posBtn:"I'M PROTECTED"}}),[]),u=c[t==null?void 0:t.id]||c["first-job"],d=u.image,h=(i==null?void 0:i.severity)==="high"?"high":"medium",f=Wh[h],m=Math.round((s-1)/n*100);return l.jsxs("div",{className:"absolute inset-0 w-full h-full flex flex-col items-center px-5 pb-6 overflow-y-auto overflow-x-hidden font-sans custom-scrollbar",style:{background:"linear-gradient(180deg, rgb(0, 51, 102) 0%, rgb(0, 68, 129) 100%)",fontFamily:"Inter, sans-serif"},children:[l.jsxs("div",{className:"w-full max-w-sm pt-4 text-center z-20 shrink-0",children:[l.jsxs("h2",{className:"text-[1.4rem] font-extrabold text-white uppercase tracking-wider flex justify-center items-center gap-2 drop-shadow-sm leading-tight",children:[u.label," ",l.jsx("span",{className:"text-[1.4rem]",children:u.icon})]}),l.jsx("p",{className:"text-[0.6rem] text-blue-200 font-bold uppercase tracking-[0.2em] mt-0.5 opacity-90",children:"FINANCIAL RISK AHEAD"}),l.jsxs("div",{className:"mt-3 w-full max-w-[280px] mx-auto",children:[l.jsxs("div",{className:"flex justify-between text-[0.65rem] font-bold text-white mb-1 px-0.5 opacity-90",children:[l.jsxs("span",{children:["QUESTION ",s,"/",n]}),l.jsxs("span",{children:[m,"%"]})]}),l.jsx("div",{className:"h-[4px] bg-blue-900/30 rounded-full overflow-hidden border border-white/10",children:l.jsx(N.div,{className:"h-full bg-orange-500 rounded-full",initial:{width:0},animate:{width:`${m}%`},transition:{duration:.5}})})]})]}),l.jsx("div",{className:"flex-1 min-h-0 flex justify-center w-full z-10 pointer-events-none items-center -mt-4 mb-2",children:l.jsx(N.img,{src:d,alt:u.label,initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},transition:{duration:.5},className:"h-full w-auto max-h-[350px] object-contain drop-shadow-xl"},t==null?void 0:t.id)}),l.jsxs("div",{className:"relative w-full max-w-sm shrink-0 z-20 mb-2",children:[l.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-[1.5rem] px-6 pt-9 pb-10 shadow-lg text-center relative mx-1",children:[l.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:l.jsx("div",{className:"text-white text-[0.6rem] font-extrabold px-3 py-1 rounded-full shadow-sm flex items-center gap-1 uppercase tracking-widest",style:{backgroundColor:f.bg},children:f.label})}),l.jsx("h3",{className:"text-[1.25rem] font-extrabold text-slate-900 mt-0.5 leading-tight",children:i==null?void 0:i.title}),l.jsx("p",{className:"text-[0.85rem] font-medium text-slate-600 mt-2.5 leading-relaxed px-1",children:i==null?void 0:i.description})]},i==null?void 0:i.id),l.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 z-30",children:l.jsx("div",{className:"w-[66px] h-[66px] rounded-full bg-white p-[3px] shadow-lg",children:l.jsxs("div",{className:"w-full h-full rounded-full bg-orange-500 flex items-center justify-center shadow-inner relative overflow-hidden",children:[l.jsx("span",{className:"text-white text-[1.6rem] font-extrabold relative z-10 pt-0.5",children:o}),l.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90 pointer-events-none",children:[l.jsx("circle",{cx:"29",cy:"29",r:"26",fill:"none",stroke:"rgba(255,255,255,0.2)",strokeWidth:"3"}),l.jsx("circle",{cx:"29",cy:"29",r:"26",fill:"none",stroke:"#fff",strokeWidth:"3",strokeDasharray:2*Math.PI*26,strokeDashoffset:2*Math.PI*26*(1-r/100),strokeLinecap:"round",className:"transition-all duration-1000 ease-linear"})]})]})})})]}),l.jsxs("div",{className:"w-full max-w-sm flex flex-col gap-3 z-30 pb-2 px-1 mt-8 shrink-0",children:[l.jsxs(N.button,{whileTap:{scale:.98},onClick:()=>a("protected"),className:"py-3.5 rounded-xl bg-[#e65100] text-white font-extrabold text-[1rem] shadow-md active:scale-95 transition flex items-center justify-center gap-2 relative overflow-hidden",style:{background:"linear-gradient(to right, #ea580c, #c2410c)"},children:[l.jsx(dh,{size:18,strokeWidth:3,className:"text-white/90"}),l.jsx("span",{children:"I'M PROTECTED"})]}),l.jsxs(N.button,{whileTap:{scale:.98},onClick:()=>a("exposed"),className:"py-3.5 rounded-xl bg-[#004A80] text-white font-extrabold text-[1rem] shadow-md active:scale-95 transition flex items-center justify-center gap-2 relative overflow-hidden",style:{background:"linear-gradient(to right, #00509E, #003366)"},children:[l.jsx(Ts,{size:18,strokeWidth:3,className:"text-white/90"}),l.jsx("span",{children:"I'M EXPOSED"})]})]})]})});ln.displayName="QuestionScreen";ln.propTypes={stageData:k.object,questionNumber:k.number,totalQuestions:k.number,currentEvent:k.object,timeLeft:k.number,timerProgress:k.number,onDecision:k.func};const Hh=({score:e,finalScore:t,userName:s,userPhone:n,timeline:i,category:o,onRestart:r,gameId:a,riskGaps:c,onBookSlot:u})=>{const d=t||e||0,[h,f]=p.useState(!1),[m,g]=p.useState(!1),[x,v]=p.useState({name:s||"",mobile:n||"",date:"",time:""}),[y,w]=p.useState(!1),[b,T]=p.useState({}),[S,M]=p.useState(!0),[A,j]=p.useState(!1),R=(E,V)=>{v(L=>({...L,[E]:V})),b[E]&&T(L=>({...L,[E]:null}))},P=()=>{const E={};return x.name.trim()?/^[A-Za-z\s]+$/.test(x.name.trim())||(E.name="Invalid name"):E.name="Name is required",x.mobile?/^\d{10}$/.test(x.mobile)||(E.mobile="Invalid Mobile Number"):E.mobile="Mobile is required",x.date||(E.date="Required"),x.time||(E.time="Required"),T(E),Object.keys(E).length===0},D=async E=>{if(E.preventDefault(),!!P()){w(!0);try{const V={name:x.name,mobile_no:x.mobile,param4:x.date,param19:x.time,summary_dtls:"Life Milestone Race - Slot Booking",p_data_source:"LIFE_MILESTONE_RACE_BOOKING"};(await Ao(V)).success?(g(!1),u&&u()):alert("Submission failed. Please try again.")}catch(V){console.error(V),alert("Something went wrong.")}finally{w(!1)}}},I=async()=>{const E=window.location.href,V={title:"Life Milestone Race Score",text:`I scored ${d}/100 in the Life Milestone Race! Check how prepared you are.`,url:E};if(navigator.share)try{await navigator.share(V)}catch(L){console.log("Error:",L)}else try{await navigator.clipboard.writeText(V.url),alert("Link copied!")}catch(L){console.error(L)}},K=new Date().toISOString().split("T")[0],Z=new Date(new Date().getFullYear(),11,31).toISOString().split("T")[0];return l.jsxs("div",{className:"absolute inset-0 flex flex-col overflow-hidden",style:{background:"linear-gradient(180deg, #00509E 0%, #003366 100%)"},children:[l.jsx(Oo,{}),l.jsx("button",{onClick:I,className:"absolute top-4 right-4 z-50 text-white/90 hover:text-white transition-opacity p-2",children:l.jsx(Cs,{className:"w-6 h-6 sm:w-7 sm:h-7 drop-shadow-md",strokeWidth:2.5})}),l.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none bg-cover bg-center opacity-60 mix-blend-overlay",style:{backgroundImage:"linear-gradient(radial-gradient, circle at center, rgba(255,255,255,0.2) 0%, transparent 70%)"}}),l.jsxs("div",{className:"relative z-10 w-full h-full flex flex-col py-4 px-4 sm:px-8 overflow-y-auto overflow-x-hidden custom-scrollbar"+" justify-between sm:justify-start",children:[l.jsxs("div",{className:"text-center mb-1 shrink-0 mt-4",children:[l.jsxs("h1",{className:"text-base sm:text-lg md:text-xl font-medium text-white uppercase tracking-wide italic mb-1",children:["Hi ",l.jsxs("span",{className:"ml-1 text-2xl sm:text-3xl md:text-4xl font-black",children:[s||"Player","!"]})]}),l.jsxs("h2",{className:"text-base sm:text-lg md:text-xl text-white uppercase tracking-wide italic mb-2",children:["Your ",l.jsx("span",{className:"font-black text-lg sm:text-xl md:text-2xl text-[#FF8C00] drop-shadow-[0_0_10px_rgba(255,140,0,0.8)]",children:"Life Milestone"})," score is"]}),l.jsx(N.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"inline-block transform scale-90 sm:scale-100 mb-2",children:l.jsx(Io,{score:d})}),l.jsx("div",{className:"flex justify-center mt-2 mb-4 relative z-20",children:l.jsxs("button",{onClick:()=>f(!0),className:"text-white/80 hover:text-white text-[10px] sm:text-xs font-bold uppercase tracking-[0.15em] flex items-center gap-1 bg-white/10 px-3 py-1.5 rounded-full backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-all",children:["View Journey ",l.jsx(ah,{size:12})]})}),l.jsx(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex justify-center mt-1 sm:mt-2 mb-4",children:l.jsxs("button",{onClick:I,className:"bg-gradient-to-r from-[#FF8C00] to-[#FF7000] hover:from-[#FF7000] hover:to-[#E65C00] text-white font-black py-2.5 px-8 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center gap-3 text-sm sm:text-base border-2 border-white/20 uppercase tracking-widest",children:[l.jsx(Cs,{className:"w-5 h-5"})," SHARE"]})})]}),l.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-4 sm:p-6 shadow-[0_20px_50px_rgba(0,0,0,0.5)] border-4 border-white/50 mb-3 shrink-0 rounded-sm",children:[l.jsx("p",{className:"text-slate-600 text-[12px] sm:text-sm font-bold text-center mb-4 leading-relaxed",children:"To secure your milestones risk from real life risk, Connect with our relationship manager"}),l.jsx("a",{href:"tel:1800209999",className:"block w-full mb-4",children:l.jsxs("button",{className:"w-full bg-[#0066B2] hover:bg-[#004C85] text-white font-black py-3 sm:py-4 shadow-[0_6px_0_#00335C] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-xs sm:text-base uppercase tracking-widest border-2 border-white/20",children:[l.jsx(nn,{className:"w-4 h-4 sm:w-5 sm:h-5"})," CALL NOW"]})}),l.jsxs("div",{className:"relative py-1 mb-3",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t-2 border-slate-50"})}),l.jsx("div",{className:"relative flex justify-center text-[8px] sm:text-xs uppercase",children:l.jsx("span",{className:"px-4 bg-white text-slate-400 font-black tracking-widest",children:"Or"})})]}),l.jsxs("button",{onClick:()=>g(!0),className:"w-full bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black py-3 sm:py-4 shadow-[0_6px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-xs sm:text-base uppercase tracking-widest border-2 border-white/20",children:[l.jsx(Po,{className:"w-4 h-4 sm:w-5 sm:h-5"})," BOOK A CONVENIENT SLOT"]})]}),l.jsx("div",{className:"shrink-0 text-center pb-2",children:l.jsxs("button",{onClick:r,className:"text-blue-100 hover:text-white text-[11px] sm:text-sm font-black uppercase tracking-[0.2em] transition-colors flex items-center justify-center gap-2 mx-auto drop-shadow-md",children:[l.jsx(xh,{className:"w-4 h-4"})," RETAKE QUIZ"]})})]}),m&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:l.jsxs(N.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white p-6 w-full max-w-sm shadow-2xl relative border-4 border-white/50",children:[l.jsx("button",{onClick:()=>g(!1),className:"absolute right-4 top-4 text-slate-300 hover:text-slate-500 transition-colors bg-slate-100 p-1",children:l.jsx(Ke,{className:"w-5 h-5"})}),l.jsx("h2",{className:"text-[#0066B2] font-black text-center mb-6 text-sm sm:text-base uppercase tracking-tight pt-2",children:"Book a convenient slot"}),l.jsxs("form",{onSubmit:D,className:"space-y-3 sm:space-y-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Your Name"}),l.jsx("input",{value:x.name,onChange:E=>R("name",E.target.value),className:"w-full bg-slate-50 h-11 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-sm font-bold px-4",placeholder:"Full Name"}),b.name&&l.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:b.name})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mobile Number"}),l.jsx("input",{value:x.mobile,onChange:E=>{const V=E.target.value.replace(/\D/g,"").slice(0,10);R("mobile",V)},type:"tel",className:"w-full bg-slate-50 h-11 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-sm font-bold px-4",placeholder:"9876543210"}),b.mobile&&l.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:b.mobile})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Preferred Date"}),l.jsx("input",{type:"date",min:K,max:Z,value:x.date,onChange:E=>R("date",E.target.value),className:"w-full bg-slate-50 h-11 border-2 border-slate-100 text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-100 text-xs font-bold px-4"}),b.date&&l.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:b.date})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Preferred Time"}),l.jsxs("select",{value:x.time,onChange:E=>R("time",E.target.value),className:"w-full bg-slate-50 h-11 border-2 border-slate-100 text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-100 text-xs font-bold px-4 appearance-none",children:[l.jsx("option",{value:"",children:"Select"}),[...Array(12)].map((E,V)=>{const L=9+V,X=L+1,ue=de=>{const Oe=de>=12?"PM":"AM";return`${de>12?de-12:de}:00 ${Oe}`},je=`${ue(L)} - ${ue(X)}`;return l.jsx("option",{value:je,children:je},L)})]}),b.time&&l.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:b.time})]})]}),l.jsxs("div",{className:"flex items-start space-x-2 pt-1 text-left",children:[l.jsxs("div",{className:"relative flex items-center shrink-0",children:[l.jsx("input",{id:"modal-terms",type:"checkbox",checked:S,onChange:E=>M(E.target.checked),className:"peer h-4 w-4 cursor-pointer appearance-none rounded border-2 border-slate-300 bg-slate-50 transition-all checked:border-[#0066B2] checked:bg-[#0066B2] hover:border-[#0066B2]"}),l.jsx(Ss,{className:"pointer-events-none absolute left-1/2 top-1/2 h-2.5 w-2.5 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100",strokeWidth:4})]}),l.jsxs("label",{htmlFor:"modal-terms",className:"text-[9px] sm:text-[10px] font-semibold text-slate-500 leading-tight select-none",children:["I agree to the ",l.jsx("button",{type:"button",onClick:()=>j(!0),className:"text-[#0066B2] font-bold hover:underline inline",children:"Terms & Conditions"})," and Acknowledge the Privacy Policy."]})]}),l.jsx("button",{type:"submit",disabled:y||!S,className:"w-full bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black py-4 shadow-[0_6px_0_#993D00] active:translate-y-1 active:shadow-none transition-all uppercase tracking-widest text-sm mt-2 border-2 border-white/20 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Confirming...":"Book a Slot"})]})]})}),l.jsx(De,{children:h&&l.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",onClick:()=>f(!1),children:l.jsxs(N.div,{initial:{scale:.9,y:20,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.9,y:20,opacity:0},className:"bg-white w-full max-w-md max-h-[80vh] overflow-hidden rounded-2xl shadow-2xl relative flex flex-col",onClick:E=>E.stopPropagation(),children:[l.jsxs("div",{className:"bg-[#0066B2] p-4 flex items-center justify-between shrink-0",children:[l.jsx("h3",{className:"text-white font-black text-lg uppercase tracking-wider",children:"Your Journey"}),l.jsx("button",{onClick:()=>f(!1),className:"text-white/80 hover:text-white transition-colors",children:l.jsx(Ke,{size:24})})]}),l.jsx("div",{className:"overflow-y-auto p-4 custom-scrollbar bg-slate-50 h-[450px]",children:l.jsx(an,{timeline:i,onContinue:()=>{}})})]})})})]})},Gh=10,Kh=p.memo(function({feedback:t,onContinue:s}){if(!t)return null;const n=t.decision==="protected",i=t.delta>0;return l.jsx(N.div,{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsxs(N.div,{className:"w-[85%] max-w-[300px] rounded-[2rem] p-6 shadow-2xl flex flex-col items-center text-center relative overflow-hidden ring-2 ring-white/10",style:{background:n?"linear-gradient(145deg, #1e1b4b 0%, #431407 100%)":"linear-gradient(145deg, #1e1b4b 0%, #172554 100%)"},initial:{scale:.8,y:50,opacity:0},animate:{scale:1,y:0,opacity:1},transition:{type:"spring",damping:20,stiffness:300},children:[l.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[l.jsx("div",{className:`absolute -top-10 -right-10 w-40 h-40 rounded-full blur-[40px] opacity-40 ${n?"bg-orange-500":"bg-blue-500"}`}),l.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 rounded-full blur-[40px] opacity-20 bg-white"})]}),l.jsxs("div",{className:"relative mb-3",children:[l.jsx("div",{className:`absolute inset-0 rounded-full blur-lg opacity-60 animate-pulse ${n?"bg-orange-500":"bg-blue-500"}`}),l.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-[2.2rem] relative z-10 shadow-xl border-[4px] border-white/10",style:{background:n?"linear-gradient(135deg, #fb923c 0%, #ea580c 100%)":"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)"},children:n?"":""})]}),l.jsx("h3",{className:"text-[1.4rem] font-black uppercase italic tracking-tighter mb-1 leading-none text-white drop-shadow-md relative z-10",children:n?"YOU'RE PROTECTED!":"YOU'RE EXPOSED!"}),l.jsx("p",{className:"text-blue-100 font-bold leading-tight mb-4 text-[0.7rem] px-1 relative z-10 opacity-90",children:t.title}),l.jsx("div",{className:"relative z-10 mb-5",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-white/60 text-[0.55rem] font-bold uppercase tracking-[0.2em] mb-0.5",children:"Impact on Score"}),l.jsxs("div",{className:`text-[2.2rem] font-black leading-none flex items-center gap-1 ${i?"text-green-400":"text-red-400"}`,children:[i?"+":"",t.delta]})]})}),l.jsxs(N.button,{onClick:s,whileTap:{scale:.96},className:"w-full py-3 rounded-xl font-black text-white text-sm uppercase tracking-wide shadow-lg relative z-10 overflow-hidden group",style:{background:"linear-gradient(90deg, #FFFFFF 0%, #F0F9FF 100%)",color:n?"#ea580c":"#1e3a8a"},children:[l.jsx("span",{className:"relative z-10",children:"CONTINUE"}),l.jsx("div",{className:"absolute inset-0 bg-white/50 opacity-0 group-hover:opacity-20 transition-opacity"})]})]})})}),qh=p.memo(function(){const t=Gd(),{gameId:s,phase:n,score:i,currentEvent:o,currentEventIndex:r,eventQueue:a,timeline:c,lastFeedback:u,isTimerActive:d,protectionCategory:h,finalScore:f,riskGaps:m,userName:g,userPhone:x,selectedStageData:v,startGame:y,selectStage:w,makeDecision:b,handleTimerExpire:T,advanceToNextEvent:S,showThankYou:M,restartGame:A}=t,{timeLeft:j,progress:R}=Kd(Gh,T,d),P=p.useCallback(I=>{M(I==null?void 0:I.name)},[M]),D=()=>{switch(n){case B.INTRO:return l.jsx(rn,{onStart:y},"intro");case B.STAGE_SELECTION:return l.jsx(on,{onSelectStage:w},"stage-select");case B.RACING:case B.EVENT_FEEDBACK:return l.jsxs("div",{className:"w-full h-full relative",children:[l.jsx(ln,{stageData:v,questionNumber:r+1,totalQuestions:a.length,currentEvent:o,timeLeft:j,timerProgress:R,onDecision:b},"question-screen"),l.jsx(De,{children:n===B.EVENT_FEEDBACK&&l.jsx(Kh,{feedback:u,onContinue:S},"feedback-popup")})]});case B.FINISH:case B.SCORE_REVEAL:case B.TIMELINE:case B.CONVERSION:case B.LEAD_FORM:return l.jsx(Hh,{score:i,finalScore:f,userName:g,userPhone:x,timeline:c,category:h,onRestart:A,gameId:s,riskGaps:m,onBookSlot:P},"result-screen");case B.THANK_YOU:return l.jsx(Bh,{onRestart:A,userName:g},"thank-you");default:return null}};return l.jsx(sn,{fullScreen:n===B.INTRO,children:l.jsx(De,{mode:"wait",children:D()})})});qh.displayName="LifeMilestoneRacePage";export{qh as default};
