import{r as m,b as B,j as e}from"./index-DCpUijCV.js";import{u as I,G as z}from"./AppRouter-Bk7-s_ne.js";import{c as v,A as W,X as A,C as E}from"./x-DpKvl8ti.js";import{m as g}from"./proxy-DMGxyzmS.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],T=v("calendar",F);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$=v("phone",R);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],D=v("share-2",L);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],O=v("star",P);function H(o){if(o===0)return{subheading:"Time's Up!",message:"You missed your chance to build a balanced retirement portfolio.",points:0,starScore:0};let t=2;return o>=90?t=5:o>=60?t=4:o>=30&&(t=3),{subheading:"Congrats!",message:"You managed to build a balanced retirement portfolio in time.",points:o,starScore:t}}function _(){const o=m.useRef(null);return m.useEffect(()=>{const t=o.current;if(!t)return;const n=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;const h=["#6B70E5","#9B6FD8","#48BB78","#E53E3E","#F6AD55","#FC8181","#f59e0b","#0ea5e9"],x=[];class s{constructor(){this.reset()}reset(){this.x=Math.random()*t.width,this.y=Math.random()*t.height-t.height,this.rotation=Math.random()*360,this.size=Math.random()*8+4,this.speed=Math.random()*3+2,this.color=h[Math.floor(Math.random()*h.length)],this.rotationSpeed=Math.random()*5-2.5}update(){this.y+=this.speed,this.rotation+=this.rotationSpeed,this.y>t.height&&this.reset()}draw(){n.save(),n.translate(this.x,this.y),n.rotate(this.rotation*Math.PI/180),n.fillStyle=this.color,n.fillRect(-this.size/2,-this.size/2,this.size,this.size),n.restore()}}for(let a=0;a<100;a++)x.push(new s);let c;const d=()=>{n.clearRect(0,0,t.width,t.height),x.forEach(a=>{a.update(),a.draw()}),c=requestAnimationFrame(d)};d();const y=setTimeout(()=>{cancelAnimationFrame(c),n.clearRect(0,0,t.width,t.height)},3e3),r=()=>{t.width=window.innerWidth,t.height=window.innerHeight};return window.addEventListener("resize",r),()=>{cancelAnimationFrame(c),clearTimeout(y),window.removeEventListener("resize",r)}},[]),e.jsx("canvas",{ref:o,style:{position:"fixed",inset:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:100}})}function q({tier:o}){const{starScore:t,points:n}=o;let h="rgba(255,70,70,0.25)";return t===3&&(h="rgba(255,165,0,0.25)"),t>=4&&(h="rgba(0,200,100,0.25)"),e.jsxs("div",{style:{position:"relative",width:"12rem",height:"14rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e.jsxs("svg",{viewBox:"0 0 100 120",style:{position:"absolute",inset:0,width:"100%",height:"100%",filter:`drop-shadow(0 4px 6px rgba(0,0,0,0.25)) drop-shadow(0 0 15px ${h})`,overflow:"visible"},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"rShieldBorder",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#FF9A00"}),e.jsx("stop",{offset:"100%",stopColor:"#FF6A00"})]}),e.jsxs("linearGradient",{id:"rShieldBg",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#1E3A8A"}),e.jsx("stop",{offset:"100%",stopColor:"#0F2A5F"})]})]}),e.jsx("path",{d:"M50 5 L95 25 V55 C95 85 50 115 50 115 C50 115 5 85 5 55 V25 L50 5 Z",fill:"url(#rShieldBg)",stroke:"url(#rShieldBorder)",strokeWidth:"3",strokeLinejoin:"round"})]}),e.jsxs("div",{style:{position:"relative",zIndex:10,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:"0.5rem",gap:"0.75rem",transform:"translateY(-8px)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"baseline",color:"#fff",fontWeight:700,lineHeight:1},children:[e.jsx("span",{style:{fontSize:"3.5rem",letterSpacing:"-0.02em"},children:n}),e.jsx("span",{style:{fontSize:"1.5rem",opacity:.9,marginLeft:"2px"},children:"pts"})]}),t>0&&e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.375rem"},children:[...Array(5)].map((x,s)=>e.jsx(O,{size:18,fill:s<t?"#FFB800":"rgba(255,255,255,0.2)",stroke:"none"},s))})]})]})}function G({isOpen:o,onClose:t,onSubmit:n,initialName:h,initialMobile:x}){const[s,c]=m.useState({name:h||"",mobile:x||"",date:"",time:""}),[d,y]=m.useState(!0),[r,a]=m.useState({}),[u,b]=m.useState(!1),p=(i,l)=>{c(f=>({...f,[i]:l})),r[i]&&a(f=>({...f,[i]:null}))},j=()=>{const i={};return s.name.trim()?/^[A-Za-z\s]+$/.test(s.name.trim())||(i.name="Letters only"):i.name="Name is required",/^\d{10}$/.test(s.mobile)||(i.mobile="Enter valid 10-digit number"),s.date||(i.date="Date is required"),s.time||(i.time="Time is required"),d||(i.terms="Please accept the terms"),a(i),Object.keys(i).length===0},S=i=>{i.preventDefault(),j()&&(b(!0),setTimeout(()=>{b(!1),n&&n(s)},800))},k=new Date().toISOString().split("T")[0];return o?e.jsx("div",{style:{position:"fixed",inset:0,zIndex:200,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",background:"rgba(0,0,0,0.65)",backdropFilter:"blur(4px)"},onClick:t,children:e.jsxs(g.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:i=>i.stopPropagation(),style:{background:"#fff",padding:"1.5rem",width:"100%",maxWidth:"22rem",position:"relative",borderRadius:"0.5rem",border:"4px solid rgba(255,255,255,0.5)"},children:[e.jsx("button",{onClick:t,style:{position:"absolute",top:"1rem",right:"1rem",background:"#f1f5f9",border:"none",cursor:"pointer",padding:"0.25rem",borderRadius:"0.25rem"},children:e.jsx(A,{size:18,color:"#94a3b8"})}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"0.5rem",color:"#FF8C00"},children:e.jsx(T,{size:28})}),e.jsx("h2",{style:{color:"#0066B2",fontWeight:900,textAlign:"center",marginBottom:"1.25rem",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Book a Convenient Slot"}),e.jsxs("form",{onSubmit:S,style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.6rem",fontWeight:900,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.25rem"},children:"Your Name"}),e.jsx("input",{type:"text",value:s.name,onChange:i=>{/^[A-Za-z\s]*$/.test(i.target.value)&&p("name",i.target.value)},placeholder:"Full Name",style:{width:"100%",height:"2.75rem",border:`2px solid ${r.name?"#f87171":"#e2e8f0"}`,background:"#f8fafc",padding:"0 1rem",fontSize:"0.875rem",fontWeight:700,color:"#1e293b",outline:"none",boxSizing:"border-box"}}),r.name&&e.jsx("span",{style:{fontSize:"0.625rem",color:"#ef4444",fontWeight:700,textTransform:"uppercase"},children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.6rem",fontWeight:900,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.25rem"},children:"Mobile Number"}),e.jsx("input",{type:"tel",value:s.mobile,onChange:i=>{const l=i.target.value.replace(/\D/g,"").slice(0,10);p("mobile",l)},placeholder:"9876543210",style:{width:"100%",height:"2.75rem",border:`2px solid ${r.mobile?"#f87171":"#e2e8f0"}`,background:"#f8fafc",padding:"0 1rem",fontSize:"0.875rem",fontWeight:700,color:"#1e293b",outline:"none",boxSizing:"border-box"}}),r.mobile&&e.jsx("span",{style:{fontSize:"0.625rem",color:"#ef4444",fontWeight:700,textTransform:"uppercase"},children:r.mobile})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.6rem",fontWeight:900,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.25rem"},children:"Date"}),e.jsx("input",{type:"date",min:k,value:s.date,onChange:i=>p("date",i.target.value),style:{width:"100%",height:"2.75rem",border:`2px solid ${r.date?"#f87171":"#e2e8f0"}`,background:"#f8fafc",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:700,color:"#1e293b",outline:"none",boxSizing:"border-box"}}),r.date&&e.jsx("span",{style:{fontSize:"0.6rem",color:"#ef4444",fontWeight:700},children:r.date})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.6rem",fontWeight:900,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.25rem"},children:"Time"}),e.jsxs("select",{value:s.time,onChange:i=>p("time",i.target.value),style:{width:"100%",height:"2.75rem",border:`2px solid ${r.time?"#f87171":"#e2e8f0"}`,background:"#f8fafc",padding:"0 0.5rem",fontSize:"0.7rem",fontWeight:700,color:"#1e293b",outline:"none",boxSizing:"border-box",appearance:"none"},children:[e.jsx("option",{value:"",children:"Select Slot"}),[...Array(12)].map((i,l)=>{const f=9+l,M=f+1,N=w=>`${w>12?w-12:w}:00 ${w>=12?"PM":"AM"}`,C=`${N(f)} - ${N(M)}`;return e.jsx("option",{value:C,children:C},f)})]}),r.time&&e.jsx("span",{style:{fontSize:"0.6rem",color:"#ef4444",fontWeight:700},children:r.time})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",background:"#f8fafc",padding:"0.75rem",border:"2px solid #e2e8f0"},children:[e.jsx("input",{type:"checkbox",checked:d,onChange:i=>{y(i.target.checked),r.terms&&a(l=>({...l,terms:null}))},style:{marginTop:"2px",cursor:"pointer"}}),e.jsx("label",{style:{fontSize:"0.65rem",color:"#64748b",lineHeight:1.4},children:"I authorize Bajaj Life Insurance to contact me for this request, overriding DND registry."})]}),r.terms&&e.jsx("div",{style:{fontSize:"0.625rem",color:"#ef4444",fontWeight:700,textTransform:"uppercase",textAlign:"center"},children:r.terms}),e.jsx("button",{type:"submit",disabled:u,style:{width:"100%",padding:"1rem",background:"#FF8C00",border:"2px solid rgba(255,255,255,0.2)",color:"#fff",fontWeight:900,fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.1em",cursor:u?"not-allowed":"pointer",opacity:u?.7:1,boxShadow:"0 6px 0 #993D00",transition:"all 0.15s"},children:u?"Confirmingâ€¦":"Book a Slot"})]})]})}):null}const K=m.memo(function(){const t=B(),{state:n,restartGame:h}=I(),[x,s]=m.useState(!1),[c,d]=m.useState(null),y=n.phase===z.WON,r=n.phase===z.TIMEUP,a=y||r,u=y&&n.timeAtWin>0?n.timeAtWin:0,b=u===0,p=H(u);if(m.useEffect(()=>{a||t("/",{replace:!0})},[a,t]),m.useEffect(()=>{if(!c)return;const l=setTimeout(()=>d(null),3e3);return()=>clearTimeout(l)},[c]),!a)return null;const j=async()=>{const l=b?`I played Retirement Sudoku by Bajaj Life. Try it yourself: ${window.location.origin}`:`ðŸŽ‰ I just played Retirement Sudoku by Bajaj Life and scored ${p.points} pts! Try it yourself: ${window.location.origin}`;if(navigator.share)try{await navigator.share({title:"Retirement Sudoku Score",text:l,url:window.location.origin})}catch(f){if(f.name!=="AbortError")try{await navigator.clipboard.writeText(l),d({message:"Result copied to clipboard!",type:"success"})}catch{d({message:"Could not share. Please try again.",type:"error"})}}else try{await navigator.clipboard.writeText(l),d({message:"Result copied to clipboard!",type:"success"})}catch{d({message:"Sharing not supported on this browser.",type:"error"})}},S=()=>{s(!1),t("/thank-you")},i=(sessionStorage.getItem("sudokuUserName")||"CHAMPION").split(" ")[0].toUpperCase()||"CHAMPION";return e.jsxs("div",{style:{minHeight:"100dvh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(160deg, #0f172a 0%, #1e3a5f 55%, #0c1a2e 100%)"},children:[e.jsxs("div",{className:"w-full flex flex-col items-center justify-center px-4 py-2 text-center overflow-y-auto font-sans relative",style:{maxWidth:"430px",minHeight:"100dvh"},children:[e.jsx(_,{}),e.jsx("button",{onClick:j,className:"absolute right-4 top-4 p-2 text-white/80 hover:text-white transition-colors z-20",title:"Share Score",children:e.jsx(D,{className:"w-5 h-5"})}),e.jsxs("div",{className:"w-full max-w-xs flex flex-col items-center z-10",children:[e.jsxs(g.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-extrabold text-white tracking-widest uppercase leading-none mt-2",children:["Hi ",i,"!"]}),e.jsx("div",{className:"h-3 shrink-0"}),e.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xs font-semibold text-white/80 tracking-widest uppercase",children:["YOUR ",e.jsx("span",{className:"text-orange-500 font-extrabold text-sm mx-1",children:"SCORE"})," IS"]}),e.jsx("div",{className:"h-4 shrink-0"}),e.jsx("div",{className:"relative transform scale-[0.65] min-[375px]:scale-75 origin-center -my-10 -translate-y-2",children:e.jsx(g.div,{initial:{scale:0,rotate:-12},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:18,delay:.25},children:e.jsx(q,{tier:p})})}),e.jsx("div",{className:"h-3 shrink-0"}),e.jsx("h2",{className:"text-xl font-bold text-white tracking-wide leading-tight",children:p.subheading}),e.jsx("div",{className:"h-2 shrink-0"}),e.jsx("div",{className:"w-full",children:e.jsx("p",{className:"text-white/80 text-xs leading-tight px-2",children:p.message})}),e.jsx("div",{className:"h-4 shrink-0"}),e.jsxs("div",{className:"w-full flex flex-col gap-3",children:[e.jsxs(g.button,{onClick:j,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4},className:"w-full h-11 bg-orange-500 hover:bg-orange-600 text-white font-bold text-sm uppercase tracking-wide rounded-xl shadow-sm flex items-center justify-center gap-2 border border-white/10 transition-all",children:["SHARE",e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:e.jsx("path",{d:"M14 5V2L22 9L14 16V13C7 13 4 15 2 20C4 12 7 8 14 8V5Z"})})]}),e.jsx(g.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-blue-900/30 border border-white/10 rounded-lg p-2.5 mx-1 backdrop-blur-sm",children:e.jsx("p",{className:"text-white/90 text-xs leading-tight font-medium",children:"To know more about retirement-focused products, please connect with your relationship manager."})}),e.jsxs("button",{onClick:()=>window.location.href="tel:18002099999",className:"w-full h-11 bg-blue-600 hover:bg-blue-700 text-white font-bold text-sm uppercase tracking-wide rounded-xl shadow-sm flex items-center justify-center gap-2 border-2 border-transparent hover:border-white/20 transition-all",children:[e.jsx($,{className:"w-4 h-4 fill-current"}),"CALL NOW"]}),e.jsxs("button",{onClick:()=>s(!0),className:"w-full h-11 bg-amber-500 hover:bg-amber-600 text-white font-bold text-sm uppercase tracking-wide rounded-xl shadow-sm flex items-center justify-center gap-2 border-2 border-transparent hover:border-white/20 transition-all",children:[e.jsx(T,{className:"w-4 h-4"}),"BOOK SLOT"]}),e.jsx("button",{onClick:()=>{h(),t("/game")},className:"text-white/70 text-xs font-bold uppercase tracking-widest hover:text-white transition-colors underline underline-offset-4 mt-1",children:"Try Again"})]})]}),e.jsx(G,{isOpen:x,onClose:()=>s(!1),onSubmit:S,initialName:i,initialMobile:sessionStorage.getItem("lastSubmittedPhone")||""})]}),e.jsx(W,{children:c&&e.jsxs(g.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[120] px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 ${c.type==="error"?"bg-red-500":"bg-green-600"} text-white`,children:[c.type==="error"?e.jsx(A,{size:20,className:"stroke-[3]"}):e.jsx(E,{size:20,className:"stroke-[3]"}),e.jsx("span",{className:"font-bold text-sm",children:c.message})]})})]})});export{K as default};
