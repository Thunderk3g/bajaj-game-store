import{j as e,u as J,a as Q,r as a}from"./index-CZsPWhM9.js";import{l as ee,Z as S,m as te}from"./gameConstants-CqgX2NIO.js";import{c as m,A as C,m as d,X as B,C as se,L as ae,s as re}from"./api-zTLTOs61.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ne=m("calendar",le);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],oe=m("chevron-down",ie);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],de=m("chevron-up",ce);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],xe=m("phone",me);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pe=m("refresh-cw",he);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],be=m("share-2",ue);function fe({score:c,pct:o,zoneColor:x}){const n=2*Math.PI*60,w=n-o/100*n;return e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("div",{className:"relative",style:{width:140,height:140},children:[e.jsxs("svg",{width:"140",height:"140",style:{transform:"rotate(-90deg)"},children:[e.jsx("circle",{cx:"70",cy:"70",r:60,fill:"none",stroke:"rgba(255,255,255,0.08)",strokeWidth:"12"}),e.jsx("circle",{cx:"70",cy:"70",r:60,fill:"none",stroke:x,strokeWidth:"12",strokeLinecap:"round",strokeDasharray:n,strokeDashoffset:w,style:{transition:"stroke-dashoffset 1s ease-out, stroke 0.5s ease",filter:`drop-shadow(0 0 6px ${x})`}})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",style:{top:0},children:[e.jsxs("span",{className:"font-black",style:{fontSize:38,color:"#ffffff",lineHeight:1},children:[o,"%"]}),e.jsx("span",{style:{fontSize:11,color:"#90E0EF",fontWeight:600,letterSpacing:"0.05em",marginTop:4},children:"PREPARED"})]})]})})}function ge(c){return S.find(o=>c<o.maxPct)||S[S.length-1]}function ve(){const{state:c,dispatch:o,ACTIONS:x,PHASES:y}=J(),n=Q(),[w,E]=a.useState(!1),h=c.finalScore,_=Math.min(Math.round(h/ee*100),100),L=ge(_),p=sessionStorage.getItem("lastSubmittedName")||"",u=sessionStorage.getItem("lastSubmittedPhone")||"",[M,O]=a.useState(p||"Friend"),[ye,R]=a.useState(u);a.useEffect(()=>{c.phase===y.LANDING&&n("/"),O(p||"Friend"),R(u)},[c.phase,n,y,p,u]);const[z,j]=a.useState(!1),[k,$]=a.useState(!1),[D,F]=a.useState(!1),[N,I]=a.useState(!0),[q,b]=a.useState(!1),[r,P]=a.useState({}),[s,H]=a.useState({name:p,mobile:u,date:"",time:""}),f=(t,l)=>{H(i=>({...i,[t]:l})),r[t]&&P(i=>({...i,[t]:null}))},Y=()=>{const t={};return s.name.trim()?/^[A-Za-z\s]+$/.test(s.name.trim())||(t.name="Invalid name"):t.name="Name is required",s.mobile?/^\d{10}$/.test(s.mobile)||(t.mobile="Invalid Mobile Number"):t.mobile="Mobile is required",s.date||(t.date="Required"),s.time||(t.time="Required"),P(t),Object.keys(t).length===0},U=async t=>{if(t.preventDefault(),!!Y()&&N){F(!0);try{const l={name:s.name,mobile_no:s.mobile,param4:s.date,param19:s.time,summary_dtls:"Life Flight - Slot Booking",p_data_source:"LIFE_FLIGHT_BOOKING"};(await re(l)).success?(j(!1),o({type:x.SUBMIT_SUCCESS}),n("/success")):alert("Submission failed. Please try again.")}catch(l){console.error(l),alert("Something went wrong.")}finally{F(!1)}}},G=new Date().toISOString().split("T")[0],v=new Date;v.setMonth(v.getMonth()+1);const W=v.toISOString().split("T")[0],Z=async()=>{const t=te(h);if(navigator.share)try{await navigator.share({title:"Life Flight",text:t})}catch{}else try{await navigator.clipboard.writeText(t),E(!0)}catch{}},K=()=>{o({type:x.RESTART}),n("/")};return e.jsxs("div",{className:"h-full flex flex-col pb-6 no-scrollbar overflow-y-auto relative",style:{background:"linear-gradient(180deg, #00509E 0%, #003366 100%)"},children:[e.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none bg-cover bg-center opacity-60 mix-blend-overlay",style:{backgroundImage:"linear-gradient(radial-gradient, circle at center, rgba(255,255,255,0.2) 0%, transparent 70%)"}}),e.jsxs("div",{className:"relative z-10 px-5 pt-8 pb-4",children:[e.jsxs("div",{className:"text-center mb-6 shrink-0",children:[e.jsxs("h1",{className:"text-base sm:text-lg md:text-xl font-medium text-white uppercase tracking-wide italic mb-1",children:["Hi ",e.jsxs("span",{className:"ml-1 text-2xl sm:text-3xl md:text-4xl font-black",children:[M||"Player","!"]})]}),e.jsxs("h2",{className:"text-base sm:text-lg md:text-xl text-white uppercase tracking-wide italic mb-2",children:["You ",e.jsx("span",{className:"font-black text-lg sm:text-xl md:text-2xl text-[#00B4D8] drop-shadow-[0_0_10px_rgba(0,180,216,0.6)]",children:"crossed"})," ",h," Hurdles"]})]}),e.jsx("div",{className:"flex flex-col items-center mb-6",children:e.jsx(fe,{score:h,pct:_,zoneColor:L.color})}),e.jsxs("div",{className:"flex flex-col items-center mt-6 mb-8 w-full max-w-sm mx-auto",children:[e.jsxs("button",{onClick:()=>$(!k),className:"w-full py-4 px-6 rounded-full shadow-lg flex items-center justify-center gap-3 transition-all active:scale-95 z-20",style:{backgroundColor:"#07325F",border:"1px solid rgba(255,255,255,0.15)"},children:[e.jsx("span",{className:"text-sm font-black tracking-wide text-white font-sans",children:"WHAT COULD HAVE PROTECTED YOU"}),k?e.jsx(de,{className:"w-5 h-5 text-white"}):e.jsx(oe,{className:"w-5 h-5 text-white"})]}),e.jsx(C,{children:k&&e.jsx(d.div,{initial:{height:0,opacity:0,scaleY:.9,marginTop:0},animate:{height:"auto",opacity:1,scaleY:1,marginTop:8},exit:{height:0,opacity:0,scaleY:.9,marginTop:0,transition:{duration:.2}},className:"w-full overflow-hidden rounded-xl border border-white/20 origin-top shadow-xl z-10",children:e.jsxs("table",{className:"w-full text-left border-collapse text-[13px] leading-snug font-sans",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-white",style:{backgroundColor:"#48C053"},children:[e.jsx("th",{className:"p-3 px-4 font-bold border-r border-white/20",children:"Product"}),e.jsx("th",{className:"p-3 px-4 font-bold",children:"Benefit Line"})]})}),e.jsxs("tbody",{className:"text-[#07325F]",children:[e.jsxs("tr",{className:"bg-white border-b border-slate-200",children:[e.jsx("td",{className:"p-3 px-4 font-bold border-r border-slate-200 whitespace-nowrap",children:"Term Insurance"}),e.jsx("td",{className:"p-3 px-4 font-medium",children:"Your family stays protected even if you are not around"})]}),e.jsxs("tr",{className:"border-b border-slate-200",style:{backgroundColor:"#F8FAFC"},children:[e.jsx("td",{className:"p-3 px-4 font-bold border-r border-slate-200 whitespace-nowrap",children:"Critical Illness"}),e.jsx("td",{className:"p-3 px-4 font-medium",children:"Pays lump sum when treatment costs skyrocket"})]}),e.jsxs("tr",{className:"bg-white border-b border-slate-200",children:[e.jsx("td",{className:"p-3 px-4 font-bold border-r border-slate-200 whitespace-nowrap",children:"Accident Rider"}),e.jsx("td",{className:"p-3 px-4 font-medium",children:"Income continues even when you physically cannot work"})]}),e.jsxs("tr",{style:{backgroundColor:"#F8FAFC"},children:[e.jsx("td",{className:"p-3 px-4 font-bold border-r border-slate-200 whitespace-nowrap",children:"Savings Plans"}),e.jsx("td",{className:"p-3 px-4 font-medium",children:"Funds education, retirement and every milestone ahead"})]})]})]})})})]}),e.jsx(d.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex justify-center mt-6 mb-6",children:e.jsxs("button",{onClick:Z,className:"bg-gradient-to-r from-[#FF8C00] to-[#FF7000] hover:from-[#FF7000] hover:to-[#E65C00] text-white font-black py-2.5 px-8 shadow-[0_4px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center gap-3 text-sm sm:text-base border-2 border-white/20 uppercase tracking-widest rounded-md",children:[e.jsx(be,{className:"w-5 h-5"})," ",w?"COPIED!":"SHARE"]})}),e.jsxs(d.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-4 sm:p-6 shadow-[0_20px_50px_rgba(0,0,0,0.5)] border-4 border-white/50 mb-6 shrink-0 rounded-sm",children:[e.jsx("p",{className:"text-slate-600 text-[12px] sm:text-sm font-bold text-center mb-4 leading-relaxed",children:"To know more connect with our relationship manager"}),e.jsx("a",{href:"tel:18002097272",className:"block w-full mb-4",children:e.jsxs("button",{className:"w-full bg-[#0066B2] hover:bg-[#004C85] text-white font-black py-3 sm:py-4 shadow-[0_6px_0_#00335C] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-xs sm:text-base uppercase tracking-widest border-2 border-white/20 rounded-md",children:[e.jsx(xe,{className:"w-4 h-4 sm:w-5 sm:h-5"})," CALL NOW"]})}),e.jsxs("div",{className:"relative py-1 mb-3",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t-2 border-slate-50"})}),e.jsx("div",{className:"relative flex justify-center text-[8px] sm:text-xs uppercase",children:e.jsx("span",{className:"px-4 bg-white text-slate-400 font-black tracking-widest",children:"Or"})})]}),e.jsxs("button",{onClick:()=>j(!0),className:"w-full bg-[#FF8C00] hover:bg-[#FF7000] text-white font-black py-3 sm:py-4 shadow-[0_6px_0_#993D00] active:translate-y-1 active:shadow-none transition-all flex items-center justify-center gap-2 text-xs sm:text-base uppercase tracking-widest border-2 border-white/20 rounded-md",children:[e.jsx(ne,{className:"w-4 h-4 sm:w-5 sm:h-5"})," BOOK A SLOT"]})]}),e.jsx("div",{className:"shrink-0 text-center pb-2",children:e.jsxs("button",{onClick:K,className:"text-blue-100 hover:text-white text-[11px] sm:text-sm font-black uppercase tracking-[0.2em] transition-colors flex items-center justify-center gap-2 mx-auto drop-shadow-md",children:[e.jsx(pe,{className:"w-4 h-4"})," TRY AGAIN"]})})]}),e.jsx(C,{children:z&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:e.jsxs(d.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white p-6 w-full max-w-sm shadow-2xl relative border-4 border-[#00B4D8] rounded-3xl",children:[e.jsx("button",{onClick:()=>j(!1),className:"absolute right-4 top-4 text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(B,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-[#00B4D8] font-black text-center mb-6 text-lg uppercase tracking-tight pt-2",children:"Book a convenient slot"}),e.jsxs("form",{onSubmit:U,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[11px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Your Name"}),e.jsx("input",{value:s.name,onChange:t=>f("name",t.target.value),className:"w-full bg-slate-50 h-11 border-2 border-slate-200 rounded-xl text-slate-800 placeholder:text-slate-300 focus:outline-none focus:border-[#00B4D8] text-sm font-bold px-4 transition-all",placeholder:"Full Name"}),r.name&&e.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:r.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[11px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Mobile Number"}),e.jsx("input",{value:s.mobile,onChange:t=>{const l=t.target.value.replace(/\D/g,"").slice(0,10);f("mobile",l)},type:"tel",className:"w-full bg-slate-50 h-11 border-2 border-slate-200 rounded-xl text-slate-800 placeholder:text-slate-300 focus:outline-none focus:border-[#00B4D8] text-sm font-bold px-4 transition-all",placeholder:"9876543210"}),r.mobile&&e.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:r.mobile})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[11px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Preferred Date"}),e.jsx("input",{type:"date",min:G,max:W,value:s.date,onChange:t=>f("date",t.target.value),className:"w-full bg-slate-50 h-11 border-2 border-slate-200 rounded-xl text-slate-800 placeholder:text-slate-300 focus:outline-none focus:border-[#00B4D8] text-xs font-bold px-4 transition-all"}),r.date&&e.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:r.date})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[11px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Preferred Time"}),e.jsxs("select",{value:s.time,onChange:t=>f("time",t.target.value),className:"w-full bg-slate-50 h-11 border-2 border-slate-200 rounded-xl text-slate-800 focus:outline-none focus:border-[#00B4D8] text-xs font-bold px-4 appearance-none transition-all",children:[e.jsx("option",{value:"",children:"Select"}),[...Array(12)].map((t,l)=>{const i=9+l,X=i+1,T=g=>{const V=g>=12?"pm":"am";return`${g>12?g-12:g}:00 ${V}`},A=`${T(i)} - ${T(X)}`;return e.jsx("option",{value:A,children:A},i)})]}),r.time&&e.jsx("span",{className:"text-[10px] text-red-500 ml-1 font-black uppercase tracking-wider",children:r.time})]})]}),e.jsxs("div",{className:"flex items-start gap-2 pt-2 text-left",children:[e.jsxs("div",{className:"relative flex items-center shrink-0 pt-0.5",children:[e.jsx("input",{id:"modal-terms",type:"checkbox",checked:N,onChange:t=>I(t.target.checked),className:"peer h-5 w-5 cursor-pointer appearance-none rounded border-2 border-slate-300 bg-slate-50 transition-all checked:border-[#00B4D8] checked:bg-[#00B4D8] hover:border-[#00B4D8]"}),e.jsx(se,{className:"pointer-events-none absolute left-1/2 top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100",strokeWidth:4})]}),e.jsxs("label",{htmlFor:"modal-terms",className:"text-[11px] font-bold text-slate-500 leading-snug select-none pr-1",children:["I agree to the ",e.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-[#00B4D8] hover:underline font-black inline",children:"Terms & Conditions"})," and Privacy Policy."]})]}),e.jsx("button",{type:"submit",disabled:D||!N,className:"w-full mt-2 py-3.5 rounded-xl text-[16px] tracking-widest disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2 text-white uppercase font-black transition-all duration-300 shadow-xl",style:{background:"linear-gradient(135deg, #00B4D8 0%, #0077b6 100%)",border:"2px solid rgba(255,255,255,0.2)"},children:D?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Confirming..."})]}):"Confirm booking"})]})]})})}),e.jsx(C,{children:q&&e.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-md",onClick:()=>b(!1),children:e.jsxs(d.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:t=>t.stopPropagation(),className:"bg-white p-6 rounded-3xl max-w-sm w-full shadow-2xl border-4 border-[#00B4D8] relative text-left",children:[e.jsx("button",{onClick:()=>b(!1),className:"absolute top-4 right-4 p-1 text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(B,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-[#00B4D8] font-black text-xl uppercase mb-4 tracking-tight",children:"Terms & Conditions"}),e.jsx("div",{className:"text-sm text-slate-600 space-y-3 font-semibold leading-relaxed max-h-[50vh] overflow-y-auto pr-3 custom-scrollbar",children:e.jsx("p",{children:"I hereby authorize Bajaj Life Insurance Limited to call me on the contact number made available by me on the website with a specific request to call back. I further declare that, irrespective of my contact number being registered..."})}),e.jsx("button",{onClick:()=>{b(!1),I(!0)},className:"w-full mt-6 py-3.5 bg-[#00B4D8] text-white font-black rounded-xl hover:bg-[#0077b6] transition-colors text-base uppercase tracking-widest shadow-lg",children:"I Agree"})]})})})]})}export{ve as default};
