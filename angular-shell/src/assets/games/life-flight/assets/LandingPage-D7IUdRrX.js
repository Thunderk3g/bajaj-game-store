import{u as _,a as $,r as s,j as e}from"./index-CZsPWhM9.js";import{m as o,A as y,X as N,C as D,L as V,s as O}from"./api-zTLTOs61.js";const U=""+new URL("Life Leap Start Page-BzhGvV5A.png",import.meta.url).href,q={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.2}}},W={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};function K(){const{dispatch:P,ACTIONS:B}=_(),I=$(),[L,h]=s.useState(!1),[n,T]=s.useState(""),[i,A]=s.useState(""),[b,w]=s.useState(!0),[F,u]=s.useState(!1),j=s.useRef(null),[l,p]=s.useState({}),[k,v]=s.useState(!1),[x,z]=s.useState(()=>sessionStorage.getItem("lastSubmittedPhone")||null),[f,E]=s.useState(()=>sessionStorage.getItem("lastSubmittedName")||null),[c,S]=s.useState(null);s.useEffect(()=>{x&&sessionStorage.setItem("lastSubmittedPhone",x),f&&sessionStorage.setItem("lastSubmittedName",f)},[x,f]),s.useEffect(()=>{if(c){const t=setTimeout(()=>S(null),3e3);return()=>clearTimeout(t)}},[c]);const g=(t,a="error")=>{S({message:t,type:a})},R=()=>{h(!0)},C=()=>{P({type:B.START_GAME}),I("/game")},d=(t,a)=>{let r="";return t==="name"?a.trim()?/^[A-Za-z\s]+$/.test(a.trim())||(r="Name must contain only letters."):r="Please enter your name":t==="phone"&&(a?/^\d{10}$/.test(a)||(r="Enter a valid 10-digit mobile number"):r="Please enter mobile number"),r?(p(m=>({...m,[t]:r})),!1):(p(m=>({...m,[t]:""})),!0)},G=()=>{const t=d("name",n),a=d("phone",i);return t&&a},M=async t=>{if(t.preventDefault(),!!G()&&b){if(x===i){g("You have already registered.","info"),setTimeout(()=>{C()},1e3);return}v(!0);try{const a=new Date;a.setDate(a.getDate()+1);const r=a.toISOString().split("T")[0],m={name:n.trim(),mobile_no:i,param4:r,param19:"09:00 AM",summary_dtls:"Life Flight Game Lead",p_data_source:"LIFE_FLIGHT_LEAD"};(await O(m)).success?(z(i),E(n.trim()),sessionStorage.setItem("lastSubmittedPhone",i),sessionStorage.setItem("lastSubmittedName",n.trim()),C()):g("Submission failed. Please try again.")}catch(a){console.error(a),g("Something went wrong.")}finally{v(!1)}}};return e.jsxs(o.div,{className:"w-full flex-1 min-h-[100dvh] flex flex-col items-center justify-end pb-8 pt-8 relative overflow-hidden",variants:q,initial:"hidden",animate:"visible",style:{backgroundImage:`url(${U})`,backgroundSize:"100% 100%",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"#4FC3F7"},children:[e.jsx(o.div,{variants:W,className:"w-full max-w-sm z-10 px-8 text-center flex justify-center pb-8 mb-4",children:e.jsx("button",{onClick:R,className:"w-[85%] py-4 rounded-full font-black text-white hover:scale-105 active:scale-95 transition-transform duration-200 uppercase tracking-widest shadow-2xl flex items-center justify-center gap-2",style:{fontSize:22,background:"#12b886",border:"3px solid #ffffff",boxShadow:"0 8px 25px rgba(18, 184, 134, 0.4)",textShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:"Start Game"})}),e.jsx(y,{children:L&&e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm",onClick:()=>h(!1),children:e.jsxs(o.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:t=>t.stopPropagation(),className:"relative bg-white shadow-2xl w-full max-w-[320px] p-6 border-[5px] border-[#00B4D8] rounded-3xl",children:[e.jsx("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(N,{className:"w-6 h-6"})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-[#00B4D8] flex items-center justify-center mx-auto mb-4 shadow-lg border-4 border-white rounded-full",children:e.jsx("span",{className:"text-4xl",children:"ðŸŒ¤ï¸"})}),e.jsx("h2",{className:"text-[#00B4D8] text-2xl font-black mb-1 leading-tight tracking-tight",children:"Ready to Fly?"}),e.jsx("p",{className:"text-slate-500 font-bold text-[13px] leading-tight mt-1",children:"Enter your details to take off."})]}),e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5 text-left",children:[e.jsx("label",{className:"block text-slate-700 text-[11px] font-black uppercase tracking-widest ml-1",htmlFor:"userName",children:"Your Name"}),e.jsx("input",{id:"userName",type:"text",value:n,onChange:t=>{T(t.target.value),/^[A-Za-z\s]*$/.test(t.target.value)&&p(a=>({...a,name:""}))},onBlur:t=>d("name",t.target.value),onKeyDown:t=>{var a;t.key==="Enter"&&(t.preventDefault(),d("name",n)&&((a=j.current)==null||a.focus()))},placeholder:"Full Name",autoFocus:!0,className:`w-full px-4 py-3 border-4 ${l.name?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#00B4D8]"} focus:outline-none focus:ring-4 focus:ring-[#00B4D8]/20 text-slate-800 font-bold text-lg transition-all rounded-xl`}),l.name&&e.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-wider ml-1 mt-1",children:l.name})]}),e.jsxs("div",{className:"space-y-1.5 text-left",children:[e.jsx("label",{className:"block text-slate-700 text-[11px] font-black uppercase tracking-widest ml-1",htmlFor:"phone",children:"Mobile Number"}),e.jsx("input",{ref:j,id:"phone",type:"tel",maxLength:10,value:i,onChange:t=>{const a=t.target.value.replace(/\D/g,"").slice(0,10);A(a),p(r=>({...r,phone:""}))},onBlur:t=>d("phone",t.target.value),placeholder:"9876543210",className:`w-full px-4 py-3 border-4 ${l.phone?"border-red-400 focus:border-red-500 bg-red-50":"border-slate-100 focus:border-[#00B4D8]"} focus:outline-none focus:ring-4 focus:ring-[#00B4D8]/20 text-slate-800 font-bold text-lg transition-all rounded-xl`}),l.phone&&e.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-wider ml-1 mt-1",children:l.phone})]}),e.jsxs("div",{className:"flex items-start gap-2 pt-2 text-left",children:[e.jsxs("div",{className:"relative flex items-center shrink-0 pt-0.5",children:[e.jsx("input",{id:"terms",type:"checkbox",checked:b,onChange:t=>w(t.target.checked),className:"peer h-5 w-5 cursor-pointer appearance-none rounded border-2 border-slate-300 bg-slate-50 transition-all checked:border-[#00B4D8] checked:bg-[#00B4D8] hover:border-[#00B4D8]"}),e.jsx(D,{className:"pointer-events-none absolute left-1/2 top-1/2 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100",strokeWidth:4})]}),e.jsxs("label",{htmlFor:"terms",className:"text-[11px] font-bold text-slate-500 leading-snug select-none pr-1",children:["I agree to the"," ",e.jsx("button",{type:"button",onClick:()=>u(!0),className:"text-[#00B4D8] hover:underline font-black inline",children:"Terms & Conditions"})," ","and Privacy Policy."]})]}),e.jsx("button",{type:"submit",disabled:!n.trim()||i.length!==10||!b||k,className:"w-full mt-2 py-3.5 rounded-xl text-[16px] tracking-widest disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2 text-white uppercase font-black transition-all duration-300 shadow-xl",style:{background:"linear-gradient(135deg, #00B4D8 0%, #0077b6 100%)",border:"2px solid rgba(255,255,255,0.2)"},children:k?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Starting..."})]}):"Let's Fly!"})]})]})})}),e.jsx(y,{children:F&&e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-md",onClick:()=>u(!1),children:e.jsxs(o.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:t=>t.stopPropagation(),className:"bg-white p-6 rounded-3xl max-w-sm w-full shadow-2xl border-4 border-[#00B4D8] relative text-left",children:[e.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 p-1 text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(N,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-[#00B4D8] font-black text-xl uppercase mb-4 tracking-tight",children:"Terms & Conditions"}),e.jsxs("div",{className:"text-sm text-slate-600 space-y-3 font-semibold leading-relaxed max-h-[50vh] overflow-y-auto pr-3 custom-scrollbar",children:[e.jsx("p",{children:"I hereby authorize Bajaj Life Insurance Limited to call me on the contact number made available by me on the website with a specific request to call back. I further declare that, irrespective of my contact number being registered on National Customer Preference Register (NCPR) or on National Do Not Call Registry (NDNC), any call made, SMS or WhatsApp sent in response to my request shall not be construed as an Unsolicited Commercial Communication even though the content of the call may be for the purposes of explaining various insurance products and services or solicitation and procurement of insurance business."}),e.jsx("p",{children:"Please refer to BALIC Privacy Policy."})]}),e.jsx("button",{onClick:()=>{u(!1),w(!0)},className:"w-full mt-6 py-3.5 bg-[#00B4D8] text-white font-black rounded-xl hover:bg-[#0077b6] transition-colors text-base uppercase tracking-widest shadow-lg",children:"I Agree"})]})})}),e.jsx(y,{children:c&&e.jsxs(o.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`absolute bottom-8 left-1/2 -translate-x-1/2 z-[120] px-5 py-3 rounded-2xl shadow-2xl flex items-center gap-2 border-2 uppercase font-black tracking-wider text-xs ${c.type==="error"?"bg-red-50 border-red-200 text-red-600":"bg-blue-50 border-blue-200 text-blue-600"}`,children:[c.type==="error"?e.jsx(N,{size:18,className:"stroke-[3]"}):e.jsx(D,{size:18,className:"stroke-[3]"}),e.jsx("span",{children:c.message})]})})]})}export{K as default};
